(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Te,R,en,oe,kt,tn,Je,nn,ce={},rn=[],Br=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dt=Array.isArray;function ee(e,t){for(var n in t)e[n]=t[n];return e}function an(e){var t=e.parentNode;t&&t.removeChild(e)}function Ir(e,t,n){var r,o,a,i={};for(a in t)a=="key"?r=t[a]:a=="ref"?o=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?Te.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)i[a]===void 0&&(i[a]=e.defaultProps[a]);return Be(e,i,r,o,null)}function Be(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++en};return o==null&&R.vnode!=null&&R.vnode(a),a}function ie(e){return e.children}function Ie(e,t){this.props=e,this.context=t}function fe(e,t){if(t==null)return e.__?fe(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__d||n.__e;return typeof e.type=="function"?fe(e):null}function on(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return on(e)}}function Xe(e){(!e.__d&&(e.__d=!0)&&oe.push(e)&&!Re.__r++||kt!==R.debounceRendering)&&((kt=R.debounceRendering)||tn)(Re)}function Re(){var e,t,n,r,o,a,i,c,d;for(oe.sort(Je);e=oe.shift();)e.__d&&(t=oe.length,r=void 0,o=void 0,a=void 0,c=(i=(n=e).__v).__e,(d=n.__P)&&(r=[],o=[],(a=ee({},i)).__v=i.__v+1,ht(d,i,a,n.__n,d.ownerSVGElement!==void 0,i.__h!=null?[c]:null,r,c??fe(i),i.__h,o),un(r,i,o),i.__e!=c&&on(i)),oe.length>t&&oe.sort(Je));Re.__r=0}function sn(e,t,n,r,o,a,i,c,d,b,y){var f,N,m,p,_,E,w,v,S,B=0,P=r&&r.__k||rn,C=P.length,T=C,F=t.length;for(n.__k=[],f=0;f<F;f++)(p=n.__k[f]=(p=t[f])==null||typeof p=="boolean"||typeof p=="function"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Be(null,p,null,null,p):dt(p)?Be(ie,{children:p},null,null,null):p.__b>0?Be(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null?(p.__=n,p.__b=n.__b+1,(v=xr(p,P,w=f+B,T))===-1?m=ce:(m=P[v]||ce,P[v]=void 0,T--),ht(e,p,m,o,a,i,c,d,b,y),_=p.__e,(N=p.ref)&&m.ref!=N&&(m.ref&&gt(m.ref,null,p),y.push(N,p.__c||_,p)),_!=null&&(E==null&&(E=_),(S=m===ce||m.__v===null)?v==-1&&B--:v!==w&&(v===w+1?B++:v>w?T>F-w?B+=v-w:B--:B=v<w&&v==w-1?v-w:0),w=f+B,typeof p.type!="function"||v===w&&m.__k!==p.__k?typeof p.type=="function"||v===w&&!S?p.__d!==void 0?(d=p.__d,p.__d=void 0):d=_.nextSibling:d=ln(e,_,d):d=cn(p,d,e),typeof n.type=="function"&&(n.__d=d))):(m=P[f])&&m.key==null&&m.__e&&(m.__e==d&&(m.__=r,d=fe(m)),et(m,m,!1),P[f]=null);for(n.__e=E,f=C;f--;)P[f]!=null&&(typeof n.type=="function"&&P[f].__e!=null&&P[f].__e==n.__d&&(n.__d=P[f].__e.nextSibling),et(P[f],P[f]))}function cn(e,t,n){for(var r,o=e.__k,a=0;o&&a<o.length;a++)(r=o[a])&&(r.__=e,t=typeof r.type=="function"?cn(r,t,n):ln(n,r.__e,t));return t}function ln(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function xr(e,t,n,r){var o=e.key,a=e.type,i=n-1,c=n+1,d=t[n];if(d===null||d&&o==d.key&&a===d.type)return n;if(r>(d!=null?1:0))for(;i>=0||c<t.length;){if(i>=0){if((d=t[i])&&o==d.key&&a===d.type)return i;i--}if(c<t.length){if((d=t[c])&&o==d.key&&a===d.type)return c;c++}}return-1}function Pr(e,t,n,r,o){var a;for(a in n)a==="children"||a==="key"||a in t||De(e,a,null,n[a],r);for(a in t)o&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||De(e,a,t[a],n[a],r)}function Tt(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Br.test(t)?n:n+"px"}function De(e,t,n,r,o){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Tt(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Tt(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,a?Zt:$t,a)):e.removeEventListener(t,a?Zt:$t,a);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function $t(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(R.event?R.event(e):e)}function Zt(e){return this.l[e.type+!0](R.event?R.event(e):e)}function ht(e,t,n,r,o,a,i,c,d,b){var y,f,N,m,p,_,E,w,v,S,B,P,C,T,F,I=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(d=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(y=R.__b)&&y(t);e:if(typeof I=="function")try{if(w=t.props,v=(y=I.contextType)&&r[y.__c],S=y?v?v.props.value:y.__:r,n.__c?E=(f=t.__c=n.__c).__=f.__E:("prototype"in I&&I.prototype.render?t.__c=f=new I(w,S):(t.__c=f=new Ie(w,S),f.constructor=I,f.render=Rr),v&&v.sub(f),f.props=w,f.state||(f.state={}),f.context=S,f.__n=r,N=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),I.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ee({},f.__s)),ee(f.__s,I.getDerivedStateFromProps(w,f.__s))),m=f.props,p=f.state,f.__v=t,N)I.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(I.getDerivedStateFromProps==null&&w!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(w,S),!f.__e&&(f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(w,f.__s,S)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=w,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(Z){Z&&(Z.__=t)}),B=0;B<f._sb.length;B++)f.__h.push(f._sb[B]);f._sb=[],f.__h.length&&i.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(w,f.__s,S),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,p,_)})}if(f.context=S,f.props=w,f.__P=e,f.__e=!1,P=R.__r,C=0,"prototype"in I&&I.prototype.render){for(f.state=f.__s,f.__d=!1,P&&P(t),y=f.render(f.props,f.state,f.context),T=0;T<f._sb.length;T++)f.__h.push(f._sb[T]);f._sb=[]}else do f.__d=!1,P&&P(t),y=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++C<25);f.state=f.__s,f.getChildContext!=null&&(r=ee(ee({},r),f.getChildContext())),N||f.getSnapshotBeforeUpdate==null||(_=f.getSnapshotBeforeUpdate(m,p)),sn(e,dt(F=y!=null&&y.type===ie&&y.key==null?y.props.children:y)?F:[F],t,n,r,o,a,i,c,d,b),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),E&&(f.__E=f.__=null)}catch(Z){t.__v=null,(d||a!=null)&&(t.__e=c,t.__h=!!d,a[a.indexOf(c)]=null),R.__e(Z,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Er(n.__e,t,n,r,o,a,i,d,b);(y=R.diffed)&&y(t)}function un(e,t,n){for(var r=0;r<n.length;r++)gt(n[r],n[++r],n[++r]);R.__c&&R.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){R.__e(a,o.__v)}})}function Er(e,t,n,r,o,a,i,c,d){var b,y,f,N=n.props,m=t.props,p=t.type,_=0;if(p==="svg"&&(o=!0),a!=null){for(;_<a.length;_++)if((b=a[_])&&"setAttribute"in b==!!p&&(p?b.localName===p:b.nodeType===3)){e=b,a[_]=null;break}}if(e==null){if(p===null)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,m.is&&m),a=null,c=!1}if(p===null)N===m||c&&e.data===m||(e.data=m);else{if(a=a&&Te.call(e.childNodes),y=(N=n.props||ce).dangerouslySetInnerHTML,f=m.dangerouslySetInnerHTML,!c){if(a!=null)for(N={},_=0;_<e.attributes.length;_++)N[e.attributes[_].name]=e.attributes[_].value;(f||y)&&(f&&(y&&f.__html==y.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(Pr(e,m,N,o,c),f)t.__k=[];else if(sn(e,dt(_=t.props.children)?_:[_],t,n,r,o&&p!=="foreignObject",a,i,a?a[0]:n.__k&&fe(n,0),c,d),a!=null)for(_=a.length;_--;)a[_]!=null&&an(a[_]);c||("value"in m&&(_=m.value)!==void 0&&(_!==e.value||p==="progress"&&!_||p==="option"&&_!==N.value)&&De(e,"value",_,N.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==e.checked&&De(e,"checked",_,N.checked,!1))}return e}function gt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){R.__e(r,n)}}function et(e,t,n){var r,o;if(R.unmount&&R.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||gt(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){R.__e(a,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&et(r[o],t,n||typeof e.type!="function");n||e.__e==null||an(e.__e),e.__=e.__e=e.__d=void 0}function Rr(e,t,n){return this.constructor(e,n)}function Dr(e,t,n){var r,o,a,i;R.__&&R.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,a=[],i=[],ht(t,e=(!r&&n||t).__k=Ir(ie,null,[e]),o||ce,ce,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?Te.call(t.childNodes):null,a,!r&&n?n:o?o.__e:t.firstChild,r,i),un(a,e,i)}function Mr(e,t){var n={__c:t="__cC"+nn++,__:e,Consumer:function(r,o){return r.children(o)},Provider:function(r){var o,a;return this.getChildContext||(o=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&o.some(function(c){c.__e=!0,Xe(c)})},this.sub=function(i){o.push(i);var c=i.componentWillUnmount;i.componentWillUnmount=function(){o.splice(o.indexOf(i),1),c&&c.call(i)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Te=rn.slice,R={__e:function(e,t,n,r){for(var o,a,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(c){e=c}throw e}},en=0,Ie.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ee({},this.state),typeof e=="function"&&(e=e(ee({},n),this.props)),e&&ee(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Xe(this))},Ie.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Xe(this))},Ie.prototype.render=ie,oe=[],tn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Je=function(e,t){return e.__v.__b-t.__v.__b},Re.__r=0,nn=0;var me,L,Ve,Ut,tt=0,dn=[],xe=[],Lt=R.__b,Ft=R.__r,Gt=R.diffed,Ht=R.__c,Wt=R.unmount;function ft(e,t){R.__h&&R.__h(L,e,tt||t),tt=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:xe}),n.__[e]}function k(e){return tt=1,kr(hn,e)}function kr(e,t,n){var r=ft(me++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):hn(void 0,t),function(c){var d=r.__N?r.__N[0]:r.__[0],b=r.t(d,c);d!==b&&(r.__N=[b,r.__[1]],r.__c.setState({}))}],r.__c=L,!L.u)){var o=function(c,d,b){if(!r.__c.__H)return!0;var y=r.__c.__H.__.filter(function(N){return N.__c});if(y.every(function(N){return!N.__N}))return!a||a.call(this,c,d,b);var f=!1;return y.forEach(function(N){if(N.__N){var m=N.__[0];N.__=N.__N,N.__N=void 0,m!==N.__[0]&&(f=!0)}}),!(!f&&r.__c.props===c)&&(!a||a.call(this,c,d,b))};L.u=!0;var a=L.shouldComponentUpdate,i=L.componentWillUpdate;L.componentWillUpdate=function(c,d,b){if(this.__e){var y=a;a=void 0,o(c,d,b),a=y}i&&i.call(this,c,d,b)},L.shouldComponentUpdate=o}return r.__N||r.__}function ne(e,t){var n=ft(me++,3);!R.__s&&Ur(n.__H,t)&&(n.__=e,n.i=t,L.__H.__h.push(n))}function Tr(e){var t=L.context[e.__c],n=ft(me++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(L)),t.props.value):e.__}function $r(){for(var e;e=dn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pe),e.__H.__h.forEach(nt),e.__H.__h=[]}catch(t){e.__H.__h=[],R.__e(t,e.__v)}}R.__b=function(e){L=null,Lt&&Lt(e)},R.__r=function(e){Ft&&Ft(e),me=0;var t=(L=e.__c).__H;t&&(Ve===L?(t.__h=[],L.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=xe,n.__N=n.i=void 0})):(t.__h.forEach(Pe),t.__h.forEach(nt),t.__h=[],me=0)),Ve=L},R.diffed=function(e){Gt&&Gt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(dn.push(t)!==1&&Ut===R.requestAnimationFrame||((Ut=R.requestAnimationFrame)||Zr)($r)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==xe&&(n.__=n.__V),n.i=void 0,n.__V=xe})),Ve=L=null},R.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Pe),n.__h=n.__h.filter(function(r){return!r.__||nt(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],R.__e(r,n.__v)}}),Ht&&Ht(e,t)},R.unmount=function(e){Wt&&Wt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Pe(r)}catch(o){t=o}}),n.__H=void 0,t&&R.__e(t,n.__v))};var Ot=typeof requestAnimationFrame=="function";function Zr(e){var t,n=function(){clearTimeout(r),Ot&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Ot&&(t=requestAnimationFrame(n))}function Pe(e){var t=L,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),L=t}function nt(e){var t=L;e.__c=e.__(),L=t}function Ur(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function hn(e,t){return typeof t=="function"?t(e):t}let we=null;async function Q(){if(we)return we;const e="spayd-db",t=2;return new Promise((n,r)=>{const o=indexedDB.open(e,t);o.onerror=()=>{r(new Error("Failed to open database"))},o.onsuccess=()=>{we=o.result,n(we)},o.onupgradeneeded=a=>{const i=a.target.result;if(i.objectStoreNames.contains("accounts")||i.createObjectStore("accounts",{keyPath:"id",autoIncrement:!0}).createIndex("isDefault","isDefault",{unique:!1}),i.objectStoreNames.contains("events")||i.createObjectStore("events",{keyPath:"id",autoIncrement:!0}).createIndex("isDefault","isDefault",{unique:!1}),!i.objectStoreNames.contains("payments")){const c=i.createObjectStore("payments",{keyPath:"id",autoIncrement:!0});c.createIndex("accountId","accountId",{unique:!1}),c.createIndex("eventId","eventId",{unique:!1}),c.createIndex("createdAt","createdAt",{unique:!1})}if(!i.objectStoreNames.contains("syncQueue")){const c=i.createObjectStore("syncQueue",{keyPath:"id",autoIncrement:!0});c.createIndex("paymentId","paymentId",{unique:!1}),c.createIndex("status","status",{unique:!1})}i.objectStoreNames.contains("settings")||i.createObjectStore("settings",{keyPath:"key"})}})}async function gn(e){const t=await Q();return new Promise((n,r)=>{const i=t.transaction(e,"readonly").objectStore(e).getAll();i.onsuccess=()=>n(i.result),i.onerror=()=>r(i.error)})}async function $e(e,t){const n=await Q();return new Promise((r,o)=>{const c=n.transaction(e,"readonly").objectStore(e).get(t);c.onsuccess=()=>r(c.result),c.onerror=()=>o(c.error)})}async function Ze(e,t){const n=await Q();return new Promise((r,o)=>{const c=n.transaction(e,"readwrite").objectStore(e).add(t);c.onsuccess=()=>r(c.result),c.onerror=()=>o(c.error)})}async function mt(e,t){const n=await Q();return new Promise((r,o)=>{const c=n.transaction(e,"readwrite").objectStore(e).put(t);c.onsuccess=()=>r(),c.onerror=()=>o(c.error)})}async function pt(e,t){const n=await Q();return new Promise((r,o)=>{const c=n.transaction(e,"readwrite").objectStore(e).delete(t);c.onsuccess=()=>r(),c.onerror=()=>o(c.error)})}async function Ue(){return gn("accounts")}async function Lr(e){return $e("accounts",e)}async function fn(e){return Ze("accounts",e)}async function Fr(e){if(!e.id)throw new Error("Account ID is required for update");return e.updatedAt=Date.now(),mt("accounts",e)}async function Gr(e){return pt("accounts",e)}async function Le(){return gn("events")}async function Hr(e){return $e("events",e)}async function mn(e){return Ze("events",e)}async function pn(e){if(!e.id)throw new Error("Event ID is required for update");return e.updatedAt=Date.now(),mt("events",e)}async function Wr(e){return pt("events",e)}async function Or(e){console.log("[DB] Getting payments with filters",e);const t=await Q();return new Promise((n,r)=>{const a=t.transaction("payments","readonly").objectStore("payments");let i;e!=null&&e.accountId?i=a.index("accountId").getAll(e.accountId):e!=null&&e.eventId?i=a.index("eventId").getAll(e.eventId):i=a.getAll(),i.onsuccess=()=>{let c=i.result;e!=null&&e.accountId&&(e!=null&&e.eventId)&&(c=c.filter(d=>d.accountId===e.accountId&&d.eventId===e.eventId)),c.sort((d,b)=>b.createdAt-d.createdAt),n(c)},i.onerror=()=>r(i.error)})}async function Vr(e){console.log("[DB] Adding payment to IndexedDB",e);const t=await Ze("payments",e);return console.log("[DB] Payment added with ID:",t),t}async function Yr(e){return pt("payments",e)}async function pe(e){const t=await Q();return new Promise((n,r)=>{const a=t.transaction("syncQueue","readonly").objectStore("syncQueue");let i;e?i=a.index("status").getAll(e):i=a.getAll(),i.onsuccess=()=>n(i.result),i.onerror=()=>r(i.error)})}async function zr(e){return Ze("syncQueue",e)}async function Ee(e,t,n){const r=await $e("syncQueue",e);if(!r)throw new Error("Sync queue item not found");return r.status=t,r.lastAttempt=Date.now(),r.attempts=(r.attempts||0)+1,t==="acked"&&(r.ackedAt=Date.now()),n&&(r.error=n),mt("syncQueue",r)}async function Kr(e){const t=await pe(),n=await Q();return new Promise((r,o)=>{const i=n.transaction("syncQueue","readwrite").objectStore("syncQueue");let c=t;e!=null&&e.fromPaymentId&&!e.global?$e("payments",e.fromPaymentId).then(d=>{d&&(c=t.filter(b=>b.createdAt>=d.createdAt),Vt(i,c,r,o))}):Vt(i,c,r,o)})}function Vt(e,t,n,r){t.forEach(o=>{o.status="pending",o.attempts=0,o.lastAttempt=void 0,o.ackedAt=void 0,o.error=void 0;const a=e.put(o);a.onerror=()=>r(a.error)}),n()}async function Qr(e){const t=await Q();return new Promise((n,r)=>{const i=t.transaction("settings","readonly").objectStore("settings").get(e);i.onsuccess=()=>{const c=i.result;n(c?c.value:void 0)},i.onerror=()=>r(i.error)})}async function qr(e,t){const n=await Q();return new Promise((r,o)=>{const c=n.transaction("settings","readwrite").objectStore("settings").put({key:e,value:t});c.onsuccess=()=>r(),c.onerror=()=>o(c.error)})}async function jr(e="en"){console.log("[DB] Checking if sample data initialization is needed");const t=await Ue(),n=await Le();if(t.length===0&&n.length===0){console.log("[DB] Initializing database with sample data for locale:",e);const r=Date.now(),o={cs:{accounts:[{name:"HlavnÃ­ FiremnÃ­ ÃšÄet",iban:"CZ6508000000192000145399",currency:"CZK",isDefault:!0,createdAt:r,updatedAt:r},{name:"PÅ™Ã­jmy z WorkshopÅ¯",iban:"CZ9401000000001234567899",currency:"CZK",isDefault:!1,createdAt:r,updatedAt:r},{name:"MezinÃ¡rodnÃ­ ÃšÄet",iban:"SK3112000000198742637541",currency:"EUR",isDefault:!1,createdAt:r,updatedAt:r}],events:[{name:"Workshop 2024",staticSymbol:"543",vsMode:"counter",vsCounter:1,permanentAmount:450,isDefault:!0,createdAt:r,updatedAt:r},{name:"Registrace na Konferenci",staticSymbol:"789",vsMode:"time",vsCounter:1,permanentAmount:1200,isDefault:!1,createdAt:r,updatedAt:r},{name:"MÄ›sÃ­ÄnÃ­ ÄŒlenstvÃ­",staticSymbol:"999",vsMode:"static",vsCounter:1,vsStaticValue:"202411",permanentAmount:299,isDefault:!1,createdAt:r,updatedAt:r}]},en:{accounts:[{name:"Main Business Account",iban:"CZ6508000000192000145399",currency:"CZK",isDefault:!0,createdAt:r,updatedAt:r},{name:"Workshop Revenue",iban:"CZ9401000000001234567899",currency:"CZK",isDefault:!1,createdAt:r,updatedAt:r},{name:"International Account",iban:"SK3112000000198742637541",currency:"EUR",isDefault:!1,createdAt:r,updatedAt:r}],events:[{name:"Workshop 2024",staticSymbol:"543",vsMode:"counter",vsCounter:1,permanentAmount:450,isDefault:!0,createdAt:r,updatedAt:r},{name:"Conference Registration",staticSymbol:"789",vsMode:"time",vsCounter:1,permanentAmount:1200,isDefault:!1,createdAt:r,updatedAt:r},{name:"Monthly Membership",staticSymbol:"999",vsMode:"static",vsCounter:1,vsStaticValue:"202411",permanentAmount:299,isDefault:!1,createdAt:r,updatedAt:r}]}},{accounts:a,events:i}=o[e];for(const c of a)await fn(c),console.log("[DB] Created sample account:",c.name);for(const c of i)await mn(c),console.log("[DB] Created sample event:",c.name);console.log("[DB] Sample data initialization complete")}else console.log("[DB] Sample data not needed - database already has data")}/*!
 * @license
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. *//**
 * Validation, extraction and creation of IBAN, BBAN, BIC/SWIFT numbers plus some other helpful stuff
 * @package Documentation
 * @author SaÅ¡a JovaniÄ‡
 * @module ibantools
 * @version 4.3.4
 * @license MPL-2.0
 * @preferred
 */function Jr(e,t){if(t===void 0&&(t={allowQRIBAN:!0}),e==null)return!1;var n=new RegExp("^[0-9]{2}$",""),r=e.slice(0,2),o=yn[r];return o===void 0||o.bban_regexp===void 0||o.bban_regexp===null||o.chars===void 0?!1:o.chars===e.length&&n.test(e.slice(2,4))&&Xr(e.slice(4),r)&&na(e)&&(t.allowQRIBAN||!ea(e))}var Yt;(function(e){e[e.NoIBANProvided=0]="NoIBANProvided",e[e.NoIBANCountry=1]="NoIBANCountry",e[e.WrongBBANLength=2]="WrongBBANLength",e[e.WrongBBANFormat=3]="WrongBBANFormat",e[e.ChecksumNotNumber=4]="ChecksumNotNumber",e[e.WrongIBANChecksum=5]="WrongIBANChecksum",e[e.WrongAccountBankBranchChecksum=6]="WrongAccountBankBranchChecksum",e[e.QRIBANNotAllowed=7]="QRIBANNotAllowed"})(Yt||(Yt={}));function Xr(e,t){if(e==null||t===void 0||t===null)return!1;var n=yn[t];return n==null||n.bban_regexp===void 0||n.bban_regexp===null||n.chars===void 0||n.chars===null?!1:n.chars-4===e.length&&ta(e,n.bban_regexp)?n.bban_validation_func?n.bban_validation_func(e.replace(/[\s.]+/g,"")):!0:!1}function ea(e){if(e==null)return!1;var t=e.slice(0,2),n=["LI","CH"];if(!n.includes(t))return!1;var r=new RegExp("^3[0-1]{1}[0-9]{3}$","");return r.test(e.slice(4,9))}function ta(e,t){var n=new RegExp(t,"");return n.test(e)}function bn(e){return typeof e!="string"?null:e.replace(/[-\ ]/g,"").toUpperCase()}function rt(e,t){if(typeof e!="string")return null;t==null&&(t=" ");var n=bn(e);return n===null?null:n.replace(/(.{4})(?!$)/g,"$1"+t)}function na(e){var t=e.slice(0,2),n=parseInt(e.slice(2,4),10),r=e.slice(4),o=ra("".concat(r).concat(t,"00")),a=bt(o);return 98-a===n}function ra(e){return e.split("").map(function(t){var n=t.charCodeAt(0);return n>=65?(n-55).toString():t}).join("")}var zt;(function(e){e[e.NoBICProvided=0]="NoBICProvided",e[e.NoBICCountry=1]="NoBICCountry",e[e.WrongBICFormat=2]="WrongBICFormat"})(zt||(zt={}));var aa=function(e){for(var t=[5,4,3,2,7,6,5,4,3,2],n=e.replace(/[\s.]+/g,""),r=parseInt(n.charAt(10),10),o=n.substring(0,10),a=0,i=0;i<10;i++)a+=parseInt(o.charAt(i),10)*t[i];var c=a%11;return r===(c===0?0:11-c)},oa=function(e){var t=e.replace(/[\s.]+/g,""),n=parseInt(t.substring(0,t.length-2),10),r=parseInt(t.substring(t.length-2,t.length),10),o=n%97===0?97:n%97;return o===r},bt=function(e){for(;e.length>2;){var t=e.slice(0,6),n=parseInt(t,10);if(isNaN(n))return NaN;e=n%97+e.slice(t.length)}return parseInt(e,10)%97},se=function(e){var t=e.replace(/[\s.]+/g,""),n=bt(t);return n===1},ia=function(e){for(var t=[3,9,7,1,3,9,7],n=parseInt(e.charAt(7),10),r=e.substring(0,7),o=0,a=0;a<7;a++)o+=parseInt(r.charAt(a),10)*t[a];var i=o%10;return n===(i===0?0:10-i)},sa=function(e){for(var t=[4,8,5,10,9,7,3,6],n=[1,2,4,8,5,10,9,7,3,6],r=parseInt(e.charAt(8),10),o=parseInt(e.charAt(9),10),a=e.substring(0,8),i=e.substring(10,20),c=0,d=0;d<8;d++)c+=parseInt(a.charAt(d),10)*t[d];var b=c%11;if(r!==(b===0?0:b===1?1:11-b))return!1;c=0;for(var d=0;d<10;d++)c+=parseInt(i.charAt(d),10)*n[d];return b=c%11,o===(b===0?0:b===1?1:11-b)},Kt=function(e,t){for(var n=10,r=0;r<e.length;r++)n+=parseInt(e.charAt(r),10),n%10!==0&&(n=n%10),n=n*2,n=n%11;return t===(11-n===10?0:11-n)},ca=function(e){var t=parseInt(e.charAt(6),10),n=parseInt(e.charAt(16),10),r=e.substring(0,6),o=e.substring(7,16);return Kt(r,t)&&Kt(o,n)},Qt=function(e){for(var t=[10,5,8,4,2,1],n=[6,3,7,9,10,5,8,4,2,1],r=parseInt(e.charAt(9),10),o=parseInt(e.charAt(19),10),a=e.substring(4,9),i=e.substring(10,19),c=0,d=0;d<a.length;d++)c+=parseInt(a.charAt(d),10)*t[d];var b=c%11;if(r!==(b===0?0:b===1?1:11-b))return!1;c=0;for(var d=0;d<i.length;d++)c+=parseInt(i.charAt(d),10)*n[d];return b=c%11,o===(b===0?0:b===1?1:11-b)},la=function(e){for(var t=[7,1,3,7,1,3,7,1,3,7,1,3,7],n=parseInt(e.charAt(15),10),r=e.substring(2,15),o=0,a=0;a<r.length;a++)o+=parseInt(r.charAt(a),10)*t[a];var i=o%10;return n===(i===0?0:10-i)},qt=function(e){for(var t=e.replace(/[\s.]+/g,""),n=Array.from(t),r=0;r<t.length;r++){var o=n[r].charCodeAt(0);if(o>=65)switch(o){case 65:case 74:n[r]="1";break;case 66:case 75:case 83:n[r]="2";break;case 67:case 76:case 84:n[r]="3";break;case 68:case 77:case 85:n[r]="4";break;case 69:case 78:case 86:n[r]="5";break;case 70:case 79:case 87:n[r]="6";break;case 71:case 80:case 88:n[r]="7";break;case 72:case 81:case 89:n[r]="8";break;case 73:case 82:case 90:n[r]="9";break}}var a=bt(n.join(""));return a===0},ua=function(e){for(var t=[9,7,3,1,9,7,3,1,9,7,3,1,9,7,3],n=parseInt(e.charAt(7),10),r=e.substring(0,7),o=0,a=0;a<r.length;a++)o+=parseInt(r.charAt(a),10)*t[a];var i=o%10;if(n!==(i===0?0:10-i))return!1;if(o=0,e.endsWith("00000000")){for(var c=e.substring(8,15),d=parseInt(e.charAt(15),10),a=0;a<c.length;a++)o+=parseInt(c.charAt(a),10)*t[a];var b=o%10;return d===(b===0?0:10-b)}else{for(var c=e.substring(8,23),d=parseInt(e.charAt(23),10),a=0;a<c.length;a++)o+=parseInt(c.charAt(a),10)*t[a];var y=o%10;return d===(y===0?0:10-y)}},yn={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0},AF:{},AG:{},AI:{},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},AM:{},AO:{chars:25,bban_regexp:"^[0-9]{21}$"},AQ:{},AR:{},AS:{},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},AU:{},AW:{},AX:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[A-Z0-9]{20}$",IBANRegistry:!0},BA:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:se,IBANRegistry:!0},BB:{},BD:{},BE:{chars:16,bban_regexp:"^[0-9]{12}$",bban_validation_func:oa,IBANRegistry:!0,SEPA:!0},BF:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0,SEPA:!0},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0},BI:{chars:27,bban_regexp:"^[0-9]{23}$"},BJ:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},BM:{},BN:{},BO:{},BQ:{},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0},BS:{},BT:{},BV:{},BW:{},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0},BZ:{},CA:{},CC:{},CD:{},CF:{chars:27,bban_regexp:"^[0-9]{23}$"},CG:{chars:27,bban_regexp:"^[0-9]{23}$"},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},CK:{},CL:{},CM:{chars:27,bban_regexp:"^[0-9]{23}$"},CN:{},CO:{},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},CU:{},CV:{chars:25,bban_regexp:"^[0-9]{21}$"},CW:{},CX:{},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:Qt,IBANRegistry:!0,SEPA:!0},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,SEPA:!0},DJ:{chars:27,bban_regexp:"^[0-9]{23}$"},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},DM:{},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},DZ:{chars:26,bban_regexp:"^[0-9]{22}$"},EC:{},EE:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:la,IBANRegistry:!0,SEPA:!0},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0},EH:{},ER:{},ES:{chars:24,bban_validation_func:sa,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},ET:{},FI:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},FJ:{},FK:{chars:18,bban_regexp:"^[A-Z]{2}[0-9]{12}$"},FM:{},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:qt,IBANRegistry:!0,SEPA:!0},GA:{chars:27,bban_regexp:"^[0-9]{23}$"},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GD:{},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{},GH:{},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0,SEPA:!0},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},GM:{},GN:{},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$"},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},GS:{},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0},GU:{},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$"},GY:{},HK:{},HM:{},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},HR:{chars:21,bban_regexp:"^[0-9]{17}$",bban_validation_func:ca,IBANRegistry:!0,SEPA:!0},HT:{},HU:{chars:28,bban_regexp:"^[0-9]{24}$",bban_validation_func:ua,IBANRegistry:!0,SEPA:!0},ID:{},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},IM:{},IN:{},IO:{},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0},IR:{chars:26,bban_regexp:"^[0-9]{22}$"},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0,SEPA:!0},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},JE:{},JM:{},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0},JP:{},KE:{},KG:{},KH:{},KI:{},KM:{chars:27,bban_regexp:"^[0-9]{23}$"},KN:{},KP:{},KR:{},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0},KY:{},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LA:{},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},LK:{},LR:{},LS:{},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LY:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},MA:{chars:28,bban_regexp:"^[0-9]{24}$"},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:qt,IBANRegistry:!0,SEPA:!0},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},ME:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:se,IBANRegistry:!0},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$"},MH:{},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",bban_validation_func:se,IBANRegistry:!0},ML:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},MM:{},MN:{chars:20,bban_regexp:"^[0-9]{16}$"},MO:{},MP:{},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0},MS:{},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0,SEPA:!0},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0},MV:{},MW:{},MX:{},MY:{},MZ:{chars:25,bban_regexp:"^[0-9]{21}$"},NA:{},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},NF:{},NG:{},NI:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0,SEPA:!0},NO:{chars:15,bban_regexp:"^[0-9]{11}$",bban_validation_func:aa,IBANRegistry:!0,SEPA:!0},NP:{},NR:{},NU:{},NZ:{},OM:{},PA:{},PE:{},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{},PH:{},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},PL:{chars:28,bban_validation_func:ia,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{},PR:{},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0},PT:{chars:25,bban_regexp:"^[0-9]{21}$",bban_validation_func:se,IBANRegistry:!0,SEPA:!0},PW:{},PY:{},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},RS:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:se,IBANRegistry:!0},RU:{chars:33,bban_regexp:"^[0-9]{14}[A-Z0-9]{15}$",IBANRegistry:!0},RW:{},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},SB:{},SC:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{20}[A-Z]{3}$",IBANRegistry:!0},SD:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SG:{},SH:{},SI:{chars:19,bban_regexp:"^[0-9]{15}$",bban_validation_func:se,IBANRegistry:!0,SEPA:!0},SJ:{},SK:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:Qt,IBANRegistry:!0,SEPA:!0},SL:{},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},SN:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},SO:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},SR:{},SS:{},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},SX:{},SY:{},SZ:{},TC:{},TD:{chars:27,bban_regexp:"^[0-9]{23}$"},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},TH:{},TJ:{},TK:{},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},TM:{},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},TO:{},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{},TV:{},TW:{},TZ:{},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0},UG:{},UM:{},US:{},UY:{},UZ:{},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0,SEPA:!0},VC:{},VE:{},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},VI:{},VN:{},VU:{},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},YE:{},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{},ZM:{},ZW:{}},da=0;function s(e,t,n,r,o,a){var i,c,d={};for(c in t)c=="ref"?i=t[c]:d[c]=t[c];var b={type:e,props:d,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--da,__source:o,__self:a};if(typeof e=="function"&&(i=e.defaultProps))for(c in i)d[c]===void 0&&(d[c]=i[c]);return R.vnode&&R.vnode(b),b}function ha(){const[e,t]=k([]),[n,r]=k(!1),[o,a]=k(null),[i,c]=k({name:"",iban:"",currency:"CZK",webhookUrl:"",isDefault:!1}),[d,b]=k("");ne(()=>{y()},[]);async function y(){const _=await Ue();t(_)}function f(_){_?(a(_),c({name:_.name,iban:_.iban,currency:_.currency,webhookUrl:_.webhookUrl||"",isDefault:_.isDefault})):(a(null),c({name:"",iban:"",currency:"CZK",webhookUrl:"",isDefault:e.length===0})),b(""),r(!0)}function N(){r(!1),a(null),b("")}async function m(_){if(_.preventDefault(),b(""),!Jr(i.iban)){b("Invalid IBAN format");return}try{const E={...i,updatedAt:Date.now(),createdAt:(o==null?void 0:o.createdAt)||Date.now()};o?await Fr({...E,id:o.id}):await fn(E),await y(),N()}catch(E){b(E instanceof Error?E.message:"Failed to save account")}}async function p(_){_.id&&confirm(`Are you sure you want to delete account "${_.name}"?`)&&(await Gr(_.id),await y())}return s("div",{className:"fade-in",children:[s("div",{className:"flex justify-between items-center mb-lg",children:[s("h2",{children:"Bank Accounts"}),s("button",{className:"btn btn-primary",onClick:()=>f(),children:"+ Add Account"})]}),e.length===0?s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"ðŸ¦"}),s("h3",{children:"No accounts yet"}),s("p",{children:"Add your first bank account to start generating payments"})]}):s("div",{className:"grid grid-2",children:e.map(_=>s("div",{className:"card",children:[s("div",{className:"flex justify-between items-center mb-md",children:[s("h3",{className:"text-lg",children:_.name}),_.isDefault&&s("span",{className:"badge badge-acked",children:"Default"})]}),s("div",{className:"mb-sm",children:[s("div",{className:"text-sm text-secondary",children:"IBAN"}),s("div",{className:"font-mono text-sm",children:rt(_.iban)||_.iban})]}),s("div",{className:"mb-sm",children:[s("div",{className:"text-sm text-secondary",children:"Currency"}),s("div",{className:"text-sm",children:_.currency})]}),_.webhookUrl&&s("div",{className:"mb-sm",children:[s("div",{className:"text-sm text-secondary",children:"Webhook URL"}),s("div",{className:"text-sm font-mono",style:{wordBreak:"break-all"},children:_.webhookUrl})]}),s("div",{className:"flex gap-sm mt-md",children:[s("button",{className:"btn btn-secondary btn-sm",onClick:()=>f(_),children:"Edit"}),s("button",{className:"btn btn-danger btn-sm",onClick:()=>p(_),children:"Delete"})]})]},_.id))}),n&&s("div",{className:"modal-overlay",onClick:N,children:s("div",{className:"modal",onClick:_=>_.stopPropagation(),children:[s("div",{className:"modal-header",children:[s("h2",{className:"modal-title",children:o?"Edit Account":"Add Account"}),s("button",{className:"modal-close",onClick:N,children:"Ã—"})]}),s("form",{onSubmit:m,children:[s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Account Name"}),s("input",{type:"text",value:i.name,onInput:_=>c({...i,name:_.target.value}),placeholder:"e.g., Main Business Account",required:!0})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"IBAN"}),s("input",{type:"text",value:i.iban,onInput:_=>c({...i,iban:_.target.value}),placeholder:"CZ6508000000192000145399",required:!0}),s("div",{className:"form-help",children:"Enter the IBAN without spaces (e.g., CZ6508000000192000145399)"})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Currency"}),s("select",{value:i.currency,onChange:_=>c({...i,currency:_.target.value}),children:[s("option",{value:"CZK",children:"CZK"}),s("option",{value:"EUR",children:"EUR"}),s("option",{value:"USD",children:"USD"})]})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Webhook URL (Optional)"}),s("input",{type:"url",value:i.webhookUrl,onInput:_=>c({...i,webhookUrl:_.target.value}),placeholder:"https://api.example.com/webhook"}),s("div",{className:"form-help",children:"URL to send payment notifications (leave empty to disable sync)"})]}),s("div",{className:"form-group",children:s("label",{className:"flex items-center gap-sm",children:[s("input",{type:"checkbox",checked:i.isDefault,onChange:_=>c({...i,isDefault:_.target.checked})}),s("span",{className:"form-label",style:{marginBottom:0},children:"Set as default account"})]})}),d&&s("div",{className:"form-error mb-md",children:d}),s("div",{className:"flex gap-sm justify-between",children:[s("button",{type:"button",className:"btn btn-secondary",onClick:N,children:"Cancel"}),s("button",{type:"submit",className:"btn btn-primary",children:[o?"Update":"Create"," Account"]})]})]})]})})]})}function ga(){const[e,t]=k([]),[n,r]=k(!1),[o,a]=k(null),[i,c]=k({name:"",staticSymbol:"",vsMode:"counter",vsCounter:1,vsStaticValue:"",permanentAmount:"",isDefault:!1});ne(()=>{d()},[]);async function d(){const m=await Le();t(m)}function b(m){var p;m?(a(m),c({name:m.name,staticSymbol:m.staticSymbol,vsMode:m.vsMode,vsCounter:m.vsCounter,vsStaticValue:m.vsStaticValue||"",permanentAmount:((p=m.permanentAmount)==null?void 0:p.toString())||"",isDefault:m.isDefault})):(a(null),c({name:"",staticSymbol:"",vsMode:"counter",vsCounter:1,vsStaticValue:"",permanentAmount:"",isDefault:e.length===0})),r(!0)}function y(){r(!1),a(null)}async function f(m){m.preventDefault();const p={...i,permanentAmount:i.permanentAmount?parseFloat(i.permanentAmount):void 0,updatedAt:Date.now(),createdAt:(o==null?void 0:o.createdAt)||Date.now()};o?await pn({...p,id:o.id}):await mn(p),await d(),y()}async function N(m){m.id&&confirm(`Are you sure you want to delete event "${m.name}"?`)&&(await Wr(m.id),await d())}return s("div",{className:"fade-in",children:[s("div",{className:"flex justify-between items-center mb-lg",children:[s("h2",{children:"Payment Events"}),s("button",{className:"btn btn-primary",onClick:()=>b(),children:"+ Add Event"})]}),e.length===0?s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"ðŸ“…"}),s("h3",{children:"No events yet"}),s("p",{children:"Create your first payment event to organize payments"})]}):s("div",{className:"grid grid-2",children:e.map(m=>s("div",{className:"card",children:[s("div",{className:"flex justify-between items-center mb-md",children:[s("h3",{className:"text-lg",children:m.name}),m.isDefault&&s("span",{className:"badge badge-acked",children:"Default"})]}),s("div",{className:"mb-sm",children:[s("div",{className:"text-sm text-secondary",children:"Static Symbol (SS)"}),s("div",{className:"font-mono text-sm",children:m.staticSymbol})]}),s("div",{className:"mb-sm",children:[s("div",{className:"text-sm text-secondary",children:"VS Generation Mode"}),s("div",{className:"text-sm",children:[m.vsMode==="counter"&&`Counter (current: ${m.vsCounter})`,m.vsMode==="time"&&"Time-based (YYYYMMDDHHmmss)",m.vsMode==="static"&&`Static (${m.vsStaticValue})`]})]}),m.permanentAmount&&s("div",{className:"mb-sm",children:[s("div",{className:"text-sm text-secondary",children:"Permanent Amount"}),s("div",{className:"text-sm font-semibold",children:[m.permanentAmount," CZK"]})]}),s("div",{className:"flex gap-sm mt-md",children:[s("button",{className:"btn btn-secondary btn-sm",onClick:()=>b(m),children:"Edit"}),s("button",{className:"btn btn-danger btn-sm",onClick:()=>N(m),children:"Delete"})]})]},m.id))}),n&&s("div",{className:"modal-overlay",onClick:y,children:s("div",{className:"modal",onClick:m=>m.stopPropagation(),children:[s("div",{className:"modal-header",children:[s("h2",{className:"modal-title",children:o?"Edit Event":"Add Event"}),s("button",{className:"modal-close",onClick:y,children:"Ã—"})]}),s("form",{onSubmit:f,children:[s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Event Name"}),s("input",{type:"text",value:i.name,onInput:m=>c({...i,name:m.target.value}),placeholder:"e.g., Workshop 2024",required:!0})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Static Symbol (SS)"}),s("input",{type:"text",value:i.staticSymbol,onInput:m=>c({...i,staticSymbol:m.target.value}),placeholder:"e.g., 543",required:!0}),s("div",{className:"form-help",children:"Event identifier that stays constant for all payments"})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Variable Symbol Mode"}),s("select",{value:i.vsMode,onChange:m=>c({...i,vsMode:m.target.value}),children:[s("option",{value:"counter",children:"Counter (Sequential: 1, 2, 3...)"}),s("option",{value:"time",children:"Time-based (YYYYMMDDHHmmss)"}),s("option",{value:"static",children:"Static (Same value)"})]})]}),i.vsMode==="counter"&&s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Starting Counter Value"}),s("input",{type:"number",value:i.vsCounter,onInput:m=>c({...i,vsCounter:parseInt(m.target.value)||1}),min:"1"})]}),i.vsMode==="static"&&s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Static VS Value"}),s("input",{type:"text",value:i.vsStaticValue,onInput:m=>c({...i,vsStaticValue:m.target.value}),placeholder:"e.g., 123456",required:!0})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Permanent Amount (Optional)"}),s("input",{type:"number",step:"0.01",value:i.permanentAmount,onInput:m=>c({...i,permanentAmount:m.target.value}),placeholder:"e.g., 450.00"}),s("div",{className:"form-help",children:"Set a recurring amount for quick payment generation"})]}),s("div",{className:"form-group",children:s("label",{className:"flex items-center gap-sm",children:[s("input",{type:"checkbox",checked:i.isDefault,onChange:m=>c({...i,isDefault:m.target.checked})}),s("span",{className:"form-label",style:{marginBottom:0},children:"Set as default event"})]})}),s("div",{className:"flex gap-sm justify-between",children:[s("button",{type:"button",className:"btn btn-secondary",onClick:y,children:"Cancel"}),s("button",{type:"submit",className:"btn btn-primary",children:[o?"Update":"Create"," Event"]})]})]})]})})]})}var fa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ma(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _n={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(fa,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */var n,r,o=function(l,u){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(h[A]=g[A])})(l,u)};function a(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=l}o(l,u),l.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}/*!
     * @license
     * This Source Code Form is subject to the terms of the Mozilla Public
     * License, v. 2.0. If a copy of the MPL was not distributed with this
     * file, You can obtain one at http://mozilla.org/MPL/2.0/. */function i(l){if(l!=null){var u=new RegExp("^[0-9]{2}$",""),h=c[l.slice(0,2)];if(h!==void 0&&h.bban_regexp&&h.bban_regexp!==null&&h.chars&&h.chars===l.length&&u.test(l.slice(2,4))&&(g=l.slice(4),A=h.bban_regexp,new RegExp(A,"").test(g))&&function(x){for(var M=parseInt(x.slice(2,4),10),$=x.slice(3)+x.slice(0,2)+"00",D="",U=1;U<$.length;U++){var z=$.charCodeAt(U);D+=z>=65?(z-55).toString():$[U]}for(;D.length>2;){var G=D.slice(0,6);D=(parseInt(G,10)%97).toString()+D.slice(G.length)}return 98-parseInt(D,10)%97===M}(l))return!0}var g,A;return!1}(function(l){l[l.NoIBANProvided=0]="NoIBANProvided",l[l.NoIBANCountry=1]="NoIBANCountry",l[l.WrongBBANLength=2]="WrongBBANLength",l[l.WrongBBANFormat=3]="WrongBBANFormat",l[l.ChecksumNotNumber=4]="ChecksumNotNumber",l[l.WrongIBANChecksum=5]="WrongIBANChecksum"})(n||(n={})),function(l){l[l.NoBICProvided=0]="NoBICProvided",l[l.NoBICCountry=1]="NoBICCountry",l[l.WrongBICFormat=2]="WrongBICFormat"}(r||(r={}));var c={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0},AF:{},AG:{},AI:{},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},AM:{},AO:{chars:25,bban_regexp:"^[0-9]{21}$"},AQ:{},AR:{},AS:{},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},AU:{},AW:{},AX:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[A-Z0-9]{20}$",IBANRegistry:!0},BA:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},BB:{},BD:{},BE:{chars:16,bban_regexp:"^[0-9]{12}$",IBANRegistry:!0,SEPA:!0},BF:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0},BI:{chars:16,bban_regexp:"^[0-9]{12}$"},BJ:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},BM:{},BN:{},BO:{},BQ:{},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0},BS:{},BT:{},BV:{},BW:{},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0},BZ:{},CA:{},CC:{},CD:{},CF:{chars:27,bban_regexp:"^[0-9]{23}$"},CG:{chars:27,bban_regexp:"^[0-9]{23}$"},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},CK:{},CL:{},CM:{chars:27,bban_regexp:"^[0-9]{23}$"},CN:{},CO:{},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},CU:{},CV:{chars:25,bban_regexp:"^[0-9]{21}$"},CW:{},CX:{},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,SEPA:!0},DJ:{chars:27,bban_regexp:"^[0-9]{23}$"},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},DM:{},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},DZ:{chars:26,bban_regexp:"^[0-9]{22}$"},EC:{},EE:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0},EH:{},ER:{},ES:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},ET:{},FI:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},FJ:{},FK:{},FM:{},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0,SEPA:!0},GA:{chars:27,bban_regexp:"^[0-9]{23}$"},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GD:{},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{},GH:{},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0,SEPA:!0},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GM:{},GN:{},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$"},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},GS:{},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0},GU:{},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$"},GY:{},HK:{},HM:{},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},HR:{chars:21,bban_regexp:"^[0-9]{17}$",IBANRegistry:!0,SEPA:!0},HT:{},HU:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},ID:{},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},IM:{},IN:{},IO:{},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0},IR:{chars:26,bban_regexp:"^[0-9]{22}$"},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0,SEPA:!0},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},JE:{},JM:{},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0},JP:{},KE:{},KG:{},KH:{},KI:{},KM:{chars:27,bban_regexp:"^[0-9]{23}$"},KN:{},KP:{},KR:{},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0},KY:{},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LA:{},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},LK:{},LR:{},LS:{},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LY:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},MA:{chars:28,bban_regexp:"^[0-9]{24}$"},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0,SEPA:!0},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},ME:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$"},MH:{},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",IBANRegistry:!0},ML:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},MM:{},MN:{},MO:{},MP:{},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0},MS:{},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0,SEPA:!0},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0},MV:{},MW:{},MX:{},MY:{},MZ:{chars:25,bban_regexp:"^[0-9]{21}$"},NA:{},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},NF:{},NG:{},NI:{chars:32,bban_regexp:"^[A-Z]{4}[0-9]{24}$"},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0,SEPA:!0},NO:{chars:15,bban_regexp:"^[0-9]{11}$",IBANRegistry:!0,SEPA:!0},NP:{},NR:{},NU:{},NZ:{},OM:{},PA:{},PE:{},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{},PH:{},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},PL:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{},PR:{},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0},PT:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0,SEPA:!0},PW:{},PY:{},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},RS:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},RU:{},RW:{},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},SB:{},SC:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{20}[A-Z]{3}$",IBANRegistry:!0},SD:{},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SG:{},SH:{},SI:{chars:19,bban_regexp:"^[0-9]{15}$",IBANRegistry:!0,SEPA:!0},SJ:{},SK:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SL:{},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},SN:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},SO:{},SR:{},SS:{},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},SX:{},SY:{},SZ:{},TC:{},TD:{chars:27,bban_regexp:"^[0-9]{23}$"},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},TH:{},TJ:{},TK:{},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},TM:{},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},TO:{},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{},TV:{},TW:{},TZ:{},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0},UG:{},UM:{},US:{},UY:{},UZ:{},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0},VC:{},VE:{},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},VI:{},VN:{},VU:{},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},YE:{},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{},ZM:{},ZW:{}};function d(l,u){if(u.length<l)throw new TypeError(l+" argument"+(l>1?"s":"")+" required, but only "+u.length+" present")}function b(l){d(1,arguments);var u=Object.prototype.toString.call(l);return l instanceof Date||typeof l=="object"&&u==="[object Date]"?new Date(l.getTime()):typeof l=="number"||u==="[object Number]"?new Date(l):(typeof l!="string"&&u!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function y(l){d(1,arguments);var u=b(l);return!isNaN(u)}var f={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function N(l){return function(u){var h=u||{},g=h.width?String(h.width):l.defaultWidth;return l.formats[g]||l.formats[l.defaultWidth]}}var m={date:N({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:N({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:N({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},p={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function _(l){return function(u,h){var g,A=h||{};if((A.context?String(A.context):"standalone")==="formatting"&&l.formattingValues){var x=l.defaultFormattingWidth||l.defaultWidth,M=A.width?String(A.width):x;g=l.formattingValues[M]||l.formattingValues[x]}else{var $=l.defaultWidth,D=A.width?String(A.width):l.defaultWidth;g=l.values[D]||l.values[$]}return g[l.argumentCallback?l.argumentCallback(u):u]}}function E(l){return function(u,h){var g=String(u),A=h||{},x=A.width,M=x&&l.matchPatterns[x]||l.matchPatterns[l.defaultMatchWidth],$=g.match(M);if(!$)return null;var D,U=$[0],z=x&&l.parsePatterns[x]||l.parsePatterns[l.defaultParseWidth];return D=Object.prototype.toString.call(z)==="[object Array]"?function(G,j){for(var K=0;K<G.length;K++)if(j(G[K]))return K}(z,function(G){return G.test(U)}):function(G,j){for(var K in G)if(G.hasOwnProperty(K)&&j(G[K]))return K}(z,function(G){return G.test(U)}),D=l.valueCallback?l.valueCallback(D):D,{value:D=A.valueCallback?A.valueCallback(D):D,rest:g.slice(U.length)}}}var w,v={code:"en-US",formatDistance:function(l,u,h){var g;return h=h||{},g=typeof f[l]=="string"?f[l]:u===1?f[l].one:f[l].other.replace("{{count}}",u),h.addSuffix?h.comparison>0?"in "+g:g+" ago":g},formatLong:m,formatRelative:function(l,u,h,g){return p[l]},localize:{ordinalNumber:function(l,u){var h=Number(l),g=h%100;if(g>20||g<10)switch(g%10){case 1:return h+"st";case 2:return h+"nd";case 3:return h+"rd"}return h+"th"},era:_({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:_({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(l){return Number(l)-1}}),month:_({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:_({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:_({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(w={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(l){return parseInt(l,10)}},function(l,u){var h=String(l),g=u||{},A=h.match(w.matchPattern);if(!A)return null;var x=A[0],M=h.match(w.parsePattern);if(!M)return null;var $=w.valueCallback?w.valueCallback(M[0]):M[0];return{value:$=g.valueCallback?g.valueCallback($):$,rest:h.slice(x.length)}}),era:E({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:E({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(l){return l+1}}),month:E({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:E({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:E({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function S(l){if(l===null||l===!0||l===!1)return NaN;var u=Number(l);return isNaN(u)?u:u<0?Math.ceil(u):Math.floor(u)}function B(l,u){d(2,arguments);var h=b(l).getTime(),g=S(u);return new Date(h+g)}function P(l,u){d(2,arguments);var h=S(u);return B(l,-h)}function C(l,u){for(var h=l<0?"-":"",g=Math.abs(l).toString();g.length<u;)g="0"+g;return h+g}var T=function(l,u){var h=l.getUTCFullYear(),g=h>0?h:1-h;return C(u==="yy"?g%100:g,u.length)},F=function(l,u){var h=l.getUTCMonth();return u==="M"?String(h+1):C(h+1,2)},I=function(l,u){return C(l.getUTCDate(),u.length)},Z=function(l,u){return C(l.getUTCHours()%12||12,u.length)},Y=function(l,u){return C(l.getUTCHours(),u.length)},J=function(l,u){return C(l.getUTCMinutes(),u.length)},H=function(l,u){return C(l.getUTCSeconds(),u.length)},Un=function(l,u){var h=u.length,g=l.getUTCMilliseconds();return C(Math.floor(g*Math.pow(10,h-3)),u.length)},Ln=864e5;function ve(l){d(1,arguments);var u=1,h=b(l),g=h.getUTCDay(),A=(g<u?7:0)+g-u;return h.setUTCDate(h.getUTCDate()-A),h.setUTCHours(0,0,0,0),h}function wt(l){d(1,arguments);var u=b(l),h=u.getUTCFullYear(),g=new Date(0);g.setUTCFullYear(h+1,0,4),g.setUTCHours(0,0,0,0);var A=ve(g),x=new Date(0);x.setUTCFullYear(h,0,4),x.setUTCHours(0,0,0,0);var M=ve(x);return u.getTime()>=A.getTime()?h+1:u.getTime()>=M.getTime()?h:h-1}function Fn(l){d(1,arguments);var u=wt(l),h=new Date(0);h.setUTCFullYear(u,0,4),h.setUTCHours(0,0,0,0);var g=ve(h);return g}var Gn=6048e5;function Ae(l,u){d(1,arguments);var h=u||{},g=h.locale,A=g&&g.options&&g.options.weekStartsOn,x=A==null?0:S(A),M=h.weekStartsOn==null?x:S(h.weekStartsOn);if(!(M>=0&&M<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var $=b(l),D=$.getUTCDay(),U=(D<M?7:0)+D-M;return $.setUTCDate($.getUTCDate()-U),$.setUTCHours(0,0,0,0),$}function St(l,u){d(1,arguments);var h=b(l,u),g=h.getUTCFullYear(),A=u||{},x=A.locale,M=x&&x.options&&x.options.firstWeekContainsDate,$=M==null?1:S(M),D=A.firstWeekContainsDate==null?$:S(A.firstWeekContainsDate);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=new Date(0);U.setUTCFullYear(g+1,0,D),U.setUTCHours(0,0,0,0);var z=Ae(U,u),G=new Date(0);G.setUTCFullYear(g,0,D),G.setUTCHours(0,0,0,0);var j=Ae(G,u);return h.getTime()>=z.getTime()?g+1:h.getTime()>=j.getTime()?g:g-1}function Hn(l,u){d(1,arguments);var h=u||{},g=h.locale,A=g&&g.options&&g.options.firstWeekContainsDate,x=A==null?1:S(A),M=h.firstWeekContainsDate==null?x:S(h.firstWeekContainsDate),$=St(l,u),D=new Date(0);D.setUTCFullYear($,0,M),D.setUTCHours(0,0,0,0);var U=Ae(D,u);return U}var Wn=6048e5,On="midnight",Vn="noon",Yn="morning",zn="afternoon",Kn="evening",Qn="night",qn={G:function(l,u,h){var g=l.getUTCFullYear()>0?1:0;switch(u){case"G":case"GG":case"GGG":return h.era(g,{width:"abbreviated"});case"GGGGG":return h.era(g,{width:"narrow"});case"GGGG":default:return h.era(g,{width:"wide"})}},y:function(l,u,h){if(u==="yo"){var g=l.getUTCFullYear(),A=g>0?g:1-g;return h.ordinalNumber(A,{unit:"year"})}return T(l,u)},Y:function(l,u,h,g){var A=St(l,g),x=A>0?A:1-A;return u==="YY"?C(x%100,2):u==="Yo"?h.ordinalNumber(x,{unit:"year"}):C(x,u.length)},R:function(l,u){return C(wt(l),u.length)},u:function(l,u){return C(l.getUTCFullYear(),u.length)},Q:function(l,u,h){var g=Math.ceil((l.getUTCMonth()+1)/3);switch(u){case"Q":return String(g);case"QQ":return C(g,2);case"Qo":return h.ordinalNumber(g,{unit:"quarter"});case"QQQ":return h.quarter(g,{width:"abbreviated",context:"formatting"});case"QQQQQ":return h.quarter(g,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(g,{width:"wide",context:"formatting"})}},q:function(l,u,h){var g=Math.ceil((l.getUTCMonth()+1)/3);switch(u){case"q":return String(g);case"qq":return C(g,2);case"qo":return h.ordinalNumber(g,{unit:"quarter"});case"qqq":return h.quarter(g,{width:"abbreviated",context:"standalone"});case"qqqqq":return h.quarter(g,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(g,{width:"wide",context:"standalone"})}},M:function(l,u,h){var g=l.getUTCMonth();switch(u){case"M":case"MM":return F(l,u);case"Mo":return h.ordinalNumber(g+1,{unit:"month"});case"MMM":return h.month(g,{width:"abbreviated",context:"formatting"});case"MMMMM":return h.month(g,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(g,{width:"wide",context:"formatting"})}},L:function(l,u,h){var g=l.getUTCMonth();switch(u){case"L":return String(g+1);case"LL":return C(g+1,2);case"Lo":return h.ordinalNumber(g+1,{unit:"month"});case"LLL":return h.month(g,{width:"abbreviated",context:"standalone"});case"LLLLL":return h.month(g,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(g,{width:"wide",context:"standalone"})}},w:function(l,u,h,g){var A=function(x,M){d(1,arguments);var $=b(x),D=Ae($,M).getTime()-Hn($,M).getTime();return Math.round(D/Wn)+1}(l,g);return u==="wo"?h.ordinalNumber(A,{unit:"week"}):C(A,u.length)},I:function(l,u,h){var g=function(A){d(1,arguments);var x=b(A),M=ve(x).getTime()-Fn(x).getTime();return Math.round(M/Gn)+1}(l);return u==="Io"?h.ordinalNumber(g,{unit:"week"}):C(g,u.length)},d:function(l,u,h){return u==="do"?h.ordinalNumber(l.getUTCDate(),{unit:"date"}):I(l,u)},D:function(l,u,h){var g=function(A){d(1,arguments);var x=b(A),M=x.getTime();x.setUTCMonth(0,1),x.setUTCHours(0,0,0,0);var $=x.getTime(),D=M-$;return Math.floor(D/Ln)+1}(l);return u==="Do"?h.ordinalNumber(g,{unit:"dayOfYear"}):C(g,u.length)},E:function(l,u,h){var g=l.getUTCDay();switch(u){case"E":case"EE":case"EEE":return h.day(g,{width:"abbreviated",context:"formatting"});case"EEEEE":return h.day(g,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(g,{width:"short",context:"formatting"});case"EEEE":default:return h.day(g,{width:"wide",context:"formatting"})}},e:function(l,u,h,g){var A=l.getUTCDay(),x=(A-g.weekStartsOn+8)%7||7;switch(u){case"e":return String(x);case"ee":return C(x,2);case"eo":return h.ordinalNumber(x,{unit:"day"});case"eee":return h.day(A,{width:"abbreviated",context:"formatting"});case"eeeee":return h.day(A,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(A,{width:"short",context:"formatting"});case"eeee":default:return h.day(A,{width:"wide",context:"formatting"})}},c:function(l,u,h,g){var A=l.getUTCDay(),x=(A-g.weekStartsOn+8)%7||7;switch(u){case"c":return String(x);case"cc":return C(x,u.length);case"co":return h.ordinalNumber(x,{unit:"day"});case"ccc":return h.day(A,{width:"abbreviated",context:"standalone"});case"ccccc":return h.day(A,{width:"narrow",context:"standalone"});case"cccccc":return h.day(A,{width:"short",context:"standalone"});case"cccc":default:return h.day(A,{width:"wide",context:"standalone"})}},i:function(l,u,h){var g=l.getUTCDay(),A=g===0?7:g;switch(u){case"i":return String(A);case"ii":return C(A,u.length);case"io":return h.ordinalNumber(A,{unit:"day"});case"iii":return h.day(g,{width:"abbreviated",context:"formatting"});case"iiiii":return h.day(g,{width:"narrow",context:"formatting"});case"iiiiii":return h.day(g,{width:"short",context:"formatting"});case"iiii":default:return h.day(g,{width:"wide",context:"formatting"})}},a:function(l,u,h){var g=l.getUTCHours()/12>=1?"pm":"am";switch(u){case"a":case"aa":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"aaa":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},b:function(l,u,h){var g,A=l.getUTCHours();switch(g=A===12?Vn:A===0?On:A/12>=1?"pm":"am",u){case"b":case"bb":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"bbb":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},B:function(l,u,h){var g,A=l.getUTCHours();switch(g=A>=17?Kn:A>=12?zn:A>=4?Yn:Qn,u){case"B":case"BB":case"BBB":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"BBBBB":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},h:function(l,u,h){if(u==="ho"){var g=l.getUTCHours()%12;return g===0&&(g=12),h.ordinalNumber(g,{unit:"hour"})}return Z(l,u)},H:function(l,u,h){return u==="Ho"?h.ordinalNumber(l.getUTCHours(),{unit:"hour"}):Y(l,u)},K:function(l,u,h){var g=l.getUTCHours()%12;return u==="Ko"?h.ordinalNumber(g,{unit:"hour"}):C(g,u.length)},k:function(l,u,h){var g=l.getUTCHours();return g===0&&(g=24),u==="ko"?h.ordinalNumber(g,{unit:"hour"}):C(g,u.length)},m:function(l,u,h){return u==="mo"?h.ordinalNumber(l.getUTCMinutes(),{unit:"minute"}):J(l,u)},s:function(l,u,h){return u==="so"?h.ordinalNumber(l.getUTCSeconds(),{unit:"second"}):H(l,u)},S:function(l,u){return Un(l,u)},X:function(l,u,h,g){var A=(g._originalDate||l).getTimezoneOffset();if(A===0)return"Z";switch(u){case"X":return Bt(A);case"XXXX":case"XX":return ae(A);case"XXXXX":case"XXX":default:return ae(A,":")}},x:function(l,u,h,g){var A=(g._originalDate||l).getTimezoneOffset();switch(u){case"x":return Bt(A);case"xxxx":case"xx":return ae(A);case"xxxxx":case"xxx":default:return ae(A,":")}},O:function(l,u,h,g){var A=(g._originalDate||l).getTimezoneOffset();switch(u){case"O":case"OO":case"OOO":return"GMT"+Ct(A,":");case"OOOO":default:return"GMT"+ae(A,":")}},z:function(l,u,h,g){var A=(g._originalDate||l).getTimezoneOffset();switch(u){case"z":case"zz":case"zzz":return"GMT"+Ct(A,":");case"zzzz":default:return"GMT"+ae(A,":")}},t:function(l,u,h,g){var A=g._originalDate||l;return C(Math.floor(A.getTime()/1e3),u.length)},T:function(l,u,h,g){return C((g._originalDate||l).getTime(),u.length)}};function Ct(l,u){var h=l>0?"-":"+",g=Math.abs(l),A=Math.floor(g/60),x=g%60;if(x===0)return h+String(A);var M=u||"";return h+String(A)+M+C(x,2)}function Bt(l,u){return l%60==0?(l>0?"-":"+")+C(Math.abs(l)/60,2):ae(l,u)}function ae(l,u){var h=u||"",g=l>0?"-":"+",A=Math.abs(l);return g+C(Math.floor(A/60),2)+h+C(A%60,2)}function It(l,u){switch(l){case"P":return u.date({width:"short"});case"PP":return u.date({width:"medium"});case"PPP":return u.date({width:"long"});case"PPPP":default:return u.date({width:"full"})}}function xt(l,u){switch(l){case"p":return u.time({width:"short"});case"pp":return u.time({width:"medium"});case"ppp":return u.time({width:"long"});case"pppp":default:return u.time({width:"full"})}}var jn={p:xt,P:function(l,u){var h,g=l.match(/(P+)(p+)?/),A=g[1],x=g[2];if(!x)return It(l,u);switch(A){case"P":h=u.dateTime({width:"short"});break;case"PP":h=u.dateTime({width:"medium"});break;case"PPP":h=u.dateTime({width:"long"});break;case"PPPP":default:h=u.dateTime({width:"full"})}return h.replace("{{date}}",It(A,u)).replace("{{time}}",xt(x,u))}};function Jn(l){var u=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return u.setUTCFullYear(l.getFullYear()),l.getTime()-u.getTime()}var Xn=["D","DD"],er=["YY","YYYY"];function tr(l){return Xn.indexOf(l)!==-1}function nr(l){return er.indexOf(l)!==-1}function Pt(l,u,h){if(l==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(u,"`) for formatting years to the input `").concat(h,"`; see: https://git.io/fxCyr"));if(l==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(u,"`) for formatting years to the input `").concat(h,"`; see: https://git.io/fxCyr"));if(l==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(u,"`) for formatting days of the month to the input `").concat(h,"`; see: https://git.io/fxCyr"));if(l==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(u,"`) for formatting days of the month to the input `").concat(h,"`; see: https://git.io/fxCyr"))}var rr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ar=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,or=/^'([^]*?)'?$/,ir=/''/g,sr=/[a-zA-Z]/;function cr(l){return l.match(or)[1].replace(ir,"'")}var W=function(){function l(u,h,g){if(this.name=u,this.value=h,this.structure=g,this.structure&&!this.isValid())throw"The "+this.name+" key is in wrong format!"}return l.prototype.isValid=function(){return this.structure.test(this.value)},l.prototype.toString=function(){return this.name+":"+this.value},l}(),Et=function(l){function u(h){var g=l.call(this,"acc",h)||this;if(!g.isValid())throw"The "+g.name+" key is in wrong format!";return g}return a(u,l),u.prototype.isValid=function(){var h=this.value.split("+");return h.length===1?i(this.value):i(h[0])&&function(g){if(!g)return!1;var A=new RegExp("^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$",""),x=c[g.toUpperCase().slice(4,6)];return A.test(g)&&x!==void 0}(h[1])},u}(W),lr=function(l){function u(h){var g=l.call(this,"alt-acc",h.join(","))||this;if(!g.isValid())throw"The "+g.name+" key is in wrong format!";return g}return a(u,l),u.prototype.isValid=function(){return this.value.split(",").every(function(h){return new Et(h).isValid()})},u}(W),ur=function(l){function u(h){return l.call(this,"am",h,/^[1-9][0-9]*(\.[0-9][0-9])?$/)||this}return a(u,l),u}(W),dr=function(l){function u(h){return l.call(this,"cc",h,/^AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL|SRD|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD$/)||this}return a(u,l),u}(W),hr=function(l){function u(h){return l.call(this,"rf",h,/^[0-9]{1,16}$/)||this}return a(u,l),u}(W),gr=function(l){function u(h){return l.call(this,"rn",h,/^[^*]{1,35}$/)||this}return a(u,l),u}(W),fr=function(l){function u(h){var g=l.call(this,"dt",function(A,x,M){d(2,arguments);var $=String(x),D=M||{},U=D.locale||v,z=U.options&&U.options.firstWeekContainsDate,G=z==null?1:S(z),j=D.firstWeekContainsDate==null?G:S(D.firstWeekContainsDate);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=U.options&&U.options.weekStartsOn,wr=K==null?0:S(K),Oe=D.weekStartsOn==null?wr:S(D.weekStartsOn);if(!(Oe>=0&&Oe<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!U.localize)throw new RangeError("locale must contain localize property");if(!U.formatLong)throw new RangeError("locale must contain formatLong property");var Ne=b(A);if(!y(Ne))throw new RangeError("Invalid time value");var Sr=Jn(Ne),Cr=P(Ne,Sr),Dt={firstWeekContainsDate:j,weekStartsOn:Oe,locale:U,_originalDate:Ne};return $.match(ar).map(function(O){var X=O[0];return X==="p"||X==="P"?(0,jn[X])(O,U.formatLong,Dt):O}).join("").match(rr).map(function(O){if(O==="''")return"'";var X=O[0];if(X==="'")return cr(O);var Mt=qn[X];if(Mt)return!D.useAdditionalWeekYearTokens&&nr(O)&&Pt(O,x,A),!D.useAdditionalDayOfYearTokens&&tr(O)&&Pt(O,x,A),Mt(Cr,O,U.localize,Dt);if(X.match(sr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return O}).join("")}(h,"yyyyMMdd"))||this;if(g.originalDate=h,!g.isValid())throw"The "+g.name+" key is in wrong format!";return g}return a(u,l),u.prototype.isValid=function(){return y(this.originalDate)},u}(W),mr=function(l){function u(h){return l.call(this,"pt",h,/^[^*]{1,3}$/)||this}return a(u,l),u}(W),pr=function(l){function u(h){return l.call(this,"msg",h,/^[^*]{1,60}$/)||this}return a(u,l),u}(W),br=function(l){function u(h){return l.call(this,"crc32",h,/^[A-F0-9]{8,8}$/)||this}return a(u,l),u}(W),yr=function(l){function u(h){return l.call(this,"x-per",h,/^(30|[12]?[0-9])$/)||this}return a(u,l),u}(W),_r=function(l){function u(h){return l.call(this,"x-vs",h,/^[1-9][0-9]{0,9}$/)||this}return a(u,l),u}(W),vr=function(l){function u(h){return l.call(this,"x-ss",h,/^[1-9][0-9]{0,9}$/)||this}return a(u,l),u}(W),Ar=function(l){function u(h){return l.call(this,"x-ks",h,/^[1-9][0-9]{0,9}$/)||this}return a(u,l),u}(W),Nr=function(l){function u(h){return l.call(this,"x-id",h,/^[^*]{1,20}$/)||this}return a(u,l),u}(W),Rt={acc:Et,altAcc:lr,am:ur,cc:dr,rf:hr,rn:gr,dt:fr,pt:mr,msg:pr,crc32:br,xper:yr,xvs:_r,xss:vr,xks:Ar,xid:Nr};return function(l){var u=[];for(var h in l){if(!Rt[h])throw"Was given an unsupported key: "+h;u.push(new Rt[h](l[h]))}return"SPD*1.0*"+u.sort().join("*").toUpperCase()}})})(_n);var pa=_n.exports;const ba=ma(pa);var ye={},ya=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},vn={},V={};let yt;const _a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];V.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};V.getSymbolTotalCodewords=function(t){return _a[t]};V.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};V.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');yt=t};V.isKanjiModeEnabled=function(){return typeof yt<"u"};V.toSJIS=function(t){return yt(t)};var Fe={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,o){if(e.isValid(r))return r;try{return t(r)}catch{return o}}})(Fe);function An(){this.buffer=[],this.length=0}An.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var va=An;function _e(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}_e.prototype.set=function(e,t,n,r){const o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)};_e.prototype.get=function(e,t){return this.data[e*this.size+t]};_e.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};_e.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Aa=_e,Nn={};(function(e){const t=V.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,a=t(r),i=a===145?26:Math.ceil((a-13)/(2*o-2))*2,c=[a-7];for(let d=1;d<o-1;d++)c[d]=c[d-1]-i;return c.push(6),c.reverse()},e.getPositions=function(r){const o=[],a=e.getRowColCoords(r),i=a.length;for(let c=0;c<i;c++)for(let d=0;d<i;d++)c===0&&d===0||c===0&&d===i-1||c===i-1&&d===0||o.push([a[c],a[d]]);return o}})(Nn);var wn={};const Na=V.getSymbolSize,jt=7;wn.getPositions=function(t){const n=Na(t);return[[0,0],[n-jt,0],[0,n-jt]]};var Sn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const a=o.size;let i=0,c=0,d=0,b=null,y=null;for(let f=0;f<a;f++){c=d=0,b=y=null;for(let N=0;N<a;N++){let m=o.get(f,N);m===b?c++:(c>=5&&(i+=t.N1+(c-5)),b=m,c=1),m=o.get(N,f),m===y?d++:(d>=5&&(i+=t.N1+(d-5)),y=m,d=1)}c>=5&&(i+=t.N1+(c-5)),d>=5&&(i+=t.N1+(d-5))}return i},e.getPenaltyN2=function(o){const a=o.size;let i=0;for(let c=0;c<a-1;c++)for(let d=0;d<a-1;d++){const b=o.get(c,d)+o.get(c,d+1)+o.get(c+1,d)+o.get(c+1,d+1);(b===4||b===0)&&i++}return i*t.N2},e.getPenaltyN3=function(o){const a=o.size;let i=0,c=0,d=0;for(let b=0;b<a;b++){c=d=0;for(let y=0;y<a;y++)c=c<<1&2047|o.get(b,y),y>=10&&(c===1488||c===93)&&i++,d=d<<1&2047|o.get(y,b),y>=10&&(d===1488||d===93)&&i++}return i*t.N3},e.getPenaltyN4=function(o){let a=0;const i=o.data.length;for(let d=0;d<i;d++)a+=o.data[d];return Math.abs(Math.ceil(a*100/i/5)-10)*t.N4};function n(r,o,a){switch(r){case e.Patterns.PATTERN000:return(o+a)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(o+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return o*a%2+o*a%3===0;case e.Patterns.PATTERN110:return(o*a%2+o*a%3)%2===0;case e.Patterns.PATTERN111:return(o*a%3+(o+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(o,a){const i=a.size;for(let c=0;c<i;c++)for(let d=0;d<i;d++)a.isReserved(d,c)||a.xor(d,c,n(o,d,c))},e.getBestMask=function(o,a){const i=Object.keys(e.Patterns).length;let c=0,d=1/0;for(let b=0;b<i;b++){a(b),e.applyMask(b,o);const y=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(b,o),y<d&&(d=y,c=b)}return c}})(Sn);var Ge={};const te=Fe,Se=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ce=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ge.getBlocksCount=function(t,n){switch(n){case te.L:return Se[(t-1)*4+0];case te.M:return Se[(t-1)*4+1];case te.Q:return Se[(t-1)*4+2];case te.H:return Se[(t-1)*4+3];default:return}};Ge.getTotalCodewordsCount=function(t,n){switch(n){case te.L:return Ce[(t-1)*4+0];case te.M:return Ce[(t-1)*4+1];case te.Q:return Ce[(t-1)*4+2];case te.H:return Ce[(t-1)*4+3];default:return}};var Cn={},He={};const ge=new Uint8Array(512),Me=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)ge[n]=t,Me[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)ge[n]=ge[n-255]})();He.log=function(t){if(t<1)throw new Error("log("+t+")");return Me[t]};He.exp=function(t){return ge[t]};He.mul=function(t,n){return t===0||n===0?0:ge[Me[t]+Me[n]]};(function(e){const t=He;e.mul=function(r,o){const a=new Uint8Array(r.length+o.length-1);for(let i=0;i<r.length;i++)for(let c=0;c<o.length;c++)a[i+c]^=t.mul(r[i],o[c]);return a},e.mod=function(r,o){let a=new Uint8Array(r);for(;a.length-o.length>=0;){const i=a[0];for(let d=0;d<o.length;d++)a[d]^=t.mul(o[d],i);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},e.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let a=0;a<r;a++)o=e.mul(o,new Uint8Array([1,t.exp(a)]));return o}})(Cn);const Bn=Cn;function _t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}_t.prototype.initialize=function(t){this.degree=t,this.genPoly=Bn.generateECPolynomial(this.degree)};_t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Bn.mod(n,this.genPoly),o=this.degree-r.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(r,o),a}return r};var wa=_t,In={},re={},vt={};vt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var q={};const xn="[0-9]+",Sa="[A-Z $%*+\\-./:]+";let be="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";be=be.replace(/u/g,"\\u");const Ca="(?:(?![A-Z0-9 $%*+\\-./:]|"+be+`)(?:.|[\r
]))+`;q.KANJI=new RegExp(be,"g");q.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");q.BYTE=new RegExp(Ca,"g");q.NUMERIC=new RegExp(xn,"g");q.ALPHANUMERIC=new RegExp(Sa,"g");const Ba=new RegExp("^"+be+"$"),Ia=new RegExp("^"+xn+"$"),xa=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");q.testKanji=function(t){return Ba.test(t)};q.testNumeric=function(t){return Ia.test(t)};q.testAlphanumeric=function(t){return xa.test(t)};(function(e){const t=vt,n=q;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,i){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?a.ccBits[0]:i<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(a,i){if(e.isValid(a))return a;try{return r(a)}catch{return i}}})(re);(function(e){const t=V,n=Ge,r=Fe,o=re,a=vt,i=7973,c=t.getBCHDigit(i);function d(N,m,p){for(let _=1;_<=40;_++)if(m<=e.getCapacity(_,p,N))return _}function b(N,m){return o.getCharCountIndicator(N,m)+4}function y(N,m){let p=0;return N.forEach(function(_){const E=b(_.mode,m);p+=E+_.getBitsLength()}),p}function f(N,m){for(let p=1;p<=40;p++)if(y(N,p)<=e.getCapacity(p,m,o.MIXED))return p}e.from=function(m,p){return a.isValid(m)?parseInt(m,10):p},e.getCapacity=function(m,p,_){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=o.BYTE);const E=t.getSymbolTotalCodewords(m),w=n.getTotalCodewordsCount(m,p),v=(E-w)*8;if(_===o.MIXED)return v;const S=v-b(_,m);switch(_){case o.NUMERIC:return Math.floor(S/10*3);case o.ALPHANUMERIC:return Math.floor(S/11*2);case o.KANJI:return Math.floor(S/13);case o.BYTE:default:return Math.floor(S/8)}},e.getBestVersionForData=function(m,p){let _;const E=r.from(p,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,E);if(m.length===0)return 1;_=m[0]}else _=m;return d(_.mode,_.getLength(),E)},e.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let p=m<<12;for(;t.getBCHDigit(p)-c>=0;)p^=i<<t.getBCHDigit(p)-c;return m<<12|p}})(In);var Pn={};const at=V,En=1335,Pa=21522,Jt=at.getBCHDigit(En);Pn.getEncodedBits=function(t,n){const r=t.bit<<3|n;let o=r<<10;for(;at.getBCHDigit(o)-Jt>=0;)o^=En<<at.getBCHDigit(o)-Jt;return(r<<10|o)^Pa};var Rn={};const Ea=re;function le(e){this.mode=Ea.NUMERIC,this.data=e.toString()}le.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};le.prototype.getLength=function(){return this.data.length};le.prototype.getBitsLength=function(){return le.getBitsLength(this.data.length)};le.prototype.write=function(t){let n,r,o;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),o=parseInt(r,10),t.put(o,10);const a=this.data.length-n;a>0&&(r=this.data.substr(n),o=parseInt(r,10),t.put(o,a*3+1))};var Ra=le;const Da=re,Ye=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ue(e){this.mode=Da.ALPHANUMERIC,this.data=e}ue.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ue.prototype.getLength=function(){return this.data.length};ue.prototype.getBitsLength=function(){return ue.getBitsLength(this.data.length)};ue.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Ye.indexOf(this.data[n])*45;r+=Ye.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Ye.indexOf(this.data[n]),6)};var Ma=ue,ka=function(t){for(var n=[],r=t.length,o=0;o<r;o++){var a=t.charCodeAt(o);if(a>=55296&&a<=56319&&r>o+1){var i=t.charCodeAt(o+1);i>=56320&&i<=57343&&(a=(a-55296)*1024+i-56320+65536,o+=1)}if(a<128){n.push(a);continue}if(a<2048){n.push(a>>6|192),n.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){n.push(a>>12|224),n.push(a>>6&63|128),n.push(a&63|128);continue}if(a>=65536&&a<=1114111){n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Ta=ka,$a=re;function de(e){this.mode=$a.BYTE,typeof e=="string"&&(e=Ta(e)),this.data=new Uint8Array(e)}de.getBitsLength=function(t){return t*8};de.prototype.getLength=function(){return this.data.length};de.prototype.getBitsLength=function(){return de.getBitsLength(this.data.length)};de.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Za=de;const Ua=re,La=V;function he(e){this.mode=Ua.KANJI,this.data=e}he.getBitsLength=function(t){return t*13};he.prototype.getLength=function(){return this.data.length};he.prototype.getBitsLength=function(){return he.getBitsLength(this.data.length)};he.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=La.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Fa=he,Dn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,o){var a={},i={};i[r]=0;var c=t.PriorityQueue.make();c.push(r,0);for(var d,b,y,f,N,m,p,_,E;!c.empty();){d=c.pop(),b=d.value,f=d.cost,N=n[b]||{};for(y in N)N.hasOwnProperty(y)&&(m=N[y],p=f+m,_=i[y],E=typeof i[y]>"u",(E||_>p)&&(i[y]=p,c.push(y,p),a[y]=b))}if(typeof o<"u"&&typeof i[o]>"u"){var w=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(w)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var o=[],a=r;a;)o.push(a),n[a],a=n[a];return o.reverse(),o},find_path:function(n,r,o){var a=t.single_source_shortest_paths(n,r,o);return t.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,o={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);return o.queue=[],o.sorter=n.sorter||r.default_sorter,o},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var o={value:n,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Dn);var Ga=Dn.exports;(function(e){const t=re,n=Ra,r=Ma,o=Za,a=Fa,i=q,c=V,d=Ga;function b(w){return unescape(encodeURIComponent(w)).length}function y(w,v,S){const B=[];let P;for(;(P=w.exec(S))!==null;)B.push({data:P[0],index:P.index,mode:v,length:P[0].length});return B}function f(w){const v=y(i.NUMERIC,t.NUMERIC,w),S=y(i.ALPHANUMERIC,t.ALPHANUMERIC,w);let B,P;return c.isKanjiModeEnabled()?(B=y(i.BYTE,t.BYTE,w),P=y(i.KANJI,t.KANJI,w)):(B=y(i.BYTE_KANJI,t.BYTE,w),P=[]),v.concat(S,B,P).sort(function(T,F){return T.index-F.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function N(w,v){switch(v){case t.NUMERIC:return n.getBitsLength(w);case t.ALPHANUMERIC:return r.getBitsLength(w);case t.KANJI:return a.getBitsLength(w);case t.BYTE:return o.getBitsLength(w)}}function m(w){return w.reduce(function(v,S){const B=v.length-1>=0?v[v.length-1]:null;return B&&B.mode===S.mode?(v[v.length-1].data+=S.data,v):(v.push(S),v)},[])}function p(w){const v=[];for(let S=0;S<w.length;S++){const B=w[S];switch(B.mode){case t.NUMERIC:v.push([B,{data:B.data,mode:t.ALPHANUMERIC,length:B.length},{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.ALPHANUMERIC:v.push([B,{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.KANJI:v.push([B,{data:B.data,mode:t.BYTE,length:b(B.data)}]);break;case t.BYTE:v.push([{data:B.data,mode:t.BYTE,length:b(B.data)}])}}return v}function _(w,v){const S={},B={start:{}};let P=["start"];for(let C=0;C<w.length;C++){const T=w[C],F=[];for(let I=0;I<T.length;I++){const Z=T[I],Y=""+C+I;F.push(Y),S[Y]={node:Z,lastCount:0},B[Y]={};for(let J=0;J<P.length;J++){const H=P[J];S[H]&&S[H].node.mode===Z.mode?(B[H][Y]=N(S[H].lastCount+Z.length,Z.mode)-N(S[H].lastCount,Z.mode),S[H].lastCount+=Z.length):(S[H]&&(S[H].lastCount=Z.length),B[H][Y]=N(Z.length,Z.mode)+4+t.getCharCountIndicator(Z.mode,v))}}P=F}for(let C=0;C<P.length;C++)B[P[C]].end=0;return{map:B,table:S}}function E(w,v){let S;const B=t.getBestModeForData(w);if(S=t.from(v,B),S!==t.BYTE&&S.bit<B.bit)throw new Error('"'+w+'" cannot be encoded with mode '+t.toString(S)+`.
 Suggested mode is: `+t.toString(B));switch(S===t.KANJI&&!c.isKanjiModeEnabled()&&(S=t.BYTE),S){case t.NUMERIC:return new n(w);case t.ALPHANUMERIC:return new r(w);case t.KANJI:return new a(w);case t.BYTE:return new o(w)}}e.fromArray=function(v){return v.reduce(function(S,B){return typeof B=="string"?S.push(E(B,null)):B.data&&S.push(E(B.data,B.mode)),S},[])},e.fromString=function(v,S){const B=f(v,c.isKanjiModeEnabled()),P=p(B),C=_(P,S),T=d.find_path(C.map,"start","end"),F=[];for(let I=1;I<T.length-1;I++)F.push(C.table[T[I]].node);return e.fromArray(m(F))},e.rawSplit=function(v){return e.fromArray(f(v,c.isKanjiModeEnabled()))}})(Rn);const We=V,ze=Fe,Ha=va,Wa=Aa,Oa=Nn,Va=wn,ot=Sn,it=Ge,Ya=wa,ke=In,za=Pn,Ka=re,Ke=Rn;function Qa(e,t){const n=e.size,r=Va.getPositions(t);for(let o=0;o<r.length;o++){const a=r[o][0],i=r[o][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||n<=a+c))for(let d=-1;d<=7;d++)i+d<=-1||n<=i+d||(c>=0&&c<=6&&(d===0||d===6)||d>=0&&d<=6&&(c===0||c===6)||c>=2&&c<=4&&d>=2&&d<=4?e.set(a+c,i+d,!0,!0):e.set(a+c,i+d,!1,!0))}}function qa(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function ja(e,t){const n=Oa.getPositions(t);for(let r=0;r<n.length;r++){const o=n[r][0],a=n[r][1];for(let i=-2;i<=2;i++)for(let c=-2;c<=2;c++)i===-2||i===2||c===-2||c===2||i===0&&c===0?e.set(o+i,a+c,!0,!0):e.set(o+i,a+c,!1,!0)}}function Ja(e,t){const n=e.size,r=ke.getEncodedBits(t);let o,a,i;for(let c=0;c<18;c++)o=Math.floor(c/3),a=c%3+n-8-3,i=(r>>c&1)===1,e.set(o,a,i,!0),e.set(a,o,i,!0)}function Qe(e,t,n){const r=e.size,o=za.getEncodedBits(t,n);let a,i;for(a=0;a<15;a++)i=(o>>a&1)===1,a<6?e.set(a,8,i,!0):a<8?e.set(a+1,8,i,!0):e.set(r-15+a,8,i,!0),a<8?e.set(8,r-a-1,i,!0):a<9?e.set(8,15-a-1+1,i,!0):e.set(8,15-a-1,i,!0);e.set(r-8,8,1,!0)}function Xa(e,t){const n=e.size;let r=-1,o=n-1,a=7,i=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let d=0;d<2;d++)if(!e.isReserved(o,c-d)){let b=!1;i<t.length&&(b=(t[i]>>>a&1)===1),e.set(o,c-d,b),a--,a===-1&&(i++,a=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}function eo(e,t,n){const r=new Ha;n.forEach(function(d){r.put(d.mode.bit,4),r.put(d.getLength(),Ka.getCharCountIndicator(d.mode,e)),d.write(r)});const o=We.getSymbolTotalCodewords(e),a=it.getTotalCodewordsCount(e,t),i=(o-a)*8;for(r.getLengthInBits()+4<=i&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(i-r.getLengthInBits())/8;for(let d=0;d<c;d++)r.put(d%2?17:236,8);return to(r,e,t)}function to(e,t,n){const r=We.getSymbolTotalCodewords(t),o=it.getTotalCodewordsCount(t,n),a=r-o,i=it.getBlocksCount(t,n),c=r%i,d=i-c,b=Math.floor(r/i),y=Math.floor(a/i),f=y+1,N=b-y,m=new Ya(N);let p=0;const _=new Array(i),E=new Array(i);let w=0;const v=new Uint8Array(e.buffer);for(let T=0;T<i;T++){const F=T<d?y:f;_[T]=v.slice(p,p+F),E[T]=m.encode(_[T]),p+=F,w=Math.max(w,F)}const S=new Uint8Array(r);let B=0,P,C;for(P=0;P<w;P++)for(C=0;C<i;C++)P<_[C].length&&(S[B++]=_[C][P]);for(P=0;P<N;P++)for(C=0;C<i;C++)S[B++]=E[C][P];return S}function no(e,t,n,r){let o;if(Array.isArray(e))o=Ke.fromArray(e);else if(typeof e=="string"){let b=t;if(!b){const y=Ke.rawSplit(e);b=ke.getBestVersionForData(y,n)}o=Ke.fromString(e,b||40)}else throw new Error("Invalid data");const a=ke.getBestVersionForData(o,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const i=eo(t,n,o),c=We.getSymbolSize(t),d=new Wa(c);return Qa(d,t),qa(d),ja(d,t),Qe(d,n,0),t>=7&&Ja(d,t),Xa(d,i),isNaN(r)&&(r=ot.getBestMask(d,Qe.bind(null,d,n))),ot.applyMask(r,d),Qe(d,n,r),{modules:d,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}vn.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=ze.M,o,a;return typeof n<"u"&&(r=ze.from(n.errorCorrectionLevel,ze.M),o=ke.from(n.version),a=ot.from(n.maskPattern),n.toSJISFunc&&We.setToSJISFunction(n.toSJISFunc)),no(t,o,r,a)};var Mn={},At={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,i=r.scale||4;return{width:a,scale:a?4:i,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},e.getImageWidth=function(r,o){const a=e.getScale(r,o);return Math.floor((r+o.margin*2)*a)},e.qrToImageData=function(r,o,a){const i=o.modules.size,c=o.modules.data,d=e.getScale(i,a),b=Math.floor((i+a.margin*2)*d),y=a.margin*d,f=[a.color.light,a.color.dark];for(let N=0;N<b;N++)for(let m=0;m<b;m++){let p=(N*b+m)*4,_=a.color.light;if(N>=y&&m>=y&&N<b-y&&m<b-y){const E=Math.floor((N-y)/d),w=Math.floor((m-y)/d);_=f[c[E*i+w]?1:0]}r[p++]=_.r,r[p++]=_.g,r[p++]=_.b,r[p]=_.a}}})(At);(function(e){const t=At;function n(o,a,i){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=i,a.width=i,a.style.height=i+"px",a.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,i,c){let d=c,b=i;typeof d>"u"&&(!i||!i.getContext)&&(d=i,i=void 0),i||(b=r()),d=t.getOptions(d);const y=t.getImageWidth(a.modules.size,d),f=b.getContext("2d"),N=f.createImageData(y,y);return t.qrToImageData(N.data,a,d),n(f,b,y),f.putImageData(N,0,0),b},e.renderToDataURL=function(a,i,c){let d=c;typeof d>"u"&&(!i||!i.getContext)&&(d=i,i=void 0),d||(d={});const b=e.render(a,i,d),y=d.type||"image/png",f=d.rendererOpts||{};return b.toDataURL(y,f.quality)}})(Mn);var kn={};const ro=At;function Xt(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function qe(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function ao(e,t,n){let r="",o=0,a=!1,i=0;for(let c=0;c<e.length;c++){const d=Math.floor(c%t),b=Math.floor(c/t);!d&&!a&&(a=!0),e[c]?(i++,c>0&&d>0&&e[c-1]||(r+=a?qe("M",d+n,.5+b+n):qe("m",o,0),o=0,a=!1),d+1<t&&e[c+1]||(r+=qe("h",i),i=0)):o++}return r}kn.render=function(t,n,r){const o=ro.getOptions(n),a=t.modules.size,i=t.modules.data,c=a+o.margin*2,d=o.color.light.a?"<path "+Xt(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",b="<path "+Xt(o.color.dark,"stroke")+' d="'+ao(i,a,o.margin)+'"/>',y='viewBox="0 0 '+c+" "+c+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+y+' shape-rendering="crispEdges">'+d+b+`</svg>
`;return typeof r=="function"&&r(null,N),N};const oo=ya,st=vn,Tn=Mn,io=kn;function Nt(e,t,n,r,o){const a=[].slice.call(arguments,1),i=a.length,c=typeof a[i-1]=="function";if(!c&&!oo())throw new Error("Callback required as last argument");if(c){if(i<2)throw new Error("Too few arguments provided");i===2?(o=n,n=t,t=r=void 0):i===3&&(t.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=n,n=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(n=t,t=r=void 0):i===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(d,b){try{const y=st.create(n,r);d(e(y,t,r))}catch(y){b(y)}})}try{const d=st.create(n,r);o(null,e(d,t,r))}catch(d){o(d)}}ye.create=st.create;ye.toCanvas=Nt.bind(null,Tn.render);ye.toDataURL=Nt.bind(null,Tn.renderToDataURL);ye.toString=Nt.bind(null,function(e,t,n){return io.render(e,n)});function so(e){switch(e.vsMode){case"counter":return e.vsCounter.toString();case"time":const t=new Date,n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${n}${r}${o}${a}${i}${c}`;case"static":return e.vsStaticValue||"0";default:return"0"}}async function co(e,t,n,r){console.log("[PaymentGenerator] Starting payment generation",{accountId:e,eventId:t,amount:n});const o=await Lr(e),a=await Hr(t);if(console.log("[PaymentGenerator] Fetched account and event",{account:o,event:a}),!o)throw new Error("Account not found");if(!a)throw new Error("Event not found");try{let i=r==null?void 0:r.variableSymbol;i||(i=so(a),console.log("[PaymentGenerator] Generated VS:",i),a.vsMode==="counter"&&(a.vsCounter+=1,await pn(a),console.log("[PaymentGenerator] Incremented VS counter to:",a.vsCounter)));const c=(r==null?void 0:r.staticSymbol)||a.staticSymbol;console.log("[PaymentGenerator] Using SS:",c);const d=bn(o.iban);if(console.log("[PaymentGenerator] Formatted IBAN:",d),!d)throw new Error("Invalid IBAN format");const b={acc:d,am:n.toFixed(2),cc:o.currency,xvs:i,xss:c};r!=null&&r.message&&(b.msg=r.message),console.log("[PaymentGenerator] Created payment description:",b);const y=ba(b);console.log("[PaymentGenerator] Generated SPAYD string:",y),console.log("[PaymentGenerator] Generating QR code...");const f=await ye.toDataURL(y,{errorCorrectionLevel:"H",width:512,margin:2});console.log("[PaymentGenerator] QR code generated successfully");const N={accountId:e,eventId:t,amount:n,currency:o.currency,variableSymbol:i,staticSymbol:c,message:r==null?void 0:r.message,spaydString:y,qrCodeDataUrl:f,createdAt:Date.now()};console.log("[PaymentGenerator] Storing payment to IndexedDB",N);const m=await Vr(N);console.log("[PaymentGenerator] Payment stored with ID:",m),o.webhookUrl&&(console.log("[PaymentGenerator] Queuing for sync to webhook:",o.webhookUrl),await zr({paymentId:m,webhookUrl:o.webhookUrl,payload:{paymentId:m,accountId:e,eventId:t,amount:n,currency:o.currency,variableSymbol:i,staticSymbol:c,message:r==null?void 0:r.message,spaydString:y,createdAt:N.createdAt},status:"pending",attempts:0,createdAt:Date.now()}));const p={...N,id:m};return console.log("[PaymentGenerator] Payment generation complete",p),p}catch(i){throw console.error("[PaymentGenerator] ERROR during payment generation:",i),console.error("[PaymentGenerator] Error details:",{message:i instanceof Error?i.message:"Unknown error",stack:i instanceof Error?i.stack:void 0}),i}}function lo(){const[e,t]=k([]),[n,r]=k([]),[o,a]=k(null),[i,c]=k(null),[d,b]=k(""),[y,f]=k(""),[N,m]=k(!1),[p,_]=k(null),[E,w]=k(""),[v,S]=k(!1);ne(()=>{B()},[]);async function B(){const I=await Ue(),Z=await Le();t(I),r(Z);const Y=I.find(H=>H.isDefault)||I[0],J=Z.find(H=>H.isDefault)||Z[0];Y&&a(Y.id),J&&c(J.id)}const P=e.find(I=>I.id===o),C=n.find(I=>I.id===i);ne(()=>{v&&(C!=null&&C.permanentAmount)&&b(C.permanentAmount.toString())},[v,C]);async function T(I){if(I.preventDefault(),!o||!i){w("Please select both account and event");return}w(""),m(!0);try{const Z=parseFloat(d);if(isNaN(Z)||Z<=0)throw new Error("Invalid amount");const Y=await co(o,i,Z,{message:y||void 0});_(Y),await B(),v||(b(""),f(""))}catch(Z){w(Z instanceof Error?Z.message:"Failed to generate payment")}finally{m(!1)}}function F(I){navigator.clipboard.writeText(I),alert("Copied to clipboard!")}return s("div",{className:"fade-in",children:[s("h2",{className:"mb-lg",children:"Generate Payment"}),e.length===0||n.length===0?s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"âš ï¸"}),s("h3",{children:"Setup Required"}),s("p",{children:"Please create at least one account and one event before generating payments."})]}):s("div",{className:"grid grid-2",children:[s("div",{children:s("form",{onSubmit:T,children:[s("div",{className:"card mb-lg",children:[s("h3",{className:"mb-md",children:"Selection"}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Account"}),s("select",{value:o||"",onChange:I=>a(parseInt(I.target.value)),required:!0,children:e.map(I=>s("option",{value:I.id,children:[I.name," - ",rt(I.iban)]},I.id))})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Event"}),s("select",{value:i||"",onChange:I=>c(parseInt(I.target.value)),required:!0,children:n.map(I=>s("option",{value:I.id,children:[I.name," (SS: ",I.staticSymbol,")"]},I.id))})]}),P&&C&&s("div",{className:"p-md",style:{background:"var(--color-bg-secondary)",borderRadius:"var(--radius-md)"},children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Selected Configuration"}),s("div",{className:"text-sm",children:[s("strong",{children:"IBAN:"})," ",rt(P.iban)]}),s("div",{className:"text-sm",children:[s("strong",{children:"Currency:"})," ",P.currency]}),s("div",{className:"text-sm",children:[s("strong",{children:"SS:"})," ",C.staticSymbol]}),s("div",{className:"text-sm",children:[s("strong",{children:"VS Mode:"})," ",C.vsMode,C.vsMode==="counter"&&` (next: ${C.vsCounter})`]})]})]}),s("div",{className:"card",children:[s("h3",{className:"mb-md",children:"Payment Details"}),(C==null?void 0:C.permanentAmount)&&s("div",{className:"form-group",children:s("label",{className:"flex items-center gap-sm",children:[s("input",{type:"checkbox",checked:v,onChange:I=>S(I.target.checked)}),s("span",{className:"form-label",style:{marginBottom:0},children:["Use permanent amount (",C.permanentAmount," ",(P==null?void 0:P.currency)||"CZK",")"]})]})}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:["Amount (",(P==null?void 0:P.currency)||"CZK",")"]}),s("input",{type:"number",step:"0.01",value:d,onInput:I=>b(I.target.value),placeholder:"e.g., 450.00",required:!0,disabled:v})]}),s("div",{className:"form-group",children:[s("label",{className:"form-label",children:"Message (Optional)"}),s("input",{type:"text",value:y,onInput:I=>f(I.target.value),placeholder:"e.g., Registration fee"})]}),E&&s("div",{className:"form-error mb-md",children:E}),s("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:N,style:{width:"100%"},children:N?s(ie,{children:[s("div",{className:"spinner"}),"Generating..."]}):v?"âš¡ Quick Generate":"Generate Payment"})]})]})}),s("div",{children:p?s("div",{className:"card fade-in",children:[s("h3",{className:"mb-md",children:"Generated Payment"}),s("div",{className:"qr-display mb-lg",children:s("img",{src:p.qrCodeDataUrl,alt:"Payment QR Code"})}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Amount"}),s("div",{className:"text-xl font-bold",children:[p.amount," ",p.currency]})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Variable Symbol"}),s("div",{className:"font-mono",children:p.variableSymbol})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Static Symbol"}),s("div",{className:"font-mono",children:p.staticSymbol})]}),p.message&&s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Message"}),s("div",{children:p.message})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"SPAYD String"}),s("div",{className:"spayd-string",style:{position:"relative"},children:[s("button",{className:"copy-button",onClick:()=>F(p.spaydString),children:"Copy"}),p.spaydString]})]}),s("div",{className:"flex gap-sm",children:[s("button",{className:"btn btn-secondary",onClick:()=>{const I=document.createElement("a");I.download=`payment-${p.variableSymbol}.png`,I.href=p.qrCodeDataUrl,I.click()},children:"ðŸ’¾ Download QR"}),s("button",{className:"btn btn-success",onClick:()=>_(null),children:"âœ¨ Generate Another"})]})]}):s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"ðŸ“±"}),s("h3",{children:"No payment generated yet"}),s("p",{children:"Fill in the form and click generate to create a payment QR code"})]})})]})]})}function uo(){const[e,t]=k([]),[n,r]=k([]),[o,a]=k([]),[i,c]=k(null),[d,b]=k(null),[y,f]=k(null);ne(()=>{N()},[i,d]);async function N(){const v=await Ue(),S=await Le(),B=await Or({accountId:i||void 0,eventId:d||void 0});r(v),a(S),t(B)}async function m(v){v.id&&confirm("Are you sure you want to delete this payment?")&&(await Yr(v.id),await N(),(y==null?void 0:y.id)===v.id&&f(null))}function p(v){var S;return((S=n.find(B=>B.id===v))==null?void 0:S.name)||"Unknown"}function _(v){var S;return((S=o.find(B=>B.id===v))==null?void 0:S.name)||"Unknown"}function E(v){return new Date(v).toLocaleString()}function w(v){navigator.clipboard.writeText(v),alert("Copied to clipboard!")}return s("div",{className:"fade-in",children:[s("h2",{className:"mb-lg",children:"Payment History"}),s("div",{className:"card mb-lg",children:[s("h3",{className:"mb-md",children:"Filters"}),s("div",{className:"flex gap-md",children:[s("div",{className:"form-group",style:{flex:1,marginBottom:0},children:[s("label",{className:"form-label",children:"Account"}),s("select",{value:i||"",onChange:v=>c(v.target.value?parseInt(v.target.value):null),children:[s("option",{value:"",children:"All Accounts"}),n.map(v=>s("option",{value:v.id,children:v.name},v.id))]})]}),s("div",{className:"form-group",style:{flex:1,marginBottom:0},children:[s("label",{className:"form-label",children:"Event"}),s("select",{value:d||"",onChange:v=>b(v.target.value?parseInt(v.target.value):null),children:[s("option",{value:"",children:"All Events"}),o.map(v=>s("option",{value:v.id,children:v.name},v.id))]})]})]})]}),e.length===0?s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"ðŸ“‹"}),s("h3",{children:"No payments found"}),s("p",{children:"Generate your first payment to see it here"})]}):s("div",{className:"grid grid-2",children:[s("div",{children:s("div",{className:"table-container",children:s("table",{children:[s("thead",{children:s("tr",{children:[s("th",{children:"Date"}),s("th",{children:"Account"}),s("th",{children:"Event"}),s("th",{children:"Amount"}),s("th",{children:"VS"}),s("th",{children:"Actions"})]})}),s("tbody",{children:e.map(v=>s("tr",{children:[s("td",{className:"text-sm",children:E(v.createdAt)}),s("td",{className:"text-sm",children:p(v.accountId)}),s("td",{className:"text-sm",children:_(v.eventId)}),s("td",{className:"font-semibold",children:[v.amount," ",v.currency]}),s("td",{className:"font-mono text-sm",children:v.variableSymbol}),s("td",{children:s("div",{className:"flex gap-xs",children:[s("button",{className:"btn btn-secondary btn-sm",onClick:()=>f(v),children:"View"}),s("button",{className:"btn btn-danger btn-sm",onClick:()=>m(v),children:"Delete"})]})})]},v.id))})]})})}),s("div",{children:y?s("div",{className:"card fade-in",children:[s("h3",{className:"mb-md",children:"Payment Details"}),s("div",{className:"qr-display mb-lg",children:s("img",{src:y.qrCodeDataUrl,alt:"Payment QR Code"})}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Date"}),s("div",{children:E(y.createdAt)})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Account"}),s("div",{children:p(y.accountId)})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Event"}),s("div",{children:_(y.eventId)})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Amount"}),s("div",{className:"text-xl font-bold",children:[y.amount," ",y.currency]})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Variable Symbol"}),s("div",{className:"font-mono",children:y.variableSymbol})]}),s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Static Symbol"}),s("div",{className:"font-mono",children:y.staticSymbol})]}),y.message&&s("div",{className:"mb-md",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"Message"}),s("div",{children:y.message})]}),s("div",{className:"mb-lg",children:[s("div",{className:"text-sm text-secondary mb-xs",children:"SPAYD String"}),s("div",{className:"spayd-string",style:{position:"relative"},children:[s("button",{className:"copy-button",onClick:()=>w(y.spaydString),children:"Copy"}),y.spaydString]})]}),s("button",{className:"btn btn-secondary",style:{width:"100%"},onClick:()=>{const v=document.createElement("a");v.download=`payment-${y.variableSymbol}.png`,v.href=y.qrCodeDataUrl,v.click()},children:"ðŸ’¾ Download QR Code"})]}):s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"ðŸ‘ˆ"}),s("h3",{children:"Select a payment"}),s("p",{children:'Click "View" on a payment to see details'})]})})]})]})}async function ct(){const e=await pe("pending"),t=await pe("failed");for(const n of e)await lt(n);for(const n of t)n.attempts<3&&await lt(n)}async function lt(e){if(!e.id)throw new Error("Queue item ID is required");try{const t=await fetch(e.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.payload)});if(t.ok)(await t.json().catch(()=>({}))).acknowledged||t.status===200?await Ee(e.id,"acked"):await Ee(e.id,"sent");else throw new Error(`HTTP ${t.status}: ${t.statusText}`)}catch(t){const n=t instanceof Error?t.message:"Unknown error";await Ee(e.id,"failed",n)}}async function ho(e){await Ee(e,"acked")}async function go(e=3){const t=await pe("failed");for(const n of t)n.attempts<e&&await lt(n)}function fo(e=3e4){return ct().catch(console.error),window.setInterval(()=>{ct().catch(console.error)},e)}function mo(){const[e,t]=k([]),[n,r]=k(!1);ne(()=>{o();const p=setInterval(o,1e4);return()=>clearInterval(p)},[]);async function o(){const p=await pe();t(p)}async function a(){r(!0);try{await ct(),await o()}finally{r(!1)}}async function i(){r(!0);try{await go(3),await o()}finally{r(!1)}}async function c(){confirm("Reset all sync flags? This will mark all items as pending.")&&(await Kr({global:!0}),await o())}async function d(p){await ho(p),await o()}function b(p){return new Date(p).toLocaleString()}function y(p){switch(p){case"pending":return"badge-pending";case"sent":return"badge-sent";case"acked":return"badge-acked";case"failed":return"badge-failed";default:return""}}const f=e.filter(p=>p.status==="pending").length,N=e.filter(p=>p.status==="failed").length,m=e.filter(p=>p.status==="acked").length;return s("div",{className:"fade-in",children:[s("div",{className:"flex justify-between items-center mb-lg",children:[s("h2",{children:"Sync Queue"}),s("div",{className:"flex gap-sm",children:[s("button",{className:"btn btn-secondary",onClick:i,disabled:n||N===0,children:"ðŸ”„ Retry Failed"}),s("button",{className:"btn btn-primary",onClick:a,disabled:n,children:n?s(ie,{children:[s("div",{className:"spinner"}),"Processing..."]}):"â–¶ï¸ Process Queue"})]})]}),s("div",{className:"grid grid-3 mb-lg",children:[s("div",{className:"card",children:[s("div",{className:"text-sm text-secondary",children:"Pending"}),s("div",{className:"text-2xl font-bold",children:f})]}),s("div",{className:"card",children:[s("div",{className:"text-sm text-secondary",children:"Failed"}),s("div",{className:"text-2xl font-bold",style:{color:"var(--color-danger)"},children:N})]}),s("div",{className:"card",children:[s("div",{className:"text-sm text-secondary",children:"Acknowledged"}),s("div",{className:"text-2xl font-bold",style:{color:"var(--color-success)"},children:m})]})]}),e.length===0?s("div",{className:"empty-state",children:[s("div",{className:"empty-state-icon",children:"ðŸ“­"}),s("h3",{children:"No sync items"}),s("p",{children:"Generated payments will appear here if webhooks are configured"})]}):s(ie,{children:[s("div",{className:"flex justify-between items-center mb-md",children:[s("h3",{children:["Queue Items (",e.length,")"]}),s("button",{className:"btn btn-danger btn-sm",onClick:c,children:"Reset All Flags"})]}),s("div",{className:"table-container",children:s("table",{children:[s("thead",{children:s("tr",{children:[s("th",{children:"Payment ID"}),s("th",{children:"Status"}),s("th",{children:"Attempts"}),s("th",{children:"Created"}),s("th",{children:"Last Attempt"}),s("th",{children:"Webhook URL"}),s("th",{children:"Actions"})]})}),s("tbody",{children:e.map(p=>s("tr",{children:[s("td",{className:"font-mono text-sm",children:["#",p.paymentId]}),s("td",{children:s("span",{className:`badge ${y(p.status)}`,children:p.status})}),s("td",{children:p.attempts}),s("td",{className:"text-sm",children:b(p.createdAt)}),s("td",{className:"text-sm",children:p.lastAttempt?b(p.lastAttempt):"-"}),s("td",{className:"text-sm",style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},children:p.webhookUrl}),s("td",{children:[p.status==="sent"&&s("button",{className:"btn btn-success btn-sm",onClick:()=>d(p.id),children:"âœ“ Ack"}),p.status==="failed"&&p.error&&s("button",{className:"btn btn-secondary btn-sm",onClick:()=>alert(p.error),children:"View Error"})]})]},p.id))})]})})]})]})}const po={appTitle:"SPAYD GenerÃ¡tor Plateb",appSubtitle:"SystÃ©m pro generovÃ¡nÃ­ QR kÃ³dÅ¯ plateb s vÃ­ce ÃºÄty",tabGenerate:"ðŸ’³ Generovat",tabAccounts:"ðŸ¦ ÃšÄty",tabEvents:"ðŸ“… UdÃ¡losti",tabHistory:"ðŸ“‹ Historie",tabSync:"ðŸ”„ Synchronizace",add:"PÅ™idat",edit:"Upravit",delete:"Smazat",cancel:"ZruÅ¡it",create:"VytvoÅ™it",update:"Aktualizovat",save:"UloÅ¾it",close:"ZavÅ™Ã­t",view:"Zobrazit",default:"VÃ½chozÃ­",optional:"VolitelnÃ©",required:"PovinnÃ©",accounts:"BankovnÃ­ ÃšÄty",addAccount:"+ PÅ™idat ÃšÄet",editAccount:"Upravit ÃšÄet",accountName:"NÃ¡zev ÃšÄtu",accountNamePlaceholder:"napÅ™. HlavnÃ­ FiremnÃ­ ÃšÄet",iban:"IBAN",ibanPlaceholder:"CZ6508000000192000145399",ibanHelp:"Zadejte IBAN bez mezer (napÅ™. CZ6508000000192000145399)",currency:"MÄ›na",webhookUrl:"Webhook URL",webhookUrlPlaceholder:"https://api.example.com/webhook",webhookUrlHelp:"URL pro zasÃ­lÃ¡nÃ­ notifikacÃ­ o platbÃ¡ch (nechte prÃ¡zdnÃ© pro vypnutÃ­ synchronizace)",setAsDefault:"Nastavit jako vÃ½chozÃ­ ÃºÄet",noAccountsYet:"ZatÃ­m Å¾Ã¡dnÃ© ÃºÄty",noAccountsMessage:"PÅ™idejte svÅ¯j prvnÃ­ bankovnÃ­ ÃºÄet pro zaÄÃ¡tek generovÃ¡nÃ­ plateb",deleteAccountConfirm:"Opravdu chcete smazat ÃºÄet",events:"PlatebnÃ­ UdÃ¡losti",addEvent:"+ PÅ™idat UdÃ¡lost",editEvent:"Upravit UdÃ¡lost",eventName:"NÃ¡zev UdÃ¡losti",eventNamePlaceholder:"napÅ™. Workshop 2024",staticSymbol:"StatickÃ½ Symbol (SS)",staticSymbolPlaceholder:"napÅ™. 543",staticSymbolHelp:"IdentifikÃ¡tor udÃ¡losti, kterÃ½ zÅ¯stÃ¡vÃ¡ konstantnÃ­ pro vÅ¡echny platby",variableSymbolMode:"ReÅ¾im VariabilnÃ­ho Symbolu",vsModeCounter:"ÄŒÃ­taÄ (SekvenÄnÃ­: 1, 2, 3...)",vsModeTime:"ÄŒasovÃ½ (YYYYMMDDHHmmss)",vsModeStatic:"StatickÃ½ (StejnÃ¡ hodnota)",startingCounter:"PoÄÃ¡teÄnÃ­ Hodnota ÄŒÃ­taÄe",staticVsValue:"StatickÃ¡ Hodnota VS",staticVsValuePlaceholder:"napÅ™. 123456",permanentAmount:"TrvalÃ¡ ÄŒÃ¡stka",permanentAmountPlaceholder:"napÅ™. 450.00",permanentAmountHelp:"Nastavte opakujÃ­cÃ­ se ÄÃ¡stku pro rychlÃ© generovÃ¡nÃ­ plateb",setAsDefaultEvent:"Nastavit jako vÃ½chozÃ­ udÃ¡lost",noEventsYet:"ZatÃ­m Å¾Ã¡dnÃ© udÃ¡losti",noEventsMessage:"VytvoÅ™te svou prvnÃ­ platebnÃ­ udÃ¡lost pro organizaci plateb",deleteEventConfirm:"Opravdu chcete smazat udÃ¡lost",generatePayment:"Generovat Platbu",selection:"VÃ½bÄ›r",account:"ÃšÄet",event:"UdÃ¡lost",selectedConfiguration:"VybranÃ¡ Konfigurace",paymentDetails:"Detaily Platby",usePermanentAmount:"PouÅ¾Ã­t trvalou ÄÃ¡stku",amount:"ÄŒÃ¡stka",amountPlaceholder:"napÅ™. 450.00",message:"ZprÃ¡va",messagePlaceholder:"napÅ™. RegistraÄnÃ­ poplatek",quickGenerate:"âš¡ RychlÃ© GenerovÃ¡nÃ­",generatedPayment:"VygenerovanÃ¡ Platba",variableSymbol:"VariabilnÃ­ Symbol",setupRequired:"NutnÃ¡ Konfigurace",setupRequiredMessage:"ProsÃ­m vytvoÅ™te alespoÅˆ jeden ÃºÄet a jednu udÃ¡lost pÅ™ed generovÃ¡nÃ­m plateb.",noPaymentGenerated:"ZatÃ­m nebyla vygenerovÃ¡na Å¾Ã¡dnÃ¡ platba",noPaymentMessage:"VyplÅˆte formulÃ¡Å™ a kliknÄ›te na generovat pro vytvoÅ™enÃ­ QR kÃ³du platby",downloadQr:"ðŸ’¾ StÃ¡hnout QR",generateAnother:"âœ¨ Generovat DalÅ¡Ã­",copyToClipboard:"KopÃ­rovat",copiedToClipboard:"ZkopÃ­rovÃ¡no do schrÃ¡nky!",paymentHistory:"Historie Plateb",filters:"Filtry",allAccounts:"VÅ¡echny ÃšÄty",allEvents:"VÅ¡echny UdÃ¡losti",noPaymentsFound:"Nenalezeny Å¾Ã¡dnÃ© platby",noPaymentsMessage:"Vygenerujte svou prvnÃ­ platbu pro zobrazenÃ­ zde",date:"Datum",selectPayment:"Vyberte platbu",selectPaymentMessage:'KliknÄ›te na "Zobrazit" u platby pro zobrazenÃ­ detailÅ¯',downloadQrCode:"ðŸ’¾ StÃ¡hnout QR KÃ³d",deletePaymentConfirm:"Opravdu chcete smazat tuto platbu?",syncQueue:"Fronta Synchronizace",retryFailed:"ðŸ”„ Opakovat NeÃºspÄ›Å¡nÃ©",processQueue:"â–¶ï¸ Zpracovat Frontu",processing:"ZpracovÃ¡vÃ¡nÃ­...",pending:"ÄŒekajÃ­cÃ­",failed:"NeÃºspÄ›Å¡nÃ©",acknowledged:"PotvrzenÃ©",noSyncItems:"Å½Ã¡dnÃ© poloÅ¾ky synchronizace",noSyncItemsMessage:"VygenerovanÃ© platby se zde objevÃ­, pokud jsou nakonfigurovanÃ© webhooky",queueItems:"PoloÅ¾ky Fronty",resetAllFlags:"Resetovat VÅ¡echny PÅ™Ã­znaky",paymentId:"ID Platby",status:"Stav",attempts:"Pokusy",created:"VytvoÅ™eno",lastAttempt:"PoslednÃ­ Pokus",actions:"Akce",acknowledge:"âœ“ Potvrdit",viewError:"Zobrazit Chybu",language:"Jazyk",languageAuto:"Automaticky",languageCzech:"ÄŒeÅ¡tina",languageEnglish:"English",footerText:"SPAYD GenerÃ¡tor Plateb â€¢ VÅ¡echna data uloÅ¾ena lokÃ¡lnÄ› v prohlÃ­Å¾eÄi",loading:"NaÄÃ­tÃ¡nÃ­...",initializingApp:"Inicializace aplikace...",error:"Chyba",errorGeneratingPayment:"Chyba pÅ™i generovÃ¡nÃ­ platby",invalidIban:"NeplatnÃ½ formÃ¡t IBAN"},bo={appTitle:"SPAYD Payment Generator",appSubtitle:"Multi-account payment QR code system with automatic symbol generation",tabGenerate:"ðŸ’³ Generate",tabAccounts:"ðŸ¦ Accounts",tabEvents:"ðŸ“… Events",tabHistory:"ðŸ“‹ History",tabSync:"ðŸ”„ Sync",add:"Add",edit:"Edit",delete:"Delete",cancel:"Cancel",create:"Create",update:"Update",save:"Save",close:"Close",view:"View",default:"Default",optional:"Optional",required:"Required",accounts:"Bank Accounts",addAccount:"+ Add Account",editAccount:"Edit Account",accountName:"Account Name",accountNamePlaceholder:"e.g., Main Business Account",iban:"IBAN",ibanPlaceholder:"CZ6508000000192000145399",ibanHelp:"Enter the IBAN without spaces (e.g., CZ6508000000192000145399)",currency:"Currency",webhookUrl:"Webhook URL",webhookUrlPlaceholder:"https://api.example.com/webhook",webhookUrlHelp:"URL to send payment notifications (leave empty to disable sync)",setAsDefault:"Set as default account",noAccountsYet:"No accounts yet",noAccountsMessage:"Add your first bank account to start generating payments",deleteAccountConfirm:"Are you sure you want to delete account",events:"Payment Events",addEvent:"+ Add Event",editEvent:"Edit Event",eventName:"Event Name",eventNamePlaceholder:"e.g., Workshop 2024",staticSymbol:"Static Symbol (SS)",staticSymbolPlaceholder:"e.g., 543",staticSymbolHelp:"Event identifier that stays constant for all payments",variableSymbolMode:"Variable Symbol Mode",vsModeCounter:"Counter (Sequential: 1, 2, 3...)",vsModeTime:"Time-based (YYYYMMDDHHmmss)",vsModeStatic:"Static (Same value)",startingCounter:"Starting Counter Value",staticVsValue:"Static VS Value",staticVsValuePlaceholder:"e.g., 123456",permanentAmount:"Permanent Amount",permanentAmountPlaceholder:"e.g., 450.00",permanentAmountHelp:"Set a recurring amount for quick payment generation",setAsDefaultEvent:"Set as default event",noEventsYet:"No events yet",noEventsMessage:"Create your first payment event to organize payments",deleteEventConfirm:"Are you sure you want to delete event",generatePayment:"Generate Payment",selection:"Selection",account:"Account",event:"Event",selectedConfiguration:"Selected Configuration",paymentDetails:"Payment Details",usePermanentAmount:"Use permanent amount",amount:"Amount",amountPlaceholder:"e.g., 450.00",message:"Message",messagePlaceholder:"e.g., Registration fee",quickGenerate:"âš¡ Quick Generate",generatedPayment:"Generated Payment",variableSymbol:"Variable Symbol",setupRequired:"Setup Required",setupRequiredMessage:"Please create at least one account and one event before generating payments.",noPaymentGenerated:"No payment generated yet",noPaymentMessage:"Fill in the form and click generate to create a payment QR code",downloadQr:"ðŸ’¾ Download QR",generateAnother:"âœ¨ Generate Another",copyToClipboard:"Copy",copiedToClipboard:"Copied to clipboard!",paymentHistory:"Payment History",filters:"Filters",allAccounts:"All Accounts",allEvents:"All Events",noPaymentsFound:"No payments found",noPaymentsMessage:"Generate your first payment to see it here",date:"Date",selectPayment:"Select a payment",selectPaymentMessage:'Click "View" on a payment to see details',downloadQrCode:"ðŸ’¾ Download QR Code",deletePaymentConfirm:"Are you sure you want to delete this payment?",syncQueue:"Sync Queue",retryFailed:"ðŸ”„ Retry Failed",processQueue:"â–¶ï¸ Process Queue",processing:"Processing...",pending:"Pending",failed:"Failed",acknowledged:"Acknowledged",noSyncItems:"No sync items",noSyncItemsMessage:"Generated payments will appear here if webhooks are configured",queueItems:"Queue Items",resetAllFlags:"Reset All Flags",paymentId:"Payment ID",status:"Status",attempts:"Attempts",created:"Created",lastAttempt:"Last Attempt",actions:"Actions",acknowledge:"âœ“ Ack",viewError:"View Error",language:"Language",languageAuto:"Automatic",languageCzech:"ÄŒeÅ¡tina",languageEnglish:"English",footerText:"SPAYD Payment Generator â€¢ All data stored locally in your browser",loading:"Loading...",initializingApp:"Initializing application...",error:"Error",errorGeneratingPayment:"Failed to generate payment",invalidIban:"Invalid IBAN format"},yo={cs:po,en:bo};function ut(){return(navigator.language||navigator.userLanguage).toLowerCase().startsWith("cs")?"cs":"en"}function je(e){return yo[e]}const $n=Mr(null);function _o({children:e}){const[t,n]=k("en"),[r,o]=k("auto"),[a,i]=k(je("en"));ne(()=>{c()},[]);async function c(){console.log("[I18n] Loading language preference from IndexedDB");const b=await Qr("language");console.log("[I18n] Saved language preference:",b);let y;b==="auto"||!b?(y=ut(),console.log("[I18n] Using auto-detected language:",y)):(y=b,console.log("[I18n] Using saved language:",y)),o(b||"auto"),n(y),i(je(y)),console.log("[I18n] Applied locale:",y)}async function d(b){console.log("[I18n] Setting new locale preference:",b),await qr("language",b),console.log("[I18n] Saved to IndexedDB");const y=b==="auto"?ut():b;console.log("[I18n] Effective locale:",y),o(b),n(y),i(je(y)),console.log("[I18n] Applied translations for:",y)}return s($n.Provider,{value:{locale:t,savedPreference:r,t:a,setLocale:d},children:e})}function Zn(){const e=Tr($n);if(!e)throw new Error("useI18n must be used within I18nProvider");return e}function vo(){const{savedPreference:e,t,setLocale:n}=Zn();async function r(o){const a=o.target.value;console.log("[LanguageSwitcher] User selected:",a),await n(a)}return s("div",{className:"language-switcher",style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[s("label",{htmlFor:"language-select",className:"text-sm text-secondary",children:[t.language,":"]}),s("select",{id:"language-select",value:e,onChange:r,className:"language-select",style:{minWidth:"120px"},children:[s("option",{value:"auto",children:t.languageAuto}),s("option",{value:"cs",children:t.languageCzech}),s("option",{value:"en",children:t.languageEnglish})]})]})}function Ao(){const{t:e}=Zn(),[t,n]=k("generate"),[r,o]=k(!1);ne(()=>{Q().then(async()=>{const i=ut();await jr(i),o(!0);const c=fo(3e4);return()=>{typeof c=="number"&&clearInterval(c)}}).catch(i=>{console.error("Failed to initialize database:",i),alert("Failed to initialize database. Please refresh the page.")})},[]);const a=[{id:"generate",label:e.tabGenerate},{id:"accounts",label:e.tabAccounts},{id:"events",label:e.tabEvents},{id:"history",label:e.tabHistory},{id:"sync",label:e.tabSync}];return r?s("div",{className:"container",children:[s("header",{style:{textAlign:"center",marginBottom:"var(--spacing-xl)"},children:[s("h1",{style:{background:"linear-gradient(135deg, var(--color-primary), var(--color-secondary))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:"var(--spacing-sm)"},children:e.appTitle}),s("p",{className:"text-secondary",children:e.appSubtitle}),s("div",{style:{marginTop:"var(--spacing-md)"},children:s(vo,{})})]}),s("nav",{className:"tabs",children:a.map(i=>s("button",{className:`tab-button ${t===i.id?"active":""}`,onClick:()=>n(i.id),children:i.label},i.id))}),s("main",{children:[t==="generate"&&s(lo,{}),t==="accounts"&&s(ha,{}),t==="events"&&s(ga,{}),t==="history"&&s(uo,{}),t==="sync"&&s(mo,{})]}),s("footer",{style:{textAlign:"center",marginTop:"var(--spacing-2xl)",paddingTop:"var(--spacing-xl)",borderTop:"1px solid var(--color-border-light)",color:"var(--color-text-tertiary)",fontSize:"0.875rem"},children:s("p",{children:e.footerText})})]}):s("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:s("div",{style:{textAlign:"center"},children:[s("div",{className:"spinner",style:{width:"3rem",height:"3rem",margin:"0 auto 1rem"}}),s("div",{className:"text-lg",children:e.initializingApp})]})})}Dr(s(_o,{children:s(Ao,{})}),document.getElementById("app"));
