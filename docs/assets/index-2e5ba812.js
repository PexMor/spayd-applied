(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Le,D,on,ce,Ut,sn,tt,cn,he={},ln=[],Dr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ht=Array.isArray;function ne(e,t){for(var n in t)e[n]=t[n];return e}function un(e){var t=e.parentNode;t&&t.removeChild(e)}function kr(e,t,n){var o,s,a,i={};for(a in t)a=="key"?o=t[a]:a=="ref"?s=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?Le.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)i[a]===void 0&&(i[a]=e.defaultProps[a]);return Re(e,i,o,s,null)}function Re(e,t,n,o,s){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++on};return s==null&&D.vnode!=null&&D.vnode(a),a}function j(e){return e.children}function De(e,t){this.props=e,this.context=t}function _e(e,t){if(t==null)return e.__?_e(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__d||n.__e;return typeof e.type=="function"?_e(e):null}function dn(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return dn(e)}}function nt(e){(!e.__d&&(e.__d=!0)&&ce.push(e)&&!$e.__r++||Ut!==D.debounceRendering)&&((Ut=D.debounceRendering)||sn)($e)}function $e(){var e,t,n,o,s,a,i,c,u;for(ce.sort(tt);e=ce.shift();)e.__d&&(t=ce.length,o=void 0,s=void 0,a=void 0,c=(i=(n=e).__v).__e,(u=n.__P)&&(o=[],s=[],(a=ne({},i)).__v=i.__v+1,gt(u,i,a,n.__n,u.ownerSVGElement!==void 0,i.__h!=null?[c]:null,o,c??_e(i),i.__h,s),fn(o,i,s),i.__e!=c&&dn(i)),ce.length>t&&ce.sort(tt));$e.__r=0}function hn(e,t,n,o,s,a,i,c,u,f,p){var m,A,v,b,w,N,S,y,C,I=0,x=o&&o.__k||ln,B=x.length,T=B,k=t.length;for(n.__k=[],m=0;m<k;m++)(b=n.__k[m]=(b=t[m])==null||typeof b=="boolean"||typeof b=="function"?null:typeof b=="string"||typeof b=="number"||typeof b=="bigint"?Re(null,b,null,null,b):ht(b)?Re(j,{children:b},null,null,null):b.__b>0?Re(b.type,b.props,b.key,b.ref?b.ref:null,b.__v):b)!=null?(b.__=n,b.__b=n.__b+1,(y=Mr(b,x,S=m+I,T))===-1?v=he:(v=x[y]||he,x[y]=void 0,T--),gt(e,b,v,s,a,i,c,u,f,p),w=b.__e,(A=b.ref)&&v.ref!=A&&(v.ref&&mt(v.ref,null,b),p.push(A,b.__c||w,b)),w!=null&&(N==null&&(N=w),(C=v===he||v.__v===null)?y==-1&&I--:y!==S&&(y===S+1?I++:y>S?T>k-S?I+=y-S:I--:I=y<S&&y==S-1?y-S:0),S=m+I,typeof b.type!="function"||y===S&&v.__k!==b.__k?typeof b.type=="function"||y===S&&!C?b.__d!==void 0?(u=b.__d,b.__d=void 0):u=w.nextSibling:u=mn(e,w,u):u=gn(b,u,e),typeof n.type=="function"&&(n.__d=u))):(v=x[m])&&v.key==null&&v.__e&&(v.__e==u&&(v.__=o,u=_e(v)),rt(v,v,!1),x[m]=null);for(n.__e=N,m=B;m--;)x[m]!=null&&(typeof n.type=="function"&&x[m].__e!=null&&x[m].__e==n.__d&&(n.__d=x[m].__e.nextSibling),rt(x[m],x[m]))}function gn(e,t,n){for(var o,s=e.__k,a=0;s&&a<s.length;a++)(o=s[a])&&(o.__=e,t=typeof o.type=="function"?gn(o,t,n):mn(n,o.__e,t));return t}function mn(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function Mr(e,t,n,o){var s=e.key,a=e.type,i=n-1,c=n+1,u=t[n];if(u===null||u&&s==u.key&&a===u.type)return n;if(o>(u!=null?1:0))for(;i>=0||c<t.length;){if(i>=0){if((u=t[i])&&s==u.key&&a===u.type)return i;i--}if(c<t.length){if((u=t[c])&&s==u.key&&a===u.type)return c;c++}}return-1}function Tr(e,t,n,o,s){var a;for(a in n)a==="children"||a==="key"||a in t||Ue(e,a,null,n[a],o);for(a in t)s&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||n[a]===t[a]||Ue(e,a,t[a],n[a],o)}function Zt(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Dr.test(t)?n:n+"px"}function Ue(e,t,n,o,s){var a;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||Zt(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||Zt(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?o?n.u=o.u:(n.u=Date.now(),e.addEventListener(t,a?Lt:Ft,a)):e.removeEventListener(t,a?Lt:Ft,a);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ft(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(D.event?D.event(e):e)}function Lt(e){return this.l[e.type+!0](D.event?D.event(e):e)}function gt(e,t,n,o,s,a,i,c,u,f){var p,m,A,v,b,w,N,S,y,C,I,x,B,T,k,F=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(p=D.__b)&&p(t);e:if(typeof F=="function")try{if(S=t.props,y=(p=F.contextType)&&o[p.__c],C=p?y?y.props.value:p.__:o,n.__c?N=(m=t.__c=n.__c).__=m.__E:("prototype"in F&&F.prototype.render?t.__c=m=new F(S,C):(t.__c=m=new De(S,C),m.constructor=F,m.render=Ur),y&&y.sub(m),m.props=S,m.state||(m.state={}),m.context=C,m.__n=o,A=m.__d=!0,m.__h=[],m._sb=[]),m.__s==null&&(m.__s=m.state),F.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=ne({},m.__s)),ne(m.__s,F.getDerivedStateFromProps(S,m.__s))),v=m.props,b=m.state,m.__v=t,A)F.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(F.getDerivedStateFromProps==null&&S!==v&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(S,C),!m.__e&&(m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(S,m.__s,C)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(m.props=S,m.state=m.__s,m.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(H){H&&(H.__=t)}),I=0;I<m._sb.length;I++)m.__h.push(m._sb[I]);m._sb=[],m.__h.length&&i.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(S,m.__s,C),m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(v,b,w)})}if(m.context=C,m.props=S,m.__P=e,m.__e=!1,x=D.__r,B=0,"prototype"in F&&F.prototype.render){for(m.state=m.__s,m.__d=!1,x&&x(t),p=m.render(m.props,m.state,m.context),T=0;T<m._sb.length;T++)m.__h.push(m._sb[T]);m._sb=[]}else do m.__d=!1,x&&x(t),p=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++B<25);m.state=m.__s,m.getChildContext!=null&&(o=ne(ne({},o),m.getChildContext())),A||m.getSnapshotBeforeUpdate==null||(w=m.getSnapshotBeforeUpdate(v,b)),hn(e,ht(k=p!=null&&p.type===j&&p.key==null?p.props.children:p)?k:[k],t,n,o,s,a,i,c,u,f),m.base=t.__e,t.__h=null,m.__h.length&&i.push(m),N&&(m.__E=m.__=null)}catch(H){t.__v=null,(u||a!=null)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),D.__e(H,t,n)}else a==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=$r(n.__e,t,n,o,s,a,i,u,f);(p=D.diffed)&&p(t)}function fn(e,t,n){for(var o=0;o<n.length;o++)mt(n[o],n[++o],n[++o]);D.__c&&D.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(a){a.call(s)})}catch(a){D.__e(a,s.__v)}})}function $r(e,t,n,o,s,a,i,c,u){var f,p,m,A=n.props,v=t.props,b=t.type,w=0;if(b==="svg"&&(s=!0),a!=null){for(;w<a.length;w++)if((f=a[w])&&"setAttribute"in f==!!b&&(b?f.localName===b:f.nodeType===3)){e=f,a[w]=null;break}}if(e==null){if(b===null)return document.createTextNode(v);e=s?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,v.is&&v),a=null,c=!1}if(b===null)A===v||c&&e.data===v||(e.data=v);else{if(a=a&&Le.call(e.childNodes),p=(A=n.props||he).dangerouslySetInnerHTML,m=v.dangerouslySetInnerHTML,!c){if(a!=null)for(A={},w=0;w<e.attributes.length;w++)A[e.attributes[w].name]=e.attributes[w].value;(m||p)&&(m&&(p&&m.__html==p.__html||m.__html===e.innerHTML)||(e.innerHTML=m&&m.__html||""))}if(Tr(e,v,A,s,c),m)t.__k=[];else if(hn(e,ht(w=t.props.children)?w:[w],t,n,o,s&&b!=="foreignObject",a,i,a?a[0]:n.__k&&_e(n,0),c,u),a!=null)for(w=a.length;w--;)a[w]!=null&&un(a[w]);c||("value"in v&&(w=v.value)!==void 0&&(w!==e.value||b==="progress"&&!w||b==="option"&&w!==A.value)&&Ue(e,"value",w,A.value,!1),"checked"in v&&(w=v.checked)!==void 0&&w!==e.checked&&Ue(e,"checked",w,A.checked,!1))}return e}function mt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){D.__e(o,n)}}function rt(e,t,n){var o,s;if(D.unmount&&D.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||mt(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){D.__e(a,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&rt(o[s],t,n||typeof e.type!="function");n||e.__e==null||un(e.__e),e.__=e.__e=e.__d=void 0}function Ur(e,t,n){return this.constructor(e,n)}function Zr(e,t,n){var o,s,a,i;D.__&&D.__(e,t),s=(o=typeof n=="function")?null:n&&n.__k||t.__k,a=[],i=[],gt(t,e=(!o&&n||t).__k=kr(j,null,[e]),s||he,he,t.ownerSVGElement!==void 0,!o&&n?[n]:s?null:t.firstChild?Le.call(t.childNodes):null,a,!o&&n?n:s?s.__e:t.firstChild,o,i),fn(a,e,i)}function Fr(e,t){var n={__c:t="__cC"+cn++,__:e,Consumer:function(o,s){return o.children(s)},Provider:function(o){var s,a;return this.getChildContext||(s=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&s.some(function(c){c.__e=!0,nt(c)})},this.sub=function(i){s.push(i);var c=i.componentWillUnmount;i.componentWillUnmount=function(){s.splice(s.indexOf(i),1),c&&c.call(i)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}Le=ln.slice,D={__e:function(e,t,n,o){for(var s,a,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),i=s.__d),i)return s.__E=s}catch(c){e=c}throw e}},on=0,De.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ne({},this.state),typeof e=="function"&&(e=e(ne({},n),this.props)),e&&ne(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),nt(this))},De.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nt(this))},De.prototype.render=j,ce=[],sn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tt=function(e,t){return e.__v.__b-t.__v.__b},$e.__r=0,cn=0;var Ae,G,Ke,Gt,at=0,pn=[],ke=[],Ht=D.__b,Ot=D.__r,Wt=D.diffed,Vt=D.__c,zt=D.unmount;function ft(e,t){D.__h&&D.__h(G,e,at||t),at=0;var n=G.__H||(G.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:ke}),n.__[e]}function R(e){return at=1,Lr(bn,e)}function Lr(e,t,n){var o=ft(Ae++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):bn(void 0,t),function(c){var u=o.__N?o.__N[0]:o.__[0],f=o.t(u,c);u!==f&&(o.__N=[f,o.__[1]],o.__c.setState({}))}],o.__c=G,!G.u)){var s=function(c,u,f){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(A){return A.__c});if(p.every(function(A){return!A.__N}))return!a||a.call(this,c,u,f);var m=!1;return p.forEach(function(A){if(A.__N){var v=A.__[0];A.__=A.__N,A.__N=void 0,v!==A.__[0]&&(m=!0)}}),!(!m&&o.__c.props===c)&&(!a||a.call(this,c,u,f))};G.u=!0;var a=G.shouldComponentUpdate,i=G.componentWillUpdate;G.componentWillUpdate=function(c,u,f){if(this.__e){var p=a;a=void 0,s(c,u,f),a=p}i&&i.call(this,c,u,f)},G.shouldComponentUpdate=s}return o.__N||o.__}function ae(e,t){var n=ft(Ae++,3);!D.__s&&Wr(n.__H,t)&&(n.__=e,n.i=t,G.__H.__h.push(n))}function Gr(e){var t=G.context[e.__c],n=ft(Ae++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(G)),t.props.value):e.__}function Hr(){for(var e;e=pn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Me),e.__H.__h.forEach(ot),e.__H.__h=[]}catch(t){e.__H.__h=[],D.__e(t,e.__v)}}D.__b=function(e){G=null,Ht&&Ht(e)},D.__r=function(e){Ot&&Ot(e),Ae=0;var t=(G=e.__c).__H;t&&(Ke===G?(t.__h=[],G.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ke,n.__N=n.i=void 0})):(t.__h.forEach(Me),t.__h.forEach(ot),t.__h=[],Ae=0)),Ke=G},D.diffed=function(e){Wt&&Wt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(pn.push(t)!==1&&Gt===D.requestAnimationFrame||((Gt=D.requestAnimationFrame)||Or)(Hr)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ke&&(n.__=n.__V),n.i=void 0,n.__V=ke})),Ke=G=null},D.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Me),n.__h=n.__h.filter(function(o){return!o.__||ot(o)})}catch(o){t.some(function(s){s.__h&&(s.__h=[])}),t=[],D.__e(o,n.__v)}}),Vt&&Vt(e,t)},D.unmount=function(e){zt&&zt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Me(o)}catch(s){t=s}}),n.__H=void 0,t&&D.__e(t,n.__v))};var Yt=typeof requestAnimationFrame=="function";function Or(e){var t,n=function(){clearTimeout(o),Yt&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Yt&&(t=requestAnimationFrame(n))}function Me(e){var t=G,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),G=t}function ot(e){var t=G;e.__c=e.__(),G=t}function Wr(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function bn(e,t){return typeof t=="function"?t(e):t}const yn={accounts:[{name:"HlavnÃ­ FiremnÃ­ ÃšÄet",iban:"CZ6508000000192000145399",currency:"CZK",isDefault:!0},{name:"PÅ™Ã­jmy z WorkshopÅ¯",iban:"CZ9401000000120320000012",currency:"CZK",isDefault:!1},{name:"MezinÃ¡rodnÃ­ ÃšÄet",iban:"SK3112000000198742637541",currency:"EUR",isDefault:!1}],events:[{name:"Workshop 2024",staticSymbol:"543",vsMode:"counter",permanentAmount:450,message:"Registrace na workshop",isDefault:!0},{name:"ÄŒlenskÃ© PÅ™Ã­spÄ›vky",staticSymbol:"777",vsMode:"time",permanentAmount:300,isDefault:!1},{name:"JednorÃ¡zovÃ© Platby",staticSymbol:"999",vsMode:"static",vsStaticValue:"1",isDefault:!1}]},vn={accounts:[{name:"Main Business Account",iban:"CZ6508000000192000145399",currency:"CZK",isDefault:!0},{name:"Workshop Revenue",iban:"CZ9401000000120320000012",currency:"CZK",isDefault:!1},{name:"International Account",iban:"SK3112000000198742637541",currency:"EUR",isDefault:!1}],events:[{name:"Workshop 2024",staticSymbol:"543",vsMode:"counter",permanentAmount:450,message:"Workshop registration fee",isDefault:!0},{name:"Membership Fees",staticSymbol:"777",vsMode:"time",permanentAmount:300,isDefault:!1},{name:"One-time Payments",staticSymbol:"999",vsMode:"static",vsStaticValue:"1",isDefault:!1}]},Vr={cs:yn,en:vn},zr=Object.freeze(Object.defineProperty({__proto__:null,cs:yn,default:Vr,en:vn},Symbol.toStringTag,{value:"Module"}));let Pe=null;const Yr=zr;async function J(){if(Pe)return Pe;const e="spayd-db",t=3;return new Promise((n,o)=>{const s=indexedDB.open(e,t);s.onerror=()=>{o(new Error("Failed to open database"))},s.onsuccess=()=>{Pe=s.result,n(Pe)},s.onupgradeneeded=a=>{const i=a.target.result;if(i.objectStoreNames.contains("accounts")||i.createObjectStore("accounts",{keyPath:"id",autoIncrement:!0}).createIndex("isDefault","isDefault",{unique:!1}),i.objectStoreNames.contains("events")||i.createObjectStore("events",{keyPath:"id",autoIncrement:!0}).createIndex("isDefault","isDefault",{unique:!1}),!i.objectStoreNames.contains("payments")){const c=i.createObjectStore("payments",{keyPath:"id",autoIncrement:!0});c.createIndex("accountId","accountId",{unique:!1}),c.createIndex("eventId","eventId",{unique:!1}),c.createIndex("createdAt","createdAt",{unique:!1})}if(!i.objectStoreNames.contains("syncQueue")){const c=i.createObjectStore("syncQueue",{keyPath:"id",autoIncrement:!0});c.createIndex("paymentId","paymentId",{unique:!1}),c.createIndex("status","status",{unique:!1})}i.objectStoreNames.contains("settings")||i.createObjectStore("settings",{keyPath:"key"})}})}async function _n(e){const t=await J();return new Promise((n,o)=>{const i=t.transaction(e,"readonly").objectStore(e).getAll();i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async function Ge(e,t){const n=await J();return new Promise((o,s)=>{const c=n.transaction(e,"readonly").objectStore(e).get(t);c.onsuccess=()=>o(c.result),c.onerror=()=>s(c.error)})}async function He(e,t){const n=await J();return new Promise((o,s)=>{const c=n.transaction(e,"readwrite").objectStore(e).add(t);c.onsuccess=()=>o(c.result),c.onerror=()=>s(c.error)})}async function pt(e,t){const n=await J();return new Promise((o,s)=>{const c=n.transaction(e,"readwrite").objectStore(e).put(t);c.onsuccess=()=>o(),c.onerror=()=>s(c.error)})}async function bt(e,t){const n=await J();return new Promise((o,s)=>{const c=n.transaction(e,"readwrite").objectStore(e).delete(t);c.onsuccess=()=>o(),c.onerror=()=>s(c.error)})}async function ge(){return _n("accounts")}async function Kr(e){return Ge("accounts",e)}async function yt(e){return He("accounts",e)}async function qr(e){if(!e.id)throw new Error("Account ID is required for update");return e.updatedAt=Date.now(),pt("accounts",e)}async function Qr(e){return bt("accounts",e)}async function me(){return _n("events")}async function jr(e){return Ge("events",e)}async function vt(e){return He("events",e)}async function An(e){if(!e.id)throw new Error("Event ID is required for update");return e.updatedAt=Date.now(),pt("events",e)}async function Jr(e){return bt("events",e)}async function Xr(e){console.log("[DB] Getting payments with filters",e);const t=await J();return new Promise((n,o)=>{const a=t.transaction("payments","readonly").objectStore("payments");let i;e!=null&&e.accountId?i=a.index("accountId").getAll(e.accountId):e!=null&&e.eventId?i=a.index("eventId").getAll(e.eventId):i=a.getAll(),i.onsuccess=()=>{let c=i.result;e!=null&&e.accountId&&(e!=null&&e.eventId)&&(c=c.filter(u=>u.accountId===e.accountId&&u.eventId===e.eventId)),c.sort((u,f)=>f.createdAt-u.createdAt),n(c)},i.onerror=()=>o(i.error)})}async function ea(e){console.log("[DB] Adding payment to IndexedDB",e);const t=await He("payments",e);return console.log("[DB] Payment added with ID:",t),t}async function ta(e){return bt("payments",e)}async function Ne(e){const t=await J();return new Promise((n,o)=>{const a=t.transaction("syncQueue","readonly").objectStore("syncQueue");let i;e?i=a.index("status").getAll(e):i=a.getAll(),i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async function na(e){return He("syncQueue",e)}async function Te(e,t,n){const o=await Ge("syncQueue",e);if(!o)throw new Error("Sync queue item not found");return o.status=t,o.lastAttempt=Date.now(),o.attempts=(o.attempts||0)+1,t==="acked"&&(o.ackedAt=Date.now()),n&&(o.error=n),pt("syncQueue",o)}async function ra(e){const t=await Ne(),n=await J();return new Promise((o,s)=>{const i=n.transaction("syncQueue","readwrite").objectStore("syncQueue");let c=t;e!=null&&e.fromPaymentId&&!e.global?Ge("payments",e.fromPaymentId).then(u=>{u&&(c=t.filter(f=>f.createdAt>=u.createdAt),Kt(i,c,o,s))}):Kt(i,c,o,s)})}function Kt(e,t,n,o){t.forEach(s=>{s.status="pending",s.attempts=0,s.lastAttempt=void 0,s.ackedAt=void 0,s.error=void 0;const a=e.put(s);a.onerror=()=>o(a.error)}),n()}async function aa(e){const t=await J();return new Promise((n,o)=>{const i=t.transaction("settings","readonly").objectStore("settings").get(e);i.onsuccess=()=>{const c=i.result;n(c?c.value:void 0)},i.onerror=()=>o(i.error)})}async function oa(e,t){const n=await J();return new Promise((o,s)=>{const c=n.transaction("settings","readwrite").objectStore("settings").put({key:e,value:t});c.onsuccess=()=>o(),c.onerror=()=>s(c.error)})}async function sa(e="en"){console.log("[DB] Adding sample data for locale:",e);const t=Date.now(),n=Yr[e];if(!n){console.error("[DB] Sample data not found for locale:",e);return}const o=await ge(),s=await me();let a=0,i=0,c=0,u=0;for(const f of n.accounts)if(o.some(m=>m.iban===f.iban))console.log("[DB] Skipping existing account (IBAN exists):",f.name),i++;else try{await yt({...f,createdAt:t,updatedAt:t}),a++,console.log("[DB] Added sample account:",f.name)}catch(m){console.log("[DB] Failed to add sample account (conflict?):",f.name,m),i++}for(const f of n.events)if(s.some(m=>m.staticSymbol===f.staticSymbol))console.log("[DB] Skipping existing event (static symbol exists):",f.name),u++;else try{await vt({...f,vsCounter:f.vsCounter||1,createdAt:t,updatedAt:t}),c++,console.log("[DB] Added sample event:",f.name)}catch(m){console.log("[DB] Failed to add sample event (conflict?):",f.name,m),u++}console.log(`[DB] Sample data complete: ${a} accounts added (${i} skipped), ${c} events added (${u} skipped)`)}/*!
 * @license
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. *//**
 * Validation, extraction and creation of IBAN, BBAN, BIC/SWIFT numbers plus some other helpful stuff
 * @package Documentation
 * @author SaÅ¡a JovaniÄ‡
 * @module ibantools
 * @version 4.3.4
 * @license MPL-2.0
 * @preferred
 */function Nn(e,t){if(t===void 0&&(t={allowQRIBAN:!0}),e==null)return!1;var n=new RegExp("^[0-9]{2}$",""),o=e.slice(0,2),s=Cn[o];return s===void 0||s.bban_regexp===void 0||s.bban_regexp===null||s.chars===void 0?!1:s.chars===e.length&&n.test(e.slice(2,4))&&ia(e.slice(4),o)&&ua(e)&&(t.allowQRIBAN||!ca(e))}var qt;(function(e){e[e.NoIBANProvided=0]="NoIBANProvided",e[e.NoIBANCountry=1]="NoIBANCountry",e[e.WrongBBANLength=2]="WrongBBANLength",e[e.WrongBBANFormat=3]="WrongBBANFormat",e[e.ChecksumNotNumber=4]="ChecksumNotNumber",e[e.WrongIBANChecksum=5]="WrongIBANChecksum",e[e.WrongAccountBankBranchChecksum=6]="WrongAccountBankBranchChecksum",e[e.QRIBANNotAllowed=7]="QRIBANNotAllowed"})(qt||(qt={}));function ia(e,t){if(e==null||t===void 0||t===null)return!1;var n=Cn[t];return n==null||n.bban_regexp===void 0||n.bban_regexp===null||n.chars===void 0||n.chars===null?!1:n.chars-4===e.length&&la(e,n.bban_regexp)?n.bban_validation_func?n.bban_validation_func(e.replace(/[\s.]+/g,"")):!0:!1}function ca(e){if(e==null)return!1;var t=e.slice(0,2),n=["LI","CH"];if(!n.includes(t))return!1;var o=new RegExp("^3[0-1]{1}[0-9]{3}$","");return o.test(e.slice(4,9))}function la(e,t){var n=new RegExp(t,"");return n.test(e)}function wn(e){return typeof e!="string"?null:e.replace(/[-\ ]/g,"").toUpperCase()}function Sn(e,t){if(typeof e!="string")return null;t==null&&(t=" ");var n=wn(e);return n===null?null:n.replace(/(.{4})(?!$)/g,"$1"+t)}function ua(e){var t=e.slice(0,2),n=parseInt(e.slice(2,4),10),o=e.slice(4),s=da("".concat(o).concat(t,"00")),a=_t(s);return 98-a===n}function da(e){return e.split("").map(function(t){var n=t.charCodeAt(0);return n>=65?(n-55).toString():t}).join("")}var Qt;(function(e){e[e.NoBICProvided=0]="NoBICProvided",e[e.NoBICCountry=1]="NoBICCountry",e[e.WrongBICFormat=2]="WrongBICFormat"})(Qt||(Qt={}));var ha=function(e){for(var t=[5,4,3,2,7,6,5,4,3,2],n=e.replace(/[\s.]+/g,""),o=parseInt(n.charAt(10),10),s=n.substring(0,10),a=0,i=0;i<10;i++)a+=parseInt(s.charAt(i),10)*t[i];var c=a%11;return o===(c===0?0:11-c)},ga=function(e){var t=e.replace(/[\s.]+/g,""),n=parseInt(t.substring(0,t.length-2),10),o=parseInt(t.substring(t.length-2,t.length),10),s=n%97===0?97:n%97;return s===o},_t=function(e){for(;e.length>2;){var t=e.slice(0,6),n=parseInt(t,10);if(isNaN(n))return NaN;e=n%97+e.slice(t.length)}return parseInt(e,10)%97},de=function(e){var t=e.replace(/[\s.]+/g,""),n=_t(t);return n===1},ma=function(e){for(var t=[3,9,7,1,3,9,7],n=parseInt(e.charAt(7),10),o=e.substring(0,7),s=0,a=0;a<7;a++)s+=parseInt(o.charAt(a),10)*t[a];var i=s%10;return n===(i===0?0:10-i)},fa=function(e){for(var t=[4,8,5,10,9,7,3,6],n=[1,2,4,8,5,10,9,7,3,6],o=parseInt(e.charAt(8),10),s=parseInt(e.charAt(9),10),a=e.substring(0,8),i=e.substring(10,20),c=0,u=0;u<8;u++)c+=parseInt(a.charAt(u),10)*t[u];var f=c%11;if(o!==(f===0?0:f===1?1:11-f))return!1;c=0;for(var u=0;u<10;u++)c+=parseInt(i.charAt(u),10)*n[u];return f=c%11,s===(f===0?0:f===1?1:11-f)},jt=function(e,t){for(var n=10,o=0;o<e.length;o++)n+=parseInt(e.charAt(o),10),n%10!==0&&(n=n%10),n=n*2,n=n%11;return t===(11-n===10?0:11-n)},pa=function(e){var t=parseInt(e.charAt(6),10),n=parseInt(e.charAt(16),10),o=e.substring(0,6),s=e.substring(7,16);return jt(o,t)&&jt(s,n)},Jt=function(e){for(var t=[10,5,8,4,2,1],n=[6,3,7,9,10,5,8,4,2,1],o=parseInt(e.charAt(9),10),s=parseInt(e.charAt(19),10),a=e.substring(4,9),i=e.substring(10,19),c=0,u=0;u<a.length;u++)c+=parseInt(a.charAt(u),10)*t[u];var f=c%11;if(o!==(f===0?0:f===1?1:11-f))return!1;c=0;for(var u=0;u<i.length;u++)c+=parseInt(i.charAt(u),10)*n[u];return f=c%11,s===(f===0?0:f===1?1:11-f)},ba=function(e){for(var t=[7,1,3,7,1,3,7,1,3,7,1,3,7],n=parseInt(e.charAt(15),10),o=e.substring(2,15),s=0,a=0;a<o.length;a++)s+=parseInt(o.charAt(a),10)*t[a];var i=s%10;return n===(i===0?0:10-i)},Xt=function(e){for(var t=e.replace(/[\s.]+/g,""),n=Array.from(t),o=0;o<t.length;o++){var s=n[o].charCodeAt(0);if(s>=65)switch(s){case 65:case 74:n[o]="1";break;case 66:case 75:case 83:n[o]="2";break;case 67:case 76:case 84:n[o]="3";break;case 68:case 77:case 85:n[o]="4";break;case 69:case 78:case 86:n[o]="5";break;case 70:case 79:case 87:n[o]="6";break;case 71:case 80:case 88:n[o]="7";break;case 72:case 81:case 89:n[o]="8";break;case 73:case 82:case 90:n[o]="9";break}}var a=_t(n.join(""));return a===0},ya=function(e){for(var t=[9,7,3,1,9,7,3,1,9,7,3,1,9,7,3],n=parseInt(e.charAt(7),10),o=e.substring(0,7),s=0,a=0;a<o.length;a++)s+=parseInt(o.charAt(a),10)*t[a];var i=s%10;if(n!==(i===0?0:10-i))return!1;if(s=0,e.endsWith("00000000")){for(var c=e.substring(8,15),u=parseInt(e.charAt(15),10),a=0;a<c.length;a++)s+=parseInt(c.charAt(a),10)*t[a];var f=s%10;return u===(f===0?0:10-f)}else{for(var c=e.substring(8,23),u=parseInt(e.charAt(23),10),a=0;a<c.length;a++)s+=parseInt(c.charAt(a),10)*t[a];var p=s%10;return u===(p===0?0:10-p)}},Cn={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0},AF:{},AG:{},AI:{},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},AM:{},AO:{chars:25,bban_regexp:"^[0-9]{21}$"},AQ:{},AR:{},AS:{},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},AU:{},AW:{},AX:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[A-Z0-9]{20}$",IBANRegistry:!0},BA:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:de,IBANRegistry:!0},BB:{},BD:{},BE:{chars:16,bban_regexp:"^[0-9]{12}$",bban_validation_func:ga,IBANRegistry:!0,SEPA:!0},BF:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0,SEPA:!0},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0},BI:{chars:27,bban_regexp:"^[0-9]{23}$"},BJ:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},BM:{},BN:{},BO:{},BQ:{},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0},BS:{},BT:{},BV:{},BW:{},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0},BZ:{},CA:{},CC:{},CD:{},CF:{chars:27,bban_regexp:"^[0-9]{23}$"},CG:{chars:27,bban_regexp:"^[0-9]{23}$"},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},CK:{},CL:{},CM:{chars:27,bban_regexp:"^[0-9]{23}$"},CN:{},CO:{},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},CU:{},CV:{chars:25,bban_regexp:"^[0-9]{21}$"},CW:{},CX:{},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:Jt,IBANRegistry:!0,SEPA:!0},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,SEPA:!0},DJ:{chars:27,bban_regexp:"^[0-9]{23}$"},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},DM:{},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},DZ:{chars:26,bban_regexp:"^[0-9]{22}$"},EC:{},EE:{chars:20,bban_regexp:"^[0-9]{16}$",bban_validation_func:ba,IBANRegistry:!0,SEPA:!0},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0},EH:{},ER:{},ES:{chars:24,bban_validation_func:fa,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},ET:{},FI:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},FJ:{},FK:{chars:18,bban_regexp:"^[A-Z]{2}[0-9]{12}$"},FM:{},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:Xt,IBANRegistry:!0,SEPA:!0},GA:{chars:27,bban_regexp:"^[0-9]{23}$"},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GD:{},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{},GH:{},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0,SEPA:!0},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},GM:{},GN:{},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$"},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},GS:{},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0},GU:{},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$"},GY:{},HK:{},HM:{},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},HR:{chars:21,bban_regexp:"^[0-9]{17}$",bban_validation_func:pa,IBANRegistry:!0,SEPA:!0},HT:{},HU:{chars:28,bban_regexp:"^[0-9]{24}$",bban_validation_func:ya,IBANRegistry:!0,SEPA:!0},ID:{},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},IM:{},IN:{},IO:{},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0},IR:{chars:26,bban_regexp:"^[0-9]{22}$"},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0,SEPA:!0},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},JE:{},JM:{},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0},JP:{},KE:{},KG:{},KH:{},KI:{},KM:{chars:27,bban_regexp:"^[0-9]{23}$"},KN:{},KP:{},KR:{},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0},KY:{},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LA:{},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},LK:{},LR:{},LS:{},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LY:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},MA:{chars:28,bban_regexp:"^[0-9]{24}$"},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",bban_validation_func:Xt,IBANRegistry:!0,SEPA:!0},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},ME:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:de,IBANRegistry:!0},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$"},MH:{},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",bban_validation_func:de,IBANRegistry:!0},ML:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},MM:{},MN:{chars:20,bban_regexp:"^[0-9]{16}$"},MO:{},MP:{},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0},MS:{},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0,SEPA:!0},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0},MV:{},MW:{},MX:{},MY:{},MZ:{chars:25,bban_regexp:"^[0-9]{21}$"},NA:{},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},NF:{},NG:{},NI:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0,SEPA:!0},NO:{chars:15,bban_regexp:"^[0-9]{11}$",bban_validation_func:ha,IBANRegistry:!0,SEPA:!0},NP:{},NR:{},NU:{},NZ:{},OM:{},PA:{},PE:{},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{},PH:{},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},PL:{chars:28,bban_validation_func:ma,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{},PR:{},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0},PT:{chars:25,bban_regexp:"^[0-9]{21}$",bban_validation_func:de,IBANRegistry:!0,SEPA:!0},PW:{},PY:{},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},RS:{chars:22,bban_regexp:"^[0-9]{18}$",bban_validation_func:de,IBANRegistry:!0},RU:{chars:33,bban_regexp:"^[0-9]{14}[A-Z0-9]{15}$",IBANRegistry:!0},RW:{},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},SB:{},SC:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{20}[A-Z]{3}$",IBANRegistry:!0},SD:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SG:{},SH:{},SI:{chars:19,bban_regexp:"^[0-9]{15}$",bban_validation_func:de,IBANRegistry:!0,SEPA:!0},SJ:{},SK:{chars:24,bban_regexp:"^[0-9]{20}$",bban_validation_func:Jt,IBANRegistry:!0,SEPA:!0},SL:{},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},SN:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},SO:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},SR:{},SS:{},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},SX:{},SY:{},SZ:{},TC:{},TD:{chars:27,bban_regexp:"^[0-9]{23}$"},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},TH:{},TJ:{},TK:{},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},TM:{},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},TO:{},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{},TV:{},TW:{},TZ:{},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0},UG:{},UM:{},US:{},UY:{},UZ:{},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0,SEPA:!0},VC:{},VE:{},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},VI:{},VN:{},VU:{},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},YE:{},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{},ZM:{},ZW:{}};var va=0;function r(e,t,n,o,s,a){var i,c,u={};for(c in t)c=="ref"?i=t[c]:u[c]=t[c];var f={type:e,props:u,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--va,__source:s,__self:a};if(typeof e=="function"&&(i=e.defaultProps))for(c in i)u[c]===void 0&&(u[c]=i[c]);return D.vnode&&D.vnode(f),f}function In({message:e,onConfirm:t,onCancel:n}){return r("div",{className:"dialog-overlay",onClick:n,children:r("div",{className:"dialog-container",onClick:o=>o.stopPropagation(),children:[r("div",{className:"dialog-icon warning",children:"âš ï¸"}),r("div",{className:"dialog-message",children:e}),r("div",{className:"dialog-actions",children:[r("button",{className:"btn btn-secondary",onClick:n,children:"Cancel"}),r("button",{className:"btn btn-danger",onClick:t,autoFocus:!0,children:"Delete"})]})]})})}function Bn({message:e,onClose:t}){return r("div",{className:"dialog-overlay",onClick:t,children:r("div",{className:"dialog-container",onClick:n=>n.stopPropagation(),children:[r("div",{className:"dialog-icon info",children:"â„¹ï¸"}),r("div",{className:"dialog-message",children:e}),r("div",{className:"dialog-actions",children:r("button",{className:"btn btn-primary",onClick:t,autoFocus:!0,children:"OK"})})]})})}function _a(){const[e,t]=R([]),[n,o]=R(!1),[s,a]=R(null),[i,c]=R({name:"",iban:"",currency:"CZK",webhookUrl:"",isDefault:!1}),[u,f]=R(""),[p,m]=R(null);ae(()=>{A()},[]);async function A(){const y=await ge();t(y)}function v(y){y?(a(y),c({name:y.name,iban:y.iban,currency:y.currency,webhookUrl:y.webhookUrl||"",isDefault:y.isDefault})):(a(null),c({name:"",iban:"",currency:"CZK",webhookUrl:"",isDefault:e.length===0})),f(""),o(!0)}function b(){o(!1),a(null),f("")}async function w(y){if(y.preventDefault(),f(""),!Nn(i.iban)){f("Invalid IBAN format");return}try{const C={...i,updatedAt:Date.now(),createdAt:(s==null?void 0:s.createdAt)||Date.now()};s?await qr({...C,id:s.id}):await yt(C),await A(),b()}catch(C){f(C instanceof Error?C.message:"Failed to save account")}}function N(y){y.id&&m({account:y})}async function S(){p!=null&&p.account.id&&(await Qr(p.account.id),await A(),m(null))}return r("div",{className:"fade-in",children:[r("div",{className:"flex justify-between items-center mb-lg",children:[r("h2",{children:"Bank Accounts"}),r("button",{className:"btn btn-primary",onClick:()=>v(),children:"+ Add Account"})]}),e.length===0?r("div",{className:"empty-state",children:[r("div",{className:"empty-state-icon",children:"ðŸ¦"}),r("h3",{children:"No accounts yet"}),r("p",{children:"Add your first bank account to start generating payments"})]}):r("div",{className:"grid grid-2",children:e.map(y=>r("div",{className:"card",children:[r("div",{className:"flex justify-between items-center mb-md",children:[r("h3",{className:"text-lg",children:y.name}),y.isDefault&&r("span",{className:"badge badge-acked",children:"Default"})]}),r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"IBAN"}),r("div",{className:"font-mono text-sm",children:Sn(y.iban)||y.iban})]}),r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"Currency"}),r("div",{className:"text-sm",children:y.currency})]}),y.webhookUrl&&r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"Webhook URL"}),r("div",{className:"text-sm font-mono",style:{wordBreak:"break-all"},children:y.webhookUrl})]}),r("div",{className:"flex gap-sm mt-md",children:[r("button",{className:"btn btn-secondary btn-sm",onClick:()=>v(y),children:"Edit"}),r("button",{className:"btn btn-danger btn-sm",onClick:()=>N(y),children:"Delete"})]})]},y.id))}),n&&r("div",{className:"modal-overlay",onClick:b,children:r("div",{className:"modal",onClick:y=>y.stopPropagation(),children:[r("div",{className:"modal-header",children:[r("h2",{className:"modal-title",children:s?"Edit Account":"Add Account"}),r("button",{className:"modal-close",onClick:b,children:"Ã—"})]}),r("form",{onSubmit:w,children:[r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Account Name"}),r("input",{type:"text",value:i.name,onInput:y=>c({...i,name:y.target.value}),placeholder:"e.g., Main Business Account",required:!0})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"IBAN"}),r("input",{type:"text",value:i.iban,onInput:y=>c({...i,iban:y.target.value}),placeholder:"CZ6508000000192000145399",required:!0}),r("div",{className:"form-help",children:"Enter the IBAN without spaces (e.g., CZ6508000000192000145399)"})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Currency"}),r("select",{value:i.currency,onChange:y=>c({...i,currency:y.target.value}),children:[r("option",{value:"CZK",children:"CZK"}),r("option",{value:"EUR",children:"EUR"}),r("option",{value:"USD",children:"USD"})]})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Webhook URL (Optional)"}),r("input",{type:"url",value:i.webhookUrl,onInput:y=>c({...i,webhookUrl:y.target.value}),placeholder:"https://api.example.com/webhook"}),r("div",{className:"form-help",children:"URL to send payment notifications (leave empty to disable sync)"})]}),r("div",{className:"form-group",children:r("label",{className:"flex items-center gap-sm",children:[r("input",{type:"checkbox",checked:i.isDefault,onChange:y=>c({...i,isDefault:y.target.checked})}),r("span",{className:"form-label",style:{marginBottom:0},children:"Set as default account"})]})}),u&&r("div",{className:"form-error mb-md",children:u}),r("div",{className:"flex gap-sm justify-between",children:[r("button",{type:"button",className:"btn btn-secondary",onClick:b,children:"Cancel"}),r("button",{type:"submit",className:"btn btn-primary",children:[s?"Update":"Create"," Account"]})]})]})]})}),p&&r(In,{message:`Are you sure you want to delete account "${p.account.name}"?`,onConfirm:S,onCancel:()=>m(null)})]})}function Aa(){const[e,t]=R([]),[n,o]=R(!1),[s,a]=R(null),[i,c]=R({name:"",staticSymbol:"",vsMode:"counter",vsCounter:1,vsStaticValue:"",permanentAmount:"",message:"",isDefault:!1}),[u,f]=R(null);ae(()=>{p()},[]);async function p(){const N=await me();t(N)}function m(N){var S;N?(a(N),c({name:N.name,staticSymbol:N.staticSymbol,vsMode:N.vsMode,vsCounter:N.vsCounter,vsStaticValue:N.vsStaticValue||"",permanentAmount:((S=N.permanentAmount)==null?void 0:S.toString())||"",message:N.message||"",isDefault:N.isDefault})):(a(null),c({name:"",staticSymbol:"",vsMode:"counter",vsCounter:1,vsStaticValue:"",permanentAmount:"",message:"",isDefault:e.length===0})),o(!0)}function A(){o(!1),a(null)}async function v(N){N.preventDefault();const S={...i,permanentAmount:i.permanentAmount?parseFloat(i.permanentAmount):void 0,message:i.message||void 0,updatedAt:Date.now(),createdAt:(s==null?void 0:s.createdAt)||Date.now()};s?await An({...S,id:s.id}):await vt(S),await p(),A()}function b(N){N.id&&f({event:N})}async function w(){u!=null&&u.event.id&&(await Jr(u.event.id),await p(),f(null))}return r("div",{className:"fade-in",children:[r("div",{className:"flex justify-between items-center mb-lg",children:[r("h2",{children:"Payment Events"}),r("button",{className:"btn btn-primary",onClick:()=>m(),children:"+ Add Event"})]}),e.length===0?r("div",{className:"empty-state",children:[r("div",{className:"empty-state-icon",children:"ðŸ“…"}),r("h3",{children:"No events yet"}),r("p",{children:"Create your first payment event to organize payments"})]}):r("div",{className:"grid grid-2",children:e.map(N=>r("div",{className:"card",children:[r("div",{className:"flex justify-between items-center mb-md",children:[r("h3",{className:"text-lg",children:N.name}),N.isDefault&&r("span",{className:"badge badge-acked",children:"Default"})]}),r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"Static Symbol (SS)"}),r("div",{className:"font-mono text-sm",children:N.staticSymbol})]}),r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"VS Generation Mode"}),r("div",{className:"text-sm",children:[N.vsMode==="counter"&&`Counter (current: ${N.vsCounter})`,N.vsMode==="time"&&"Time-based (YYYYMMDDHHmmss)",N.vsMode==="static"&&`Static (${N.vsStaticValue})`]})]}),N.permanentAmount&&r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"Permanent Amount"}),r("div",{className:"text-sm font-semibold",children:[N.permanentAmount," CZK"]})]}),N.message&&r("div",{className:"mb-sm",children:[r("div",{className:"text-sm text-secondary",children:"Message"}),r("div",{className:"text-sm",children:N.message})]}),r("div",{className:"flex gap-sm mt-md",children:[r("button",{className:"btn btn-secondary btn-sm",onClick:()=>m(N),children:"Edit"}),r("button",{className:"btn btn-danger btn-sm",onClick:()=>b(N),children:"Delete"})]})]},N.id))}),n&&r("div",{className:"modal-overlay",onClick:A,children:r("div",{className:"modal",onClick:N=>N.stopPropagation(),children:[r("div",{className:"modal-header",children:[r("h2",{className:"modal-title",children:s?"Edit Event":"Add Event"}),r("button",{className:"modal-close",onClick:A,children:"Ã—"})]}),r("form",{onSubmit:v,children:[r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Event Name"}),r("input",{type:"text",value:i.name,onInput:N=>c({...i,name:N.target.value}),placeholder:"e.g., Workshop 2024",required:!0})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Static Symbol (SS)"}),r("input",{type:"text",value:i.staticSymbol,onInput:N=>c({...i,staticSymbol:N.target.value}),placeholder:"e.g., 543",required:!0}),r("div",{className:"form-help",children:"Event identifier that stays constant for all payments"})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Variable Symbol Mode"}),r("select",{value:i.vsMode,onChange:N=>c({...i,vsMode:N.target.value}),children:[r("option",{value:"counter",children:"Counter (Sequential: 1, 2, 3...)"}),r("option",{value:"time",children:"Time-based (YYYYMMDDHHmmss)"}),r("option",{value:"static",children:"Static (Same value)"})]})]}),i.vsMode==="counter"&&r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Starting Counter Value"}),r("input",{type:"number",value:i.vsCounter,onInput:N=>c({...i,vsCounter:parseInt(N.target.value)||1}),min:"1"})]}),i.vsMode==="static"&&r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Static VS Value"}),r("input",{type:"text",value:i.vsStaticValue,onInput:N=>c({...i,vsStaticValue:N.target.value}),placeholder:"e.g., 123456",required:!0})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Permanent Amount (Optional)"}),r("input",{type:"number",step:"0.01",value:i.permanentAmount,onInput:N=>c({...i,permanentAmount:N.target.value}),placeholder:"e.g., 450.00"}),r("div",{className:"form-help",children:"Set a recurring amount for quick payment generation"})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Message (Optional)"}),r("textarea",{value:i.message,onInput:N=>c({...i,message:N.target.value}),placeholder:"Optional message for all payments",rows:2}),r("div",{className:"form-help",children:"This message will be automatically included in all payments for this event"})]}),r("div",{className:"form-group",children:r("label",{className:"flex items-center gap-sm",children:[r("input",{type:"checkbox",checked:i.isDefault,onChange:N=>c({...i,isDefault:N.target.checked})}),r("span",{className:"form-label",style:{marginBottom:0},children:"Set as default event"})]})}),r("div",{className:"flex gap-sm justify-between",children:[r("button",{type:"button",className:"btn btn-secondary",onClick:A,children:"Cancel"}),r("button",{type:"submit",className:"btn btn-primary",children:[s?"Update":"Create"," Event"]})]})]})]})}),u&&r(In,{message:`Are you sure you want to delete event "${u.event.name}"?`,onConfirm:w,onCancel:()=>f(null)})]})}var Na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pn={exports:{}};(function(e,t){(function(n,o){e.exports=o()})(Na,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */var n,o,s=function(l,d){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&(h[_]=g[_])})(l,d)};function a(l,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function h(){this.constructor=l}s(l,d),l.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}/*!
     * @license
     * This Source Code Form is subject to the terms of the Mozilla Public
     * License, v. 2.0. If a copy of the MPL was not distributed with this
     * file, You can obtain one at http://mozilla.org/MPL/2.0/. */function i(l){if(l!=null){var d=new RegExp("^[0-9]{2}$",""),h=c[l.slice(0,2)];if(h!==void 0&&h.bban_regexp&&h.bban_regexp!==null&&h.chars&&h.chars===l.length&&d.test(l.slice(2,4))&&(g=l.slice(4),_=h.bban_regexp,new RegExp(_,"").test(g))&&function(P){for(var $=parseInt(P.slice(2,4),10),Z=P.slice(3)+P.slice(0,2)+"00",M="",L=1;L<Z.length;L++){var q=Z.charCodeAt(L);M+=q>=65?(q-55).toString():Z[L]}for(;M.length>2;){var O=M.slice(0,6);M=(parseInt(O,10)%97).toString()+M.slice(O.length)}return 98-parseInt(M,10)%97===$}(l))return!0}var g,_;return!1}(function(l){l[l.NoIBANProvided=0]="NoIBANProvided",l[l.NoIBANCountry=1]="NoIBANCountry",l[l.WrongBBANLength=2]="WrongBBANLength",l[l.WrongBBANFormat=3]="WrongBBANFormat",l[l.ChecksumNotNumber=4]="ChecksumNotNumber",l[l.WrongIBANChecksum=5]="WrongIBANChecksum"})(n||(n={})),function(l){l[l.NoBICProvided=0]="NoBICProvided",l[l.NoBICCountry=1]="NoBICCountry",l[l.WrongBICFormat=2]="WrongBICFormat"}(o||(o={}));var c={AD:{chars:24,bban_regexp:"^[0-9]{8}[A-Z0-9]{12}$",IBANRegistry:!0},AE:{chars:23,bban_regexp:"^[0-9]{3}[0-9]{16}$",IBANRegistry:!0},AF:{},AG:{},AI:{},AL:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0},AM:{},AO:{chars:25,bban_regexp:"^[0-9]{21}$"},AQ:{},AR:{},AS:{},AT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},AU:{},AW:{},AX:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0},AZ:{chars:28,bban_regexp:"^[A-Z]{4}[A-Z0-9]{20}$",IBANRegistry:!0},BA:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},BB:{},BD:{},BE:{chars:16,bban_regexp:"^[0-9]{12}$",IBANRegistry:!0,SEPA:!0},BF:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BG:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{6}[A-Z0-9]{8}$",IBANRegistry:!0},BH:{chars:22,bban_regexp:"^[A-Z]{4}[A-Z0-9]{14}$",IBANRegistry:!0},BI:{chars:16,bban_regexp:"^[0-9]{12}$"},BJ:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},BL:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},BM:{},BN:{},BO:{},BQ:{},BR:{chars:29,bban_regexp:"^[0-9]{23}[A-Z]{1}[A-Z0-9]{1}$",IBANRegistry:!0},BS:{},BT:{},BV:{},BW:{},BY:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{16}$",IBANRegistry:!0},BZ:{},CA:{},CC:{},CD:{},CF:{chars:27,bban_regexp:"^[0-9]{23}$"},CG:{chars:27,bban_regexp:"^[0-9]{23}$"},CH:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},CI:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},CK:{},CL:{},CM:{chars:27,bban_regexp:"^[0-9]{23}$"},CN:{},CO:{},CR:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},CU:{},CV:{chars:25,bban_regexp:"^[0-9]{21}$"},CW:{},CX:{},CY:{chars:28,bban_regexp:"^[0-9]{8}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},CZ:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},DE:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0,SEPA:!0},DJ:{chars:27,bban_regexp:"^[0-9]{23}$"},DK:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},DM:{},DO:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},DZ:{chars:26,bban_regexp:"^[0-9]{22}$"},EC:{},EE:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},EG:{chars:29,bban_regexp:"^[0-9]{25}",IBANRegistry:!0},EH:{},ER:{},ES:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},ET:{},FI:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},FJ:{},FK:{},FM:{},FO:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},FR:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0,SEPA:!0},GA:{chars:27,bban_regexp:"^[0-9]{23}$"},GB:{chars:22,bban_regexp:"^[A-Z]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GD:{},GE:{chars:22,bban_regexp:"^[A-Z0-9]{2}[0-9]{16}$",IBANRegistry:!0},GF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GG:{},GH:{},GI:{chars:23,bban_regexp:"^[A-Z]{4}[A-Z0-9]{15}$",IBANRegistry:!0,SEPA:!0},GL:{chars:18,bban_regexp:"^[0-9]{14}$",IBANRegistry:!0,SEPA:!0},GM:{},GN:{},GP:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},GQ:{chars:27,bban_regexp:"^[0-9]{23}$"},GR:{chars:27,bban_regexp:"^[0-9]{7}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},GS:{},GT:{chars:28,bban_regexp:"^[A-Z0-9]{24}$",IBANRegistry:!0},GU:{},GW:{chars:25,bban_regexp:"^[A-Z]{2}[0-9]{19}$"},GY:{},HK:{},HM:{},HN:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$"},HR:{chars:21,bban_regexp:"^[0-9]{17}$",IBANRegistry:!0,SEPA:!0},HT:{},HU:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},ID:{},IE:{chars:22,bban_regexp:"^[A-Z0-9]{4}[0-9]{14}$",IBANRegistry:!0,SEPA:!0},IL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},IM:{},IN:{},IO:{},IQ:{chars:23,bban_regexp:"^[A-Z]{4}[0-9]{15}$",IBANRegistry:!0},IR:{chars:26,bban_regexp:"^[0-9]{22}$"},IS:{chars:26,bban_regexp:"^[0-9]{22}$",IBANRegistry:!0,SEPA:!0},IT:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},JE:{},JM:{},JO:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{4}[A-Z0-9]{18}$",IBANRegistry:!0},JP:{},KE:{},KG:{},KH:{},KI:{},KM:{chars:27,bban_regexp:"^[0-9]{23}$"},KN:{},KP:{},KR:{},KW:{chars:30,bban_regexp:"^[A-Z]{4}[A-Z0-9]{22}$",IBANRegistry:!0},KY:{},KZ:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0},LA:{},LB:{chars:28,bban_regexp:"^[0-9]{4}[A-Z0-9]{20}$",IBANRegistry:!0},LC:{chars:32,bban_regexp:"^[A-Z]{4}[A-Z0-9]{24}$",IBANRegistry:!0},LI:{chars:21,bban_regexp:"^[0-9]{5}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},LK:{},LR:{},LS:{},LT:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0,SEPA:!0},LU:{chars:20,bban_regexp:"^[0-9]{3}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LV:{chars:21,bban_regexp:"^[A-Z]{4}[A-Z0-9]{13}$",IBANRegistry:!0,SEPA:!0},LY:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},MA:{chars:28,bban_regexp:"^[0-9]{24}$"},MC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0,SEPA:!0},MD:{chars:24,bban_regexp:"^[A-Z0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},ME:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},MF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MG:{chars:27,bban_regexp:"^[0-9]{23}$"},MH:{},MK:{chars:19,bban_regexp:"^[0-9]{3}[A-Z0-9]{10}[0-9]{2}$",IBANRegistry:!0},ML:{chars:28,bban_regexp:"^[A-Z0-9]{2}[0-9]{22}$"},MM:{},MN:{},MO:{},MP:{},MQ:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},MR:{chars:27,bban_regexp:"^[0-9]{23}$",IBANRegistry:!0},MS:{},MT:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$",IBANRegistry:!0,SEPA:!0},MU:{chars:30,bban_regexp:"^[A-Z]{4}[0-9]{19}[A-Z]{3}$",IBANRegistry:!0},MV:{},MW:{},MX:{},MY:{},MZ:{chars:25,bban_regexp:"^[0-9]{21}$"},NA:{},NC:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},NE:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},NF:{},NG:{},NI:{chars:32,bban_regexp:"^[A-Z]{4}[0-9]{24}$"},NL:{chars:18,bban_regexp:"^[A-Z]{4}[0-9]{10}$",IBANRegistry:!0,SEPA:!0},NO:{chars:15,bban_regexp:"^[0-9]{11}$",IBANRegistry:!0,SEPA:!0},NP:{},NR:{},NU:{},NZ:{},OM:{},PA:{},PE:{},PF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PG:{},PH:{},PK:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},PL:{chars:28,bban_regexp:"^[0-9]{24}$",IBANRegistry:!0,SEPA:!0},PM:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},PN:{},PR:{},PS:{chars:29,bban_regexp:"^[A-Z0-9]{4}[0-9]{21}$",IBANRegistry:!0},PT:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0,SEPA:!0},PW:{},PY:{},QA:{chars:29,bban_regexp:"^[A-Z]{4}[A-Z0-9]{21}$",IBANRegistry:!0},RE:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},RO:{chars:24,bban_regexp:"^[A-Z]{4}[A-Z0-9]{16}$",IBANRegistry:!0,SEPA:!0},RS:{chars:22,bban_regexp:"^[0-9]{18}$",IBANRegistry:!0},RU:{},RW:{},SA:{chars:24,bban_regexp:"^[0-9]{2}[A-Z0-9]{18}$",IBANRegistry:!0},SB:{},SC:{chars:31,bban_regexp:"^[A-Z]{4}[0-9]{20}[A-Z]{3}$",IBANRegistry:!0},SD:{},SE:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SG:{},SH:{},SI:{chars:19,bban_regexp:"^[0-9]{15}$",IBANRegistry:!0,SEPA:!0},SJ:{},SK:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0,SEPA:!0},SL:{},SM:{chars:27,bban_regexp:"^[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$",IBANRegistry:!0,SEPA:!0},SN:{chars:28,bban_regexp:"^[A-Z]{1}[0-9]{23}$"},SO:{},SR:{},SS:{},ST:{chars:25,bban_regexp:"^[0-9]{21}$",IBANRegistry:!0},SV:{chars:28,bban_regexp:"^[A-Z]{4}[0-9]{20}$",IBANRegistry:!0},SX:{},SY:{},SZ:{},TC:{},TD:{chars:27,bban_regexp:"^[0-9]{23}$"},TF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},TG:{chars:28,bban_regexp:"^[A-Z]{2}[0-9]{22}$"},TH:{},TJ:{},TK:{},TL:{chars:23,bban_regexp:"^[0-9]{19}$",IBANRegistry:!0},TM:{},TN:{chars:24,bban_regexp:"^[0-9]{20}$",IBANRegistry:!0},TO:{},TR:{chars:26,bban_regexp:"^[0-9]{5}[A-Z0-9]{17}$",IBANRegistry:!0},TT:{},TV:{},TW:{},TZ:{},UA:{chars:29,bban_regexp:"^[0-9]{6}[A-Z0-9]{19}$",IBANRegistry:!0},UG:{},UM:{},US:{},UY:{},UZ:{},VA:{chars:22,bban_regexp:"^[0-9]{18}",IBANRegistry:!0},VC:{},VE:{},VG:{chars:24,bban_regexp:"^[A-Z0-9]{4}[0-9]{16}$",IBANRegistry:!0},VI:{},VN:{},VU:{},WF:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},WS:{},XK:{chars:20,bban_regexp:"^[0-9]{16}$",IBANRegistry:!0},YE:{},YT:{chars:27,bban_regexp:"^[0-9]{10}[A-Z0-9]{11}[0-9]{2}$",IBANRegistry:!0},ZA:{},ZM:{},ZW:{}};function u(l,d){if(d.length<l)throw new TypeError(l+" argument"+(l>1?"s":"")+" required, but only "+d.length+" present")}function f(l){u(1,arguments);var d=Object.prototype.toString.call(l);return l instanceof Date||typeof l=="object"&&d==="[object Date]"?new Date(l.getTime()):typeof l=="number"||d==="[object Number]"?new Date(l):(typeof l!="string"&&d!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function p(l){u(1,arguments);var d=f(l);return!isNaN(d)}var m={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function A(l){return function(d){var h=d||{},g=h.width?String(h.width):l.defaultWidth;return l.formats[g]||l.formats[l.defaultWidth]}}var v={date:A({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:A({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:A({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},b={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function w(l){return function(d,h){var g,_=h||{};if((_.context?String(_.context):"standalone")==="formatting"&&l.formattingValues){var P=l.defaultFormattingWidth||l.defaultWidth,$=_.width?String(_.width):P;g=l.formattingValues[$]||l.formattingValues[P]}else{var Z=l.defaultWidth,M=_.width?String(_.width):l.defaultWidth;g=l.values[M]||l.values[Z]}return g[l.argumentCallback?l.argumentCallback(d):d]}}function N(l){return function(d,h){var g=String(d),_=h||{},P=_.width,$=P&&l.matchPatterns[P]||l.matchPatterns[l.defaultMatchWidth],Z=g.match($);if(!Z)return null;var M,L=Z[0],q=P&&l.parsePatterns[P]||l.parsePatterns[l.defaultParseWidth];return M=Object.prototype.toString.call(q)==="[object Array]"?function(O,ee){for(var Q=0;Q<O.length;Q++)if(ee(O[Q]))return Q}(q,function(O){return O.test(L)}):function(O,ee){for(var Q in O)if(O.hasOwnProperty(Q)&&ee(O[Q]))return Q}(q,function(O){return O.test(L)}),M=l.valueCallback?l.valueCallback(M):M,{value:M=_.valueCallback?_.valueCallback(M):M,rest:g.slice(L.length)}}}var S,y={code:"en-US",formatDistance:function(l,d,h){var g;return h=h||{},g=typeof m[l]=="string"?m[l]:d===1?m[l].one:m[l].other.replace("{{count}}",d),h.addSuffix?h.comparison>0?"in "+g:g+" ago":g},formatLong:v,formatRelative:function(l,d,h,g){return b[l]},localize:{ordinalNumber:function(l,d){var h=Number(l),g=h%100;if(g>20||g<10)switch(g%10){case 1:return h+"st";case 2:return h+"nd";case 3:return h+"rd"}return h+"th"},era:w({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:w({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(l){return Number(l)-1}}),month:w({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:w({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:w({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(S={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(l){return parseInt(l,10)}},function(l,d){var h=String(l),g=d||{},_=h.match(S.matchPattern);if(!_)return null;var P=_[0],$=h.match(S.parsePattern);if(!$)return null;var Z=S.valueCallback?S.valueCallback($[0]):$[0];return{value:Z=g.valueCallback?g.valueCallback(Z):Z,rest:h.slice(P.length)}}),era:N({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:N({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(l){return l+1}}),month:N({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:N({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:N({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function C(l){if(l===null||l===!0||l===!1)return NaN;var d=Number(l);return isNaN(d)?d:d<0?Math.ceil(d):Math.floor(d)}function I(l,d){u(2,arguments);var h=f(l).getTime(),g=C(d);return new Date(h+g)}function x(l,d){u(2,arguments);var h=C(d);return I(l,-h)}function B(l,d){for(var h=l<0?"-":"",g=Math.abs(l).toString();g.length<d;)g="0"+g;return h+g}var T=function(l,d){var h=l.getUTCFullYear(),g=h>0?h:1-h;return B(d==="yy"?g%100:g,d.length)},k=function(l,d){var h=l.getUTCMonth();return d==="M"?String(h+1):B(h+1,2)},F=function(l,d){return B(l.getUTCDate(),d.length)},H=function(l,d){return B(l.getUTCHours()%12||12,d.length)},V=function(l,d){return B(l.getUTCHours(),d.length)},U=function(l,d){return B(l.getUTCMinutes(),d.length)},E=function(l,d){return B(l.getUTCSeconds(),d.length)},K=function(l,d){var h=d.length,g=l.getUTCMilliseconds();return B(Math.floor(g*Math.pow(10,h-3)),d.length)},le=864e5;function se(l){u(1,arguments);var d=1,h=f(l),g=h.getUTCDay(),_=(g<d?7:0)+g-d;return h.setUTCDate(h.getUTCDate()-_),h.setUTCHours(0,0,0,0),h}function ue(l){u(1,arguments);var d=f(l),h=d.getUTCFullYear(),g=new Date(0);g.setUTCFullYear(h+1,0,4),g.setUTCHours(0,0,0,0);var _=se(g),P=new Date(0);P.setUTCFullYear(h,0,4),P.setUTCHours(0,0,0,0);var $=se(P);return d.getTime()>=_.getTime()?h+1:d.getTime()>=$.getTime()?h:h-1}function zn(l){u(1,arguments);var d=ue(l),h=new Date(0);h.setUTCFullYear(d,0,4),h.setUTCHours(0,0,0,0);var g=se(h);return g}var Yn=6048e5;function Ie(l,d){u(1,arguments);var h=d||{},g=h.locale,_=g&&g.options&&g.options.weekStartsOn,P=_==null?0:C(_),$=h.weekStartsOn==null?P:C(h.weekStartsOn);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var Z=f(l),M=Z.getUTCDay(),L=(M<$?7:0)+M-$;return Z.setUTCDate(Z.getUTCDate()-L),Z.setUTCHours(0,0,0,0),Z}function Bt(l,d){u(1,arguments);var h=f(l,d),g=h.getUTCFullYear(),_=d||{},P=_.locale,$=P&&P.options&&P.options.firstWeekContainsDate,Z=$==null?1:C($),M=_.firstWeekContainsDate==null?Z:C(_.firstWeekContainsDate);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=new Date(0);L.setUTCFullYear(g+1,0,M),L.setUTCHours(0,0,0,0);var q=Ie(L,d),O=new Date(0);O.setUTCFullYear(g,0,M),O.setUTCHours(0,0,0,0);var ee=Ie(O,d);return h.getTime()>=q.getTime()?g+1:h.getTime()>=ee.getTime()?g:g-1}function Kn(l,d){u(1,arguments);var h=d||{},g=h.locale,_=g&&g.options&&g.options.firstWeekContainsDate,P=_==null?1:C(_),$=h.firstWeekContainsDate==null?P:C(h.firstWeekContainsDate),Z=Bt(l,d),M=new Date(0);M.setUTCFullYear(Z,0,$),M.setUTCHours(0,0,0,0);var L=Ie(M,d);return L}var qn=6048e5,Qn="midnight",jn="noon",Jn="morning",Xn="afternoon",er="evening",tr="night",nr={G:function(l,d,h){var g=l.getUTCFullYear()>0?1:0;switch(d){case"G":case"GG":case"GGG":return h.era(g,{width:"abbreviated"});case"GGGGG":return h.era(g,{width:"narrow"});case"GGGG":default:return h.era(g,{width:"wide"})}},y:function(l,d,h){if(d==="yo"){var g=l.getUTCFullYear(),_=g>0?g:1-g;return h.ordinalNumber(_,{unit:"year"})}return T(l,d)},Y:function(l,d,h,g){var _=Bt(l,g),P=_>0?_:1-_;return d==="YY"?B(P%100,2):d==="Yo"?h.ordinalNumber(P,{unit:"year"}):B(P,d.length)},R:function(l,d){return B(ue(l),d.length)},u:function(l,d){return B(l.getUTCFullYear(),d.length)},Q:function(l,d,h){var g=Math.ceil((l.getUTCMonth()+1)/3);switch(d){case"Q":return String(g);case"QQ":return B(g,2);case"Qo":return h.ordinalNumber(g,{unit:"quarter"});case"QQQ":return h.quarter(g,{width:"abbreviated",context:"formatting"});case"QQQQQ":return h.quarter(g,{width:"narrow",context:"formatting"});case"QQQQ":default:return h.quarter(g,{width:"wide",context:"formatting"})}},q:function(l,d,h){var g=Math.ceil((l.getUTCMonth()+1)/3);switch(d){case"q":return String(g);case"qq":return B(g,2);case"qo":return h.ordinalNumber(g,{unit:"quarter"});case"qqq":return h.quarter(g,{width:"abbreviated",context:"standalone"});case"qqqqq":return h.quarter(g,{width:"narrow",context:"standalone"});case"qqqq":default:return h.quarter(g,{width:"wide",context:"standalone"})}},M:function(l,d,h){var g=l.getUTCMonth();switch(d){case"M":case"MM":return k(l,d);case"Mo":return h.ordinalNumber(g+1,{unit:"month"});case"MMM":return h.month(g,{width:"abbreviated",context:"formatting"});case"MMMMM":return h.month(g,{width:"narrow",context:"formatting"});case"MMMM":default:return h.month(g,{width:"wide",context:"formatting"})}},L:function(l,d,h){var g=l.getUTCMonth();switch(d){case"L":return String(g+1);case"LL":return B(g+1,2);case"Lo":return h.ordinalNumber(g+1,{unit:"month"});case"LLL":return h.month(g,{width:"abbreviated",context:"standalone"});case"LLLLL":return h.month(g,{width:"narrow",context:"standalone"});case"LLLL":default:return h.month(g,{width:"wide",context:"standalone"})}},w:function(l,d,h,g){var _=function(P,$){u(1,arguments);var Z=f(P),M=Ie(Z,$).getTime()-Kn(Z,$).getTime();return Math.round(M/qn)+1}(l,g);return d==="wo"?h.ordinalNumber(_,{unit:"week"}):B(_,d.length)},I:function(l,d,h){var g=function(_){u(1,arguments);var P=f(_),$=se(P).getTime()-zn(P).getTime();return Math.round($/Yn)+1}(l);return d==="Io"?h.ordinalNumber(g,{unit:"week"}):B(g,d.length)},d:function(l,d,h){return d==="do"?h.ordinalNumber(l.getUTCDate(),{unit:"date"}):F(l,d)},D:function(l,d,h){var g=function(_){u(1,arguments);var P=f(_),$=P.getTime();P.setUTCMonth(0,1),P.setUTCHours(0,0,0,0);var Z=P.getTime(),M=$-Z;return Math.floor(M/le)+1}(l);return d==="Do"?h.ordinalNumber(g,{unit:"dayOfYear"}):B(g,d.length)},E:function(l,d,h){var g=l.getUTCDay();switch(d){case"E":case"EE":case"EEE":return h.day(g,{width:"abbreviated",context:"formatting"});case"EEEEE":return h.day(g,{width:"narrow",context:"formatting"});case"EEEEEE":return h.day(g,{width:"short",context:"formatting"});case"EEEE":default:return h.day(g,{width:"wide",context:"formatting"})}},e:function(l,d,h,g){var _=l.getUTCDay(),P=(_-g.weekStartsOn+8)%7||7;switch(d){case"e":return String(P);case"ee":return B(P,2);case"eo":return h.ordinalNumber(P,{unit:"day"});case"eee":return h.day(_,{width:"abbreviated",context:"formatting"});case"eeeee":return h.day(_,{width:"narrow",context:"formatting"});case"eeeeee":return h.day(_,{width:"short",context:"formatting"});case"eeee":default:return h.day(_,{width:"wide",context:"formatting"})}},c:function(l,d,h,g){var _=l.getUTCDay(),P=(_-g.weekStartsOn+8)%7||7;switch(d){case"c":return String(P);case"cc":return B(P,d.length);case"co":return h.ordinalNumber(P,{unit:"day"});case"ccc":return h.day(_,{width:"abbreviated",context:"standalone"});case"ccccc":return h.day(_,{width:"narrow",context:"standalone"});case"cccccc":return h.day(_,{width:"short",context:"standalone"});case"cccc":default:return h.day(_,{width:"wide",context:"standalone"})}},i:function(l,d,h){var g=l.getUTCDay(),_=g===0?7:g;switch(d){case"i":return String(_);case"ii":return B(_,d.length);case"io":return h.ordinalNumber(_,{unit:"day"});case"iii":return h.day(g,{width:"abbreviated",context:"formatting"});case"iiiii":return h.day(g,{width:"narrow",context:"formatting"});case"iiiiii":return h.day(g,{width:"short",context:"formatting"});case"iiii":default:return h.day(g,{width:"wide",context:"formatting"})}},a:function(l,d,h){var g=l.getUTCHours()/12>=1?"pm":"am";switch(d){case"a":case"aa":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"aaa":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"aaaa":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},b:function(l,d,h){var g,_=l.getUTCHours();switch(g=_===12?jn:_===0?Qn:_/12>=1?"pm":"am",d){case"b":case"bb":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"bbb":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"bbbb":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},B:function(l,d,h){var g,_=l.getUTCHours();switch(g=_>=17?er:_>=12?Xn:_>=4?Jn:tr,d){case"B":case"BB":case"BBB":return h.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"BBBBB":return h.dayPeriod(g,{width:"narrow",context:"formatting"});case"BBBB":default:return h.dayPeriod(g,{width:"wide",context:"formatting"})}},h:function(l,d,h){if(d==="ho"){var g=l.getUTCHours()%12;return g===0&&(g=12),h.ordinalNumber(g,{unit:"hour"})}return H(l,d)},H:function(l,d,h){return d==="Ho"?h.ordinalNumber(l.getUTCHours(),{unit:"hour"}):V(l,d)},K:function(l,d,h){var g=l.getUTCHours()%12;return d==="Ko"?h.ordinalNumber(g,{unit:"hour"}):B(g,d.length)},k:function(l,d,h){var g=l.getUTCHours();return g===0&&(g=24),d==="ko"?h.ordinalNumber(g,{unit:"hour"}):B(g,d.length)},m:function(l,d,h){return d==="mo"?h.ordinalNumber(l.getUTCMinutes(),{unit:"minute"}):U(l,d)},s:function(l,d,h){return d==="so"?h.ordinalNumber(l.getUTCSeconds(),{unit:"second"}):E(l,d)},S:function(l,d){return K(l,d)},X:function(l,d,h,g){var _=(g._originalDate||l).getTimezoneOffset();if(_===0)return"Z";switch(d){case"X":return xt(_);case"XXXX":case"XX":return ie(_);case"XXXXX":case"XXX":default:return ie(_,":")}},x:function(l,d,h,g){var _=(g._originalDate||l).getTimezoneOffset();switch(d){case"x":return xt(_);case"xxxx":case"xx":return ie(_);case"xxxxx":case"xxx":default:return ie(_,":")}},O:function(l,d,h,g){var _=(g._originalDate||l).getTimezoneOffset();switch(d){case"O":case"OO":case"OOO":return"GMT"+Pt(_,":");case"OOOO":default:return"GMT"+ie(_,":")}},z:function(l,d,h,g){var _=(g._originalDate||l).getTimezoneOffset();switch(d){case"z":case"zz":case"zzz":return"GMT"+Pt(_,":");case"zzzz":default:return"GMT"+ie(_,":")}},t:function(l,d,h,g){var _=g._originalDate||l;return B(Math.floor(_.getTime()/1e3),d.length)},T:function(l,d,h,g){return B((g._originalDate||l).getTime(),d.length)}};function Pt(l,d){var h=l>0?"-":"+",g=Math.abs(l),_=Math.floor(g/60),P=g%60;if(P===0)return h+String(_);var $=d||"";return h+String(_)+$+B(P,2)}function xt(l,d){return l%60==0?(l>0?"-":"+")+B(Math.abs(l)/60,2):ie(l,d)}function ie(l,d){var h=d||"",g=l>0?"-":"+",_=Math.abs(l);return g+B(Math.floor(_/60),2)+h+B(_%60,2)}function Et(l,d){switch(l){case"P":return d.date({width:"short"});case"PP":return d.date({width:"medium"});case"PPP":return d.date({width:"long"});case"PPPP":default:return d.date({width:"full"})}}function Rt(l,d){switch(l){case"p":return d.time({width:"short"});case"pp":return d.time({width:"medium"});case"ppp":return d.time({width:"long"});case"pppp":default:return d.time({width:"full"})}}var rr={p:Rt,P:function(l,d){var h,g=l.match(/(P+)(p+)?/),_=g[1],P=g[2];if(!P)return Et(l,d);switch(_){case"P":h=d.dateTime({width:"short"});break;case"PP":h=d.dateTime({width:"medium"});break;case"PPP":h=d.dateTime({width:"long"});break;case"PPPP":default:h=d.dateTime({width:"full"})}return h.replace("{{date}}",Et(_,d)).replace("{{time}}",Rt(P,d))}};function ar(l){var d=new Date(Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()));return d.setUTCFullYear(l.getFullYear()),l.getTime()-d.getTime()}var or=["D","DD"],sr=["YY","YYYY"];function ir(l){return or.indexOf(l)!==-1}function cr(l){return sr.indexOf(l)!==-1}function Dt(l,d,h){if(l==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(d,"`) for formatting years to the input `").concat(h,"`; see: https://git.io/fxCyr"));if(l==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(d,"`) for formatting years to the input `").concat(h,"`; see: https://git.io/fxCyr"));if(l==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(d,"`) for formatting days of the month to the input `").concat(h,"`; see: https://git.io/fxCyr"));if(l==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(d,"`) for formatting days of the month to the input `").concat(h,"`; see: https://git.io/fxCyr"))}var lr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ur=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dr=/^'([^]*?)'?$/,hr=/''/g,gr=/[a-zA-Z]/;function mr(l){return l.match(dr)[1].replace(hr,"'")}var W=function(){function l(d,h,g){if(this.name=d,this.value=h,this.structure=g,this.structure&&!this.isValid())throw"The "+this.name+" key is in wrong format!"}return l.prototype.isValid=function(){return this.structure.test(this.value)},l.prototype.toString=function(){return this.name+":"+this.value},l}(),kt=function(l){function d(h){var g=l.call(this,"acc",h)||this;if(!g.isValid())throw"The "+g.name+" key is in wrong format!";return g}return a(d,l),d.prototype.isValid=function(){var h=this.value.split("+");return h.length===1?i(this.value):i(h[0])&&function(g){if(!g)return!1;var _=new RegExp("^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$",""),P=c[g.toUpperCase().slice(4,6)];return _.test(g)&&P!==void 0}(h[1])},d}(W),fr=function(l){function d(h){var g=l.call(this,"alt-acc",h.join(","))||this;if(!g.isValid())throw"The "+g.name+" key is in wrong format!";return g}return a(d,l),d.prototype.isValid=function(){return this.value.split(",").every(function(h){return new kt(h).isValid()})},d}(W),pr=function(l){function d(h){return l.call(this,"am",h,/^[1-9][0-9]*(\.[0-9][0-9])?$/)||this}return a(d,l),d}(W),br=function(l){function d(h){return l.call(this,"cc",h,/^AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTN|BWP|BYR|BZD|CAD|CDF|CHF|CLP|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRO|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SPL|SRD|STD|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TVD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VEF|VND|VUV|WST|XAF|XCD|XDR|XOF|XPF|YER|ZAR|ZMW|ZWD$/)||this}return a(d,l),d}(W),yr=function(l){function d(h){return l.call(this,"rf",h,/^[0-9]{1,16}$/)||this}return a(d,l),d}(W),vr=function(l){function d(h){return l.call(this,"rn",h,/^[^*]{1,35}$/)||this}return a(d,l),d}(W),_r=function(l){function d(h){var g=l.call(this,"dt",function(_,P,$){u(2,arguments);var Z=String(P),M=$||{},L=M.locale||y,q=L.options&&L.options.firstWeekContainsDate,O=q==null?1:C(q),ee=M.firstWeekContainsDate==null?O:C(M.firstWeekContainsDate);if(!(ee>=1&&ee<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=L.options&&L.options.weekStartsOn,xr=Q==null?0:C(Q),Ye=M.weekStartsOn==null?xr:C(M.weekStartsOn);if(!(Ye>=0&&Ye<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var Be=f(_);if(!p(Be))throw new RangeError("Invalid time value");var Er=ar(Be),Rr=x(Be,Er),Tt={firstWeekContainsDate:ee,weekStartsOn:Ye,locale:L,_originalDate:Be};return Z.match(ur).map(function(z){var te=z[0];return te==="p"||te==="P"?(0,rr[te])(z,L.formatLong,Tt):z}).join("").match(lr).map(function(z){if(z==="''")return"'";var te=z[0];if(te==="'")return mr(z);var $t=nr[te];if($t)return!M.useAdditionalWeekYearTokens&&cr(z)&&Dt(z,P,_),!M.useAdditionalDayOfYearTokens&&ir(z)&&Dt(z,P,_),$t(Rr,z,L.localize,Tt);if(te.match(gr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+te+"`");return z}).join("")}(h,"yyyyMMdd"))||this;if(g.originalDate=h,!g.isValid())throw"The "+g.name+" key is in wrong format!";return g}return a(d,l),d.prototype.isValid=function(){return p(this.originalDate)},d}(W),Ar=function(l){function d(h){return l.call(this,"pt",h,/^[^*]{1,3}$/)||this}return a(d,l),d}(W),Nr=function(l){function d(h){return l.call(this,"msg",h,/^[^*]{1,60}$/)||this}return a(d,l),d}(W),wr=function(l){function d(h){return l.call(this,"crc32",h,/^[A-F0-9]{8,8}$/)||this}return a(d,l),d}(W),Sr=function(l){function d(h){return l.call(this,"x-per",h,/^(30|[12]?[0-9])$/)||this}return a(d,l),d}(W),Cr=function(l){function d(h){return l.call(this,"x-vs",h,/^[1-9][0-9]{0,9}$/)||this}return a(d,l),d}(W),Ir=function(l){function d(h){return l.call(this,"x-ss",h,/^[1-9][0-9]{0,9}$/)||this}return a(d,l),d}(W),Br=function(l){function d(h){return l.call(this,"x-ks",h,/^[1-9][0-9]{0,9}$/)||this}return a(d,l),d}(W),Pr=function(l){function d(h){return l.call(this,"x-id",h,/^[^*]{1,20}$/)||this}return a(d,l),d}(W),Mt={acc:kt,altAcc:fr,am:pr,cc:br,rf:yr,rn:vr,dt:_r,pt:Ar,msg:Nr,crc32:wr,xper:Sr,xvs:Cr,xss:Ir,xks:Br,xid:Pr};return function(l){var d=[];for(var h in l){if(!Mt[h])throw"Was given an unsupported key: "+h;d.push(new Mt[h](l[h]))}return"SPD*1.0*"+d.sort().join("*").toUpperCase()}})})(Pn);var Sa=Pn.exports;const Ca=wa(Sa);var Se={},Ia=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},xn={},Y={};let At;const Ba=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Y.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Y.getSymbolTotalCodewords=function(t){return Ba[t]};Y.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Y.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');At=t};Y.isKanjiModeEnabled=function(){return typeof At<"u"};Y.toSJIS=function(t){return At(t)};var Oe={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},e.from=function(o,s){if(e.isValid(o))return o;try{return t(o)}catch{return s}}})(Oe);function En(){this.buffer=[],this.length=0}En.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Pa=En;function Ce(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ce.prototype.set=function(e,t,n,o){const s=e*this.size+t;this.data[s]=n,o&&(this.reservedBit[s]=!0)};Ce.prototype.get=function(e,t){return this.data[e*this.size+t]};Ce.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Ce.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var xa=Ce,Rn={};(function(e){const t=Y.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const s=Math.floor(o/7)+2,a=t(o),i=a===145?26:Math.ceil((a-13)/(2*s-2))*2,c=[a-7];for(let u=1;u<s-1;u++)c[u]=c[u-1]-i;return c.push(6),c.reverse()},e.getPositions=function(o){const s=[],a=e.getRowColCoords(o),i=a.length;for(let c=0;c<i;c++)for(let u=0;u<i;u++)c===0&&u===0||c===0&&u===i-1||c===i-1&&u===0||s.push([a[c],a[u]]);return s}})(Rn);var Dn={};const Ea=Y.getSymbolSize,en=7;Dn.getPositions=function(t){const n=Ea(t);return[[0,0],[n-en,0],[0,n-en]]};var kn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const a=s.size;let i=0,c=0,u=0,f=null,p=null;for(let m=0;m<a;m++){c=u=0,f=p=null;for(let A=0;A<a;A++){let v=s.get(m,A);v===f?c++:(c>=5&&(i+=t.N1+(c-5)),f=v,c=1),v=s.get(A,m),v===p?u++:(u>=5&&(i+=t.N1+(u-5)),p=v,u=1)}c>=5&&(i+=t.N1+(c-5)),u>=5&&(i+=t.N1+(u-5))}return i},e.getPenaltyN2=function(s){const a=s.size;let i=0;for(let c=0;c<a-1;c++)for(let u=0;u<a-1;u++){const f=s.get(c,u)+s.get(c,u+1)+s.get(c+1,u)+s.get(c+1,u+1);(f===4||f===0)&&i++}return i*t.N2},e.getPenaltyN3=function(s){const a=s.size;let i=0,c=0,u=0;for(let f=0;f<a;f++){c=u=0;for(let p=0;p<a;p++)c=c<<1&2047|s.get(f,p),p>=10&&(c===1488||c===93)&&i++,u=u<<1&2047|s.get(p,f),p>=10&&(u===1488||u===93)&&i++}return i*t.N3},e.getPenaltyN4=function(s){let a=0;const i=s.data.length;for(let u=0;u<i;u++)a+=s.data[u];return Math.abs(Math.ceil(a*100/i/5)-10)*t.N4};function n(o,s,a){switch(o){case e.Patterns.PATTERN000:return(s+a)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(s+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return s*a%2+s*a%3===0;case e.Patterns.PATTERN110:return(s*a%2+s*a%3)%2===0;case e.Patterns.PATTERN111:return(s*a%3+(s+a)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(s,a){const i=a.size;for(let c=0;c<i;c++)for(let u=0;u<i;u++)a.isReserved(u,c)||a.xor(u,c,n(s,u,c))},e.getBestMask=function(s,a){const i=Object.keys(e.Patterns).length;let c=0,u=1/0;for(let f=0;f<i;f++){a(f),e.applyMask(f,s);const p=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(f,s),p<u&&(u=p,c=f)}return c}})(kn);var We={};const re=Oe,xe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ee=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];We.getBlocksCount=function(t,n){switch(n){case re.L:return xe[(t-1)*4+0];case re.M:return xe[(t-1)*4+1];case re.Q:return xe[(t-1)*4+2];case re.H:return xe[(t-1)*4+3];default:return}};We.getTotalCodewordsCount=function(t,n){switch(n){case re.L:return Ee[(t-1)*4+0];case re.M:return Ee[(t-1)*4+1];case re.Q:return Ee[(t-1)*4+2];case re.H:return Ee[(t-1)*4+3];default:return}};var Mn={},Ve={};const ve=new Uint8Array(512),Ze=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)ve[n]=t,Ze[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)ve[n]=ve[n-255]})();Ve.log=function(t){if(t<1)throw new Error("log("+t+")");return Ze[t]};Ve.exp=function(t){return ve[t]};Ve.mul=function(t,n){return t===0||n===0?0:ve[Ze[t]+Ze[n]]};(function(e){const t=Ve;e.mul=function(o,s){const a=new Uint8Array(o.length+s.length-1);for(let i=0;i<o.length;i++)for(let c=0;c<s.length;c++)a[i+c]^=t.mul(o[i],s[c]);return a},e.mod=function(o,s){let a=new Uint8Array(o);for(;a.length-s.length>=0;){const i=a[0];for(let u=0;u<s.length;u++)a[u]^=t.mul(s[u],i);let c=0;for(;c<a.length&&a[c]===0;)c++;a=a.slice(c)}return a},e.generateECPolynomial=function(o){let s=new Uint8Array([1]);for(let a=0;a<o;a++)s=e.mul(s,new Uint8Array([1,t.exp(a)]));return s}})(Mn);const Tn=Mn;function Nt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Nt.prototype.initialize=function(t){this.degree=t,this.genPoly=Tn.generateECPolynomial(this.degree)};Nt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=Tn.mod(n,this.genPoly),s=this.degree-o.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(o,s),a}return o};var Ra=Nt,$n={},oe={},wt={};wt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var X={};const Un="[0-9]+",Da="[A-Z $%*+\\-./:]+";let we="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";we=we.replace(/u/g,"\\u");const ka="(?:(?![A-Z0-9 $%*+\\-./:]|"+we+`)(?:.|[\r
]))+`;X.KANJI=new RegExp(we,"g");X.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");X.BYTE=new RegExp(ka,"g");X.NUMERIC=new RegExp(Un,"g");X.ALPHANUMERIC=new RegExp(Da,"g");const Ma=new RegExp("^"+we+"$"),Ta=new RegExp("^"+Un+"$"),$a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");X.testKanji=function(t){return Ma.test(t)};X.testNumeric=function(t){return Ta.test(t)};X.testAlphanumeric=function(t){return $a.test(t)};(function(e){const t=wt,n=X;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,i){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?a.ccBits[0]:i<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function o(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(a,i){if(e.isValid(a))return a;try{return o(a)}catch{return i}}})(oe);(function(e){const t=Y,n=We,o=Oe,s=oe,a=wt,i=7973,c=t.getBCHDigit(i);function u(A,v,b){for(let w=1;w<=40;w++)if(v<=e.getCapacity(w,b,A))return w}function f(A,v){return s.getCharCountIndicator(A,v)+4}function p(A,v){let b=0;return A.forEach(function(w){const N=f(w.mode,v);b+=N+w.getBitsLength()}),b}function m(A,v){for(let b=1;b<=40;b++)if(p(A,b)<=e.getCapacity(b,v,s.MIXED))return b}e.from=function(v,b){return a.isValid(v)?parseInt(v,10):b},e.getCapacity=function(v,b,w){if(!a.isValid(v))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);const N=t.getSymbolTotalCodewords(v),S=n.getTotalCodewordsCount(v,b),y=(N-S)*8;if(w===s.MIXED)return y;const C=y-f(w,v);switch(w){case s.NUMERIC:return Math.floor(C/10*3);case s.ALPHANUMERIC:return Math.floor(C/11*2);case s.KANJI:return Math.floor(C/13);case s.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(v,b){let w;const N=o.from(b,o.M);if(Array.isArray(v)){if(v.length>1)return m(v,N);if(v.length===0)return 1;w=v[0]}else w=v;return u(w.mode,w.getLength(),N)},e.getEncodedBits=function(v){if(!a.isValid(v)||v<7)throw new Error("Invalid QR Code version");let b=v<<12;for(;t.getBCHDigit(b)-c>=0;)b^=i<<t.getBCHDigit(b)-c;return v<<12|b}})($n);var Zn={};const st=Y,Fn=1335,Ua=21522,tn=st.getBCHDigit(Fn);Zn.getEncodedBits=function(t,n){const o=t.bit<<3|n;let s=o<<10;for(;st.getBCHDigit(s)-tn>=0;)s^=Fn<<st.getBCHDigit(s)-tn;return(o<<10|s)^Ua};var Ln={};const Za=oe;function fe(e){this.mode=Za.NUMERIC,this.data=e.toString()}fe.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};fe.prototype.getLength=function(){return this.data.length};fe.prototype.getBitsLength=function(){return fe.getBitsLength(this.data.length)};fe.prototype.write=function(t){let n,o,s;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),s=parseInt(o,10),t.put(s,10);const a=this.data.length-n;a>0&&(o=this.data.substr(n),s=parseInt(o,10),t.put(s,a*3+1))};var Fa=fe;const La=oe,qe=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function pe(e){this.mode=La.ALPHANUMERIC,this.data=e}pe.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=qe.indexOf(this.data[n])*45;o+=qe.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(qe.indexOf(this.data[n]),6)};var Ga=pe,Ha=function(t){for(var n=[],o=t.length,s=0;s<o;s++){var a=t.charCodeAt(s);if(a>=55296&&a<=56319&&o>s+1){var i=t.charCodeAt(s+1);i>=56320&&i<=57343&&(a=(a-55296)*1024+i-56320+65536,s+=1)}if(a<128){n.push(a);continue}if(a<2048){n.push(a>>6|192),n.push(a&63|128);continue}if(a<55296||a>=57344&&a<65536){n.push(a>>12|224),n.push(a>>6&63|128),n.push(a&63|128);continue}if(a>=65536&&a<=1114111){n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Oa=Ha,Wa=oe;function be(e){this.mode=Wa.BYTE,typeof e=="string"&&(e=Oa(e)),this.data=new Uint8Array(e)}be.getBitsLength=function(t){return t*8};be.prototype.getLength=function(){return this.data.length};be.prototype.getBitsLength=function(){return be.getBitsLength(this.data.length)};be.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Va=be;const za=oe,Ya=Y;function ye(e){this.mode=za.KANJI,this.data=e}ye.getBitsLength=function(t){return t*13};ye.prototype.getLength=function(){return this.data.length};ye.prototype.getBitsLength=function(){return ye.getBitsLength(this.data.length)};ye.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Ya.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Ka=ye,Gn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,s){var a={},i={};i[o]=0;var c=t.PriorityQueue.make();c.push(o,0);for(var u,f,p,m,A,v,b,w,N;!c.empty();){u=c.pop(),f=u.value,m=u.cost,A=n[f]||{};for(p in A)A.hasOwnProperty(p)&&(v=A[p],b=m+v,w=i[p],N=typeof i[p]>"u",(N||w>b)&&(i[p]=b,c.push(p,b),a[p]=f))}if(typeof s<"u"&&typeof i[s]>"u"){var S=["Could not find a path from ",o," to ",s,"."].join("");throw new Error(S)}return a},extract_shortest_path_from_predecessor_list:function(n,o){for(var s=[],a=o;a;)s.push(a),n[a],a=n[a];return s.reverse(),s},find_path:function(n,o,s){var a=t.single_source_shortest_paths(n,o,s);return t.extract_shortest_path_from_predecessor_list(a,s)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,s={},a;n=n||{};for(a in o)o.hasOwnProperty(a)&&(s[a]=o[a]);return s.queue=[],s.sorter=n.sorter||o.default_sorter,s},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var s={value:n,cost:o};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Gn);var qa=Gn.exports;(function(e){const t=oe,n=Fa,o=Ga,s=Va,a=Ka,i=X,c=Y,u=qa;function f(S){return unescape(encodeURIComponent(S)).length}function p(S,y,C){const I=[];let x;for(;(x=S.exec(C))!==null;)I.push({data:x[0],index:x.index,mode:y,length:x[0].length});return I}function m(S){const y=p(i.NUMERIC,t.NUMERIC,S),C=p(i.ALPHANUMERIC,t.ALPHANUMERIC,S);let I,x;return c.isKanjiModeEnabled()?(I=p(i.BYTE,t.BYTE,S),x=p(i.KANJI,t.KANJI,S)):(I=p(i.BYTE_KANJI,t.BYTE,S),x=[]),y.concat(C,I,x).sort(function(T,k){return T.index-k.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function A(S,y){switch(y){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return o.getBitsLength(S);case t.KANJI:return a.getBitsLength(S);case t.BYTE:return s.getBitsLength(S)}}function v(S){return S.reduce(function(y,C){const I=y.length-1>=0?y[y.length-1]:null;return I&&I.mode===C.mode?(y[y.length-1].data+=C.data,y):(y.push(C),y)},[])}function b(S){const y=[];for(let C=0;C<S.length;C++){const I=S[C];switch(I.mode){case t.NUMERIC:y.push([I,{data:I.data,mode:t.ALPHANUMERIC,length:I.length},{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.ALPHANUMERIC:y.push([I,{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.KANJI:y.push([I,{data:I.data,mode:t.BYTE,length:f(I.data)}]);break;case t.BYTE:y.push([{data:I.data,mode:t.BYTE,length:f(I.data)}])}}return y}function w(S,y){const C={},I={start:{}};let x=["start"];for(let B=0;B<S.length;B++){const T=S[B],k=[];for(let F=0;F<T.length;F++){const H=T[F],V=""+B+F;k.push(V),C[V]={node:H,lastCount:0},I[V]={};for(let U=0;U<x.length;U++){const E=x[U];C[E]&&C[E].node.mode===H.mode?(I[E][V]=A(C[E].lastCount+H.length,H.mode)-A(C[E].lastCount,H.mode),C[E].lastCount+=H.length):(C[E]&&(C[E].lastCount=H.length),I[E][V]=A(H.length,H.mode)+4+t.getCharCountIndicator(H.mode,y))}}x=k}for(let B=0;B<x.length;B++)I[x[B]].end=0;return{map:I,table:C}}function N(S,y){let C;const I=t.getBestModeForData(S);if(C=t.from(y,I),C!==t.BYTE&&C.bit<I.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(I));switch(C===t.KANJI&&!c.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new o(S);case t.KANJI:return new a(S);case t.BYTE:return new s(S)}}e.fromArray=function(y){return y.reduce(function(C,I){return typeof I=="string"?C.push(N(I,null)):I.data&&C.push(N(I.data,I.mode)),C},[])},e.fromString=function(y,C){const I=m(y,c.isKanjiModeEnabled()),x=b(I),B=w(x,C),T=u.find_path(B.map,"start","end"),k=[];for(let F=1;F<T.length-1;F++)k.push(B.table[T[F]].node);return e.fromArray(v(k))},e.rawSplit=function(y){return e.fromArray(m(y,c.isKanjiModeEnabled()))}})(Ln);const ze=Y,Qe=Oe,Qa=Pa,ja=xa,Ja=Rn,Xa=Dn,it=kn,ct=We,eo=Ra,Fe=$n,to=Zn,no=oe,je=Ln;function ro(e,t){const n=e.size,o=Xa.getPositions(t);for(let s=0;s<o.length;s++){const a=o[s][0],i=o[s][1];for(let c=-1;c<=7;c++)if(!(a+c<=-1||n<=a+c))for(let u=-1;u<=7;u++)i+u<=-1||n<=i+u||(c>=0&&c<=6&&(u===0||u===6)||u>=0&&u<=6&&(c===0||c===6)||c>=2&&c<=4&&u>=2&&u<=4?e.set(a+c,i+u,!0,!0):e.set(a+c,i+u,!1,!0))}}function ao(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function oo(e,t){const n=Ja.getPositions(t);for(let o=0;o<n.length;o++){const s=n[o][0],a=n[o][1];for(let i=-2;i<=2;i++)for(let c=-2;c<=2;c++)i===-2||i===2||c===-2||c===2||i===0&&c===0?e.set(s+i,a+c,!0,!0):e.set(s+i,a+c,!1,!0)}}function so(e,t){const n=e.size,o=Fe.getEncodedBits(t);let s,a,i;for(let c=0;c<18;c++)s=Math.floor(c/3),a=c%3+n-8-3,i=(o>>c&1)===1,e.set(s,a,i,!0),e.set(a,s,i,!0)}function Je(e,t,n){const o=e.size,s=to.getEncodedBits(t,n);let a,i;for(a=0;a<15;a++)i=(s>>a&1)===1,a<6?e.set(a,8,i,!0):a<8?e.set(a+1,8,i,!0):e.set(o-15+a,8,i,!0),a<8?e.set(8,o-a-1,i,!0):a<9?e.set(8,15-a-1+1,i,!0):e.set(8,15-a-1,i,!0);e.set(o-8,8,1,!0)}function io(e,t){const n=e.size;let o=-1,s=n-1,a=7,i=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let u=0;u<2;u++)if(!e.isReserved(s,c-u)){let f=!1;i<t.length&&(f=(t[i]>>>a&1)===1),e.set(s,c-u,f),a--,a===-1&&(i++,a=7)}if(s+=o,s<0||n<=s){s-=o,o=-o;break}}}function co(e,t,n){const o=new Qa;n.forEach(function(u){o.put(u.mode.bit,4),o.put(u.getLength(),no.getCharCountIndicator(u.mode,e)),u.write(o)});const s=ze.getSymbolTotalCodewords(e),a=ct.getTotalCodewordsCount(e,t),i=(s-a)*8;for(o.getLengthInBits()+4<=i&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const c=(i-o.getLengthInBits())/8;for(let u=0;u<c;u++)o.put(u%2?17:236,8);return lo(o,e,t)}function lo(e,t,n){const o=ze.getSymbolTotalCodewords(t),s=ct.getTotalCodewordsCount(t,n),a=o-s,i=ct.getBlocksCount(t,n),c=o%i,u=i-c,f=Math.floor(o/i),p=Math.floor(a/i),m=p+1,A=f-p,v=new eo(A);let b=0;const w=new Array(i),N=new Array(i);let S=0;const y=new Uint8Array(e.buffer);for(let T=0;T<i;T++){const k=T<u?p:m;w[T]=y.slice(b,b+k),N[T]=v.encode(w[T]),b+=k,S=Math.max(S,k)}const C=new Uint8Array(o);let I=0,x,B;for(x=0;x<S;x++)for(B=0;B<i;B++)x<w[B].length&&(C[I++]=w[B][x]);for(x=0;x<A;x++)for(B=0;B<i;B++)C[I++]=N[B][x];return C}function uo(e,t,n,o){let s;if(Array.isArray(e))s=je.fromArray(e);else if(typeof e=="string"){let f=t;if(!f){const p=je.rawSplit(e);f=Fe.getBestVersionForData(p,n)}s=je.fromString(e,f||40)}else throw new Error("Invalid data");const a=Fe.getBestVersionForData(s,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const i=co(t,n,s),c=ze.getSymbolSize(t),u=new ja(c);return ro(u,t),ao(u),oo(u,t),Je(u,n,0),t>=7&&so(u,t),io(u,i),isNaN(o)&&(o=it.getBestMask(u,Je.bind(null,u,n))),it.applyMask(o,u),Je(u,n,o),{modules:u,version:t,errorCorrectionLevel:n,maskPattern:o,segments:s}}xn.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let o=Qe.M,s,a;return typeof n<"u"&&(o=Qe.from(n.errorCorrectionLevel,Qe.M),s=Fe.from(n.version),a=it.from(n.maskPattern),n.toSJISFunc&&ze.setToSJISFunction(n.toSJISFunc)),uo(t,s,o,a)};var Hn={},St={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(a){return[a,a]}))),o.length===6&&o.push("F","F");const s=parseInt(o.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const s=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,a=o.width&&o.width>=21?o.width:void 0,i=o.scale||4;return{width:a,scale:a?4:i,margin:s,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,s){return s.width&&s.width>=o+s.margin*2?s.width/(o+s.margin*2):s.scale},e.getImageWidth=function(o,s){const a=e.getScale(o,s);return Math.floor((o+s.margin*2)*a)},e.qrToImageData=function(o,s,a){const i=s.modules.size,c=s.modules.data,u=e.getScale(i,a),f=Math.floor((i+a.margin*2)*u),p=a.margin*u,m=[a.color.light,a.color.dark];for(let A=0;A<f;A++)for(let v=0;v<f;v++){let b=(A*f+v)*4,w=a.color.light;if(A>=p&&v>=p&&A<f-p&&v<f-p){const N=Math.floor((A-p)/u),S=Math.floor((v-p)/u);w=m[c[N*i+S]?1:0]}o[b++]=w.r,o[b++]=w.g,o[b++]=w.b,o[b]=w.a}}})(St);(function(e){const t=St;function n(s,a,i){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=i,a.width=i,a.style.height=i+"px",a.style.width=i+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,i,c){let u=c,f=i;typeof u>"u"&&(!i||!i.getContext)&&(u=i,i=void 0),i||(f=o()),u=t.getOptions(u);const p=t.getImageWidth(a.modules.size,u),m=f.getContext("2d"),A=m.createImageData(p,p);return t.qrToImageData(A.data,a,u),n(m,f,p),m.putImageData(A,0,0),f},e.renderToDataURL=function(a,i,c){let u=c;typeof u>"u"&&(!i||!i.getContext)&&(u=i,i=void 0),u||(u={});const f=e.render(a,i,u),p=u.type||"image/png",m=u.rendererOpts||{};return f.toDataURL(p,m.quality)}})(Hn);var On={};const ho=St;function nn(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function Xe(e,t,n){let o=e+t;return typeof n<"u"&&(o+=" "+n),o}function go(e,t,n){let o="",s=0,a=!1,i=0;for(let c=0;c<e.length;c++){const u=Math.floor(c%t),f=Math.floor(c/t);!u&&!a&&(a=!0),e[c]?(i++,c>0&&u>0&&e[c-1]||(o+=a?Xe("M",u+n,.5+f+n):Xe("m",s,0),s=0,a=!1),u+1<t&&e[c+1]||(o+=Xe("h",i),i=0)):s++}return o}On.render=function(t,n,o){const s=ho.getOptions(n),a=t.modules.size,i=t.modules.data,c=a+s.margin*2,u=s.color.light.a?"<path "+nn(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",f="<path "+nn(s.color.dark,"stroke")+' d="'+go(i,a,s.margin)+'"/>',p='viewBox="0 0 '+c+" "+c+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+p+' shape-rendering="crispEdges">'+u+f+`</svg>
`;return typeof o=="function"&&o(null,A),A};const mo=Ia,lt=xn,Wn=Hn,fo=On;function Ct(e,t,n,o,s){const a=[].slice.call(arguments,1),i=a.length,c=typeof a[i-1]=="function";if(!c&&!mo())throw new Error("Callback required as last argument");if(c){if(i<2)throw new Error("Too few arguments provided");i===2?(s=n,n=t,t=o=void 0):i===3&&(t.getContext&&typeof s>"u"?(s=o,o=void 0):(s=o,o=n,n=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(n=t,t=o=void 0):i===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(u,f){try{const p=lt.create(n,o);u(e(p,t,o))}catch(p){f(p)}})}try{const u=lt.create(n,o);s(null,e(u,t,o))}catch(u){s(u)}}Se.create=lt.create;Se.toCanvas=Ct.bind(null,Wn.render);Se.toDataURL=Ct.bind(null,Wn.renderToDataURL);Se.toString=Ct.bind(null,function(e,t,n){return fo.render(e,n)});function po(e){switch(e.vsMode){case"counter":return e.vsCounter.toString();case"time":const t=new Date,n=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),c=String(t.getSeconds()).padStart(2,"0");return`${n}${o}${s}${a}${i}${c}`;case"static":return e.vsStaticValue||"0";default:return"0"}}async function bo(e,t,n,o){console.log("[PaymentGenerator] Starting payment generation",{accountId:e,eventId:t,amount:n});const s=await Kr(e),a=await jr(t);if(console.log("[PaymentGenerator] Fetched account and event",{account:s,event:a}),!s)throw new Error("Account not found");if(!a)throw new Error("Event not found");try{let i=o==null?void 0:o.variableSymbol;i||(i=po(a),console.log("[PaymentGenerator] Generated VS:",i),a.vsMode==="counter"&&(a.vsCounter+=1,await An(a),console.log("[PaymentGenerator] Incremented VS counter to:",a.vsCounter)));const c=(o==null?void 0:o.staticSymbol)||a.staticSymbol;console.log("[PaymentGenerator] Using SS:",c);const u=wn(s.iban);if(console.log("[PaymentGenerator] Formatted IBAN:",u),!u)throw new Error("Invalid IBAN format");const f={acc:u,am:n.toFixed(2),cc:s.currency,xvs:i,xss:c};o!=null&&o.message&&(f.msg=o.message),console.log("[PaymentGenerator] Created payment description:",f);const p=Ca(f);console.log("[PaymentGenerator] Generated SPAYD string:",p),console.log("[PaymentGenerator] Generating QR code...");const m=await Se.toDataURL(p,{errorCorrectionLevel:"H",width:512,margin:2});console.log("[PaymentGenerator] QR code generated successfully");const A={accountId:e,eventId:t,amount:n,currency:s.currency,variableSymbol:i,staticSymbol:c,message:o==null?void 0:o.message,spaydString:p,qrCodeDataUrl:m,createdAt:Date.now()};console.log("[PaymentGenerator] Storing payment to IndexedDB",A);const v=await ea(A);console.log("[PaymentGenerator] Payment stored with ID:",v),s.webhookUrl&&(console.log("[PaymentGenerator] Queuing for sync to webhook:",s.webhookUrl),await na({paymentId:v,webhookUrl:s.webhookUrl,payload:{paymentId:v,accountId:e,eventId:t,amount:n,currency:s.currency,variableSymbol:i,staticSymbol:c,message:o==null?void 0:o.message,spaydString:p,createdAt:A.createdAt},status:"pending",attempts:0,createdAt:Date.now()}));const b={...A,id:v};return console.log("[PaymentGenerator] Payment generation complete",b),b}catch(i){throw console.error("[PaymentGenerator] ERROR during payment generation:",i),console.error("[PaymentGenerator] Error details:",{message:i instanceof Error?i.message:"Unknown error",stack:i instanceof Error?i.stack:void 0}),i}}function yo(){const[e,t]=R([]),[n,o]=R([]),[s,a]=R(null),[i,c]=R(null),[u,f]=R(""),[p,m]=R(""),[A,v]=R(!1),[b,w]=R(null),[N,S]=R(""),[y,C]=R(!1),[I,x]=R(null);ae(()=>{B()},[]);async function B(){const E=await ge(),K=await me();t(E),o(K);const le=E.find(ue=>ue.isDefault)||E[0],se=K.find(ue=>ue.isDefault)||K[0];le&&a(le.id),se&&c(se.id)}const T=e.find(E=>E.id===s),k=n.find(E=>E.id===i);ae(()=>{k!=null&&k.permanentAmount?f(k.permanentAmount.toString()):f(""),k!=null&&k.message?m(k.message):m("")},[k]);async function F(E){if(E.preventDefault(),!s||!i){S("Please select both account and event");return}S(""),v(!0);try{const K=parseFloat(u);if(isNaN(K)||K<=0)throw new Error("Invalid amount");const le=await bo(s,i,K,{message:p||void 0});w(le),await B()}catch(K){S(K instanceof Error?K.message:"Failed to generate payment")}finally{v(!1)}}function H(E){navigator.clipboard.writeText(E),x("Copied to clipboard!")}if(b)return r("div",{className:"payment-result fade-in",children:[r("div",{className:"result-header",children:[r("h2",{children:"Payment QR Code"}),r("button",{className:"btn btn-secondary btn-sm",onClick:()=>w(null),children:"â† Back"})]}),r("div",{className:"result-qr",children:r("img",{src:b.qrCodeDataUrl,alt:"Payment QR Code"})}),r("div",{className:"result-details",children:[r("div",{className:"result-amount",children:[r("div",{className:"amount-value",children:[b.amount," ",b.currency]}),r("div",{className:"amount-label",children:"Amount"})]}),r("div",{className:"result-info",children:[r("div",{className:"info-row",children:[r("span",{className:"info-label",children:"Variable Symbol"}),r("span",{className:"info-value font-mono",children:b.variableSymbol})]}),r("div",{className:"info-row",children:[r("span",{className:"info-label",children:"Static Symbol"}),r("span",{className:"info-value font-mono",children:b.staticSymbol})]}),b.message&&r("div",{className:"info-row",children:[r("span",{className:"info-label",children:"Message"}),r("span",{className:"info-value",children:b.message})]})]}),r("div",{className:"spayd-string-container",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"SPAYD String"}),r("div",{className:"spayd-string",children:[r("button",{className:"copy-button",onClick:()=>H(b.spaydString),children:"Copy"}),b.spaydString]})]})]}),r("div",{className:"result-actions",children:[r("button",{className:"btn btn-secondary",onClick:()=>{const E=document.createElement("a");E.download=`payment-${b.variableSymbol}.png`,E.href=b.qrCodeDataUrl,E.click()},children:"ðŸ’¾ Download"}),r("button",{className:"btn btn-primary",onClick:()=>w(null),children:"âœ¨ Generate Another"})]})]});const V=(k==null?void 0:k.permanentAmount)!==void 0,U=(k==null?void 0:k.message)!==void 0;return r("div",{className:"payment-form fade-in",children:[r("form",{onSubmit:F,children:[T&&k&&r("div",{className:"selection-summary",children:[r("div",{className:"summary-row",children:[r("span",{className:"summary-icon",children:"ðŸ¦"}),r("div",{className:"summary-content",children:[r("div",{className:"summary-label",children:"Account"}),r("div",{className:"summary-value",children:T.name})]})]}),r("div",{className:"summary-row",children:[r("span",{className:"summary-icon",children:"ðŸ“…"}),r("div",{className:"summary-content",children:[r("div",{className:"summary-label",children:"Event"}),r("div",{className:"summary-value",children:k.name})]})]}),r("button",{type:"button",className:"change-selection-btn",onClick:()=>C(!y),title:"Change account or event",children:"âš™ï¸"})]}),y&&r("div",{className:"advanced-section fade-in",children:[r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Account"}),r("select",{value:s||"",onChange:E=>a(parseInt(E.target.value)),required:!0,children:e.map(E=>r("option",{value:E.id,children:[E.name," - ",Sn(E.iban)]},E.id))})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Event"}),r("select",{value:i||"",onChange:E=>c(parseInt(E.target.value)),required:!0,children:n.map(E=>r("option",{value:E.id,children:[E.name," (SS: ",E.staticSymbol,")"]},E.id))})]})]}),r("div",{className:"amount-input-container",children:[r("label",{className:"amount-label",children:["Amount (",(T==null?void 0:T.currency)||"CZK",")",V&&r("span",{className:"fixed-badge",children:"Fixed"})]}),r("input",{type:"number",step:"0.01",className:"amount-input",value:u,onInput:E=>f(E.target.value),placeholder:"0.00",required:!0,disabled:V,autoFocus:!V})]}),r("div",{className:"message-section",children:r("div",{className:"form-group",children:[r("label",{className:"form-label",children:["Message (Optional)",U&&r("span",{className:"fixed-badge",children:"Fixed"})]}),r("input",{type:"text",value:p,onInput:E=>m(E.target.value),placeholder:"e.g., Registration fee",disabled:U})]})}),N&&r("div",{className:"form-error mb-md",children:N}),r("button",{type:"submit",className:"btn btn-primary generate-btn",disabled:A,children:A?r(j,{children:[r("div",{className:"spinner"}),"Generating..."]}):r(j,{children:[r("span",{className:"btn-icon",children:"ðŸ“±"}),"Generate QR Code"]})})]}),I&&r(Bn,{message:I,onClose:()=>x(null)})]})}function vo(){const[e,t]=R([]),[n,o]=R([]),[s,a]=R([]),[i,c]=R(null),[u,f]=R(null),[p,m]=R(null);ae(()=>{A()},[i,u]);async function A(){const y=await ge(),C=await me(),I=await Xr({accountId:i||void 0,eventId:u||void 0});o(y),a(C),t(I)}async function v(y){y.id&&confirm("Are you sure you want to delete this payment?")&&(await ta(y.id),await A(),(p==null?void 0:p.id)===y.id&&m(null))}function b(y){var C;return((C=n.find(I=>I.id===y))==null?void 0:C.name)||"Unknown"}function w(y){var C;return((C=s.find(I=>I.id===y))==null?void 0:C.name)||"Unknown"}function N(y){return new Date(y).toLocaleString()}function S(y){navigator.clipboard.writeText(y),alert("Copied to clipboard!")}return r("div",{className:"fade-in",children:[r("h2",{className:"mb-lg",children:"Payment History"}),r("div",{className:"card mb-lg",children:[r("h3",{className:"mb-md",children:"Filters"}),r("div",{className:"flex gap-md",children:[r("div",{className:"form-group",style:{flex:1,marginBottom:0},children:[r("label",{className:"form-label",children:"Account"}),r("select",{value:i||"",onChange:y=>c(y.target.value?parseInt(y.target.value):null),children:[r("option",{value:"",children:"All Accounts"}),n.map(y=>r("option",{value:y.id,children:y.name},y.id))]})]}),r("div",{className:"form-group",style:{flex:1,marginBottom:0},children:[r("label",{className:"form-label",children:"Event"}),r("select",{value:u||"",onChange:y=>f(y.target.value?parseInt(y.target.value):null),children:[r("option",{value:"",children:"All Events"}),s.map(y=>r("option",{value:y.id,children:y.name},y.id))]})]})]})]}),e.length===0?r("div",{className:"empty-state",children:[r("div",{className:"empty-state-icon",children:"ðŸ“‹"}),r("h3",{children:"No payments found"}),r("p",{children:"Generate your first payment to see it here"})]}):r("div",{className:"grid grid-2",children:[r("div",{children:r("div",{className:"table-container",children:r("table",{children:[r("thead",{children:r("tr",{children:[r("th",{children:"Date"}),r("th",{children:"Account"}),r("th",{children:"Event"}),r("th",{children:"Amount"}),r("th",{children:"VS"}),r("th",{children:"Actions"})]})}),r("tbody",{children:e.map(y=>r("tr",{children:[r("td",{className:"text-sm",children:N(y.createdAt)}),r("td",{className:"text-sm",children:b(y.accountId)}),r("td",{className:"text-sm",children:w(y.eventId)}),r("td",{className:"font-semibold",children:[y.amount," ",y.currency]}),r("td",{className:"font-mono text-sm",children:y.variableSymbol}),r("td",{children:r("div",{className:"flex gap-xs",children:[r("button",{className:"btn btn-secondary btn-sm",onClick:()=>m(y),children:"View"}),r("button",{className:"btn btn-danger btn-sm",onClick:()=>v(y),children:"Delete"})]})})]},y.id))})]})})}),r("div",{children:p?r("div",{className:"card fade-in",children:[r("h3",{className:"mb-md",children:"Payment Details"}),r("div",{className:"qr-display mb-lg",children:r("img",{src:p.qrCodeDataUrl,alt:"Payment QR Code"})}),r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Date"}),r("div",{children:N(p.createdAt)})]}),r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Account"}),r("div",{children:b(p.accountId)})]}),r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Event"}),r("div",{children:w(p.eventId)})]}),r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Amount"}),r("div",{className:"text-xl font-bold",children:[p.amount," ",p.currency]})]}),r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Variable Symbol"}),r("div",{className:"font-mono",children:p.variableSymbol})]}),r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Static Symbol"}),r("div",{className:"font-mono",children:p.staticSymbol})]}),p.message&&r("div",{className:"mb-md",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"Message"}),r("div",{children:p.message})]}),r("div",{className:"mb-lg",children:[r("div",{className:"text-sm text-secondary mb-xs",children:"SPAYD String"}),r("div",{className:"spayd-string",style:{position:"relative"},children:[r("button",{className:"copy-button",onClick:()=>S(p.spaydString),children:"Copy"}),p.spaydString]})]}),r("button",{className:"btn btn-secondary",style:{width:"100%"},onClick:()=>{const y=document.createElement("a");y.download=`payment-${p.variableSymbol}.png`,y.href=p.qrCodeDataUrl,y.click()},children:"ðŸ’¾ Download QR Code"})]}):r("div",{className:"empty-state",children:[r("div",{className:"empty-state-icon",children:"ðŸ‘ˆ"}),r("h3",{children:"Select a payment"}),r("p",{children:'Click "View" on a payment to see details'})]})})]})]})}async function ut(){const e=await Ne("pending"),t=await Ne("failed");for(const n of e)await dt(n);for(const n of t)n.attempts<3&&await dt(n)}async function dt(e){if(!e.id)throw new Error("Queue item ID is required");try{const t=await fetch(e.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.payload)});if(t.ok)(await t.json().catch(()=>({}))).acknowledged||t.status===200?await Te(e.id,"acked"):await Te(e.id,"sent");else throw new Error(`HTTP ${t.status}: ${t.statusText}`)}catch(t){const n=t instanceof Error?t.message:"Unknown error";await Te(e.id,"failed",n)}}async function _o(e){await Te(e,"acked")}async function Ao(e=3){const t=await Ne("failed");for(const n of t)n.attempts<e&&await dt(n)}function No(e=3e4){return ut().catch(console.error),window.setInterval(()=>{ut().catch(console.error)},e)}function wo(){const[e,t]=R([]),[n,o]=R(!1);ae(()=>{s();const b=setInterval(s,1e4);return()=>clearInterval(b)},[]);async function s(){const b=await Ne();t(b)}async function a(){o(!0);try{await ut(),await s()}finally{o(!1)}}async function i(){o(!0);try{await Ao(3),await s()}finally{o(!1)}}async function c(){confirm("Reset all sync flags? This will mark all items as pending.")&&(await ra({global:!0}),await s())}async function u(b){await _o(b),await s()}function f(b){return new Date(b).toLocaleString()}function p(b){switch(b){case"pending":return"badge-pending";case"sent":return"badge-sent";case"acked":return"badge-acked";case"failed":return"badge-failed";default:return""}}const m=e.filter(b=>b.status==="pending").length,A=e.filter(b=>b.status==="failed").length,v=e.filter(b=>b.status==="acked").length;return r("div",{className:"fade-in",children:[r("div",{className:"flex justify-between items-center mb-lg",children:[r("h2",{children:"Sync Queue"}),r("div",{className:"flex gap-sm",children:[r("button",{className:"btn btn-secondary",onClick:i,disabled:n||A===0,children:"ðŸ”„ Retry Failed"}),r("button",{className:"btn btn-primary",onClick:a,disabled:n,children:n?r(j,{children:[r("div",{className:"spinner"}),"Processing..."]}):"â–¶ï¸ Process Queue"})]})]}),r("div",{className:"grid grid-3 mb-lg",children:[r("div",{className:"card",children:[r("div",{className:"text-sm text-secondary",children:"Pending"}),r("div",{className:"text-2xl font-bold",children:m})]}),r("div",{className:"card",children:[r("div",{className:"text-sm text-secondary",children:"Failed"}),r("div",{className:"text-2xl font-bold",style:{color:"var(--color-danger)"},children:A})]}),r("div",{className:"card",children:[r("div",{className:"text-sm text-secondary",children:"Acknowledged"}),r("div",{className:"text-2xl font-bold",style:{color:"var(--color-success)"},children:v})]})]}),e.length===0?r("div",{className:"empty-state",children:[r("div",{className:"empty-state-icon",children:"ðŸ“­"}),r("h3",{children:"No sync items"}),r("p",{children:"Generated payments will appear here if webhooks are configured"})]}):r(j,{children:[r("div",{className:"flex justify-between items-center mb-md",children:[r("h3",{children:["Queue Items (",e.length,")"]}),r("button",{className:"btn btn-danger btn-sm",onClick:c,children:"Reset All Flags"})]}),r("div",{className:"table-container",children:r("table",{children:[r("thead",{children:r("tr",{children:[r("th",{children:"Payment ID"}),r("th",{children:"Status"}),r("th",{children:"Attempts"}),r("th",{children:"Created"}),r("th",{children:"Last Attempt"}),r("th",{children:"Webhook URL"}),r("th",{children:"Actions"})]})}),r("tbody",{children:e.map(b=>r("tr",{children:[r("td",{className:"font-mono text-sm",children:["#",b.paymentId]}),r("td",{children:r("span",{className:`badge ${p(b.status)}`,children:b.status})}),r("td",{children:b.attempts}),r("td",{className:"text-sm",children:f(b.createdAt)}),r("td",{className:"text-sm",children:b.lastAttempt?f(b.lastAttempt):"-"}),r("td",{className:"text-sm",style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis"},children:b.webhookUrl}),r("td",{children:[b.status==="sent"&&r("button",{className:"btn btn-success btn-sm",onClick:()=>u(b.id),children:"âœ“ Ack"}),b.status==="failed"&&b.error&&r("button",{className:"btn btn-secondary btn-sm",onClick:()=>alert(b.error),children:"View Error"})]})]},b.id))})]})})]})]})}const So={appTitle:"SPAYD GenerÃ¡tor Plateb",appSubtitle:"SystÃ©m pro generovÃ¡nÃ­ QR kÃ³dÅ¯ plateb s vÃ­ce ÃºÄty",tabGenerate:"Generovat",tabAccounts:"ÃšÄty",tabEvents:"UdÃ¡losti",tabHistory:"Historie",tabSync:"Synchronizace",add:"PÅ™idat",edit:"Upravit",delete:"Smazat",cancel:"ZruÅ¡it",create:"VytvoÅ™it",update:"Aktualizovat",save:"UloÅ¾it",close:"ZavÅ™Ã­t",view:"Zobrazit",default:"VÃ½chozÃ­",optional:"VolitelnÃ©",required:"PovinnÃ©",accounts:"BankovnÃ­ ÃšÄty",addAccount:"+ PÅ™idat ÃšÄet",editAccount:"Upravit ÃšÄet",accountName:"NÃ¡zev ÃšÄtu",accountNamePlaceholder:"napÅ™. HlavnÃ­ FiremnÃ­ ÃšÄet",iban:"IBAN",ibanPlaceholder:"CZ6508000000192000145399",ibanHelp:"Zadejte IBAN bez mezer (napÅ™. CZ6508000000192000145399)",currency:"MÄ›na",webhookUrl:"Webhook URL",webhookUrlPlaceholder:"https://api.example.com/webhook",webhookUrlHelp:"URL pro zasÃ­lÃ¡nÃ­ notifikacÃ­ o platbÃ¡ch (nechte prÃ¡zdnÃ© pro vypnutÃ­ synchronizace)",setAsDefault:"Nastavit jako vÃ½chozÃ­ ÃºÄet",noAccountsYet:"ZatÃ­m Å¾Ã¡dnÃ© ÃºÄty",noAccountsMessage:"PÅ™idejte svÅ¯j prvnÃ­ bankovnÃ­ ÃºÄet pro zaÄÃ¡tek generovÃ¡nÃ­ plateb",deleteAccountConfirm:"Opravdu chcete smazat ÃºÄet",events:"PlatebnÃ­ UdÃ¡losti",addEvent:"+ PÅ™idat UdÃ¡lost",editEvent:"Upravit UdÃ¡lost",eventName:"NÃ¡zev UdÃ¡losti",eventNamePlaceholder:"napÅ™. Workshop 2024",staticSymbol:"StatickÃ½ Symbol (SS)",staticSymbolPlaceholder:"napÅ™. 543",staticSymbolHelp:"IdentifikÃ¡tor udÃ¡losti, kterÃ½ zÅ¯stÃ¡vÃ¡ konstantnÃ­ pro vÅ¡echny platby",variableSymbolMode:"ReÅ¾im VariabilnÃ­ho Symbolu",vsModeCounter:"ÄŒÃ­taÄ (SekvenÄnÃ­: 1, 2, 3...)",vsModeTime:"ÄŒasovÃ½ (YYYYMMDDHHmmss)",vsModeStatic:"StatickÃ½ (StejnÃ¡ hodnota)",startingCounter:"PoÄÃ¡teÄnÃ­ Hodnota ÄŒÃ­taÄe",staticVsValue:"StatickÃ¡ Hodnota VS",staticVsValuePlaceholder:"napÅ™. 123456",permanentAmount:"TrvalÃ¡ ÄŒÃ¡stka",permanentAmountPlaceholder:"napÅ™. 450.00",permanentAmountHelp:"Nastavte opakujÃ­cÃ­ se ÄÃ¡stku pro rychlÃ© generovÃ¡nÃ­ plateb",setAsDefaultEvent:"Nastavit jako vÃ½chozÃ­ udÃ¡lost",noEventsYet:"ZatÃ­m Å¾Ã¡dnÃ© udÃ¡losti",noEventsMessage:"VytvoÅ™te svou prvnÃ­ platebnÃ­ udÃ¡lost pro organizaci plateb",deleteEventConfirm:"Opravdu chcete smazat udÃ¡lost",generatePayment:"Generovat Platbu",selection:"VÃ½bÄ›r",account:"ÃšÄet",event:"UdÃ¡lost",selectedConfiguration:"VybranÃ¡ Konfigurace",paymentDetails:"Detaily Platby",usePermanentAmount:"PouÅ¾Ã­t trvalou ÄÃ¡stku",amount:"ÄŒÃ¡stka",amountPlaceholder:"napÅ™. 450.00",message:"ZprÃ¡va",messagePlaceholder:"napÅ™. RegistraÄnÃ­ poplatek",quickGenerate:"âš¡ RychlÃ© GenerovÃ¡nÃ­",generatedPayment:"VygenerovanÃ¡ Platba",variableSymbol:"VariabilnÃ­ Symbol",setupRequired:"NutnÃ¡ Konfigurace",setupRequiredMessage:"ProsÃ­m vytvoÅ™te alespoÅˆ jeden ÃºÄet a jednu udÃ¡lost pÅ™ed generovÃ¡nÃ­m plateb.",noPaymentGenerated:"ZatÃ­m nebyla vygenerovÃ¡na Å¾Ã¡dnÃ¡ platba",noPaymentMessage:"VyplÅˆte formulÃ¡Å™ a kliknÄ›te na generovat pro vytvoÅ™enÃ­ QR kÃ³du platby",downloadQr:"ðŸ’¾ StÃ¡hnout QR",generateAnother:"âœ¨ Generovat DalÅ¡Ã­",copyToClipboard:"KopÃ­rovat",copiedToClipboard:"ZkopÃ­rovÃ¡no do schrÃ¡nky!",paymentHistory:"Historie Plateb",filters:"Filtry",allAccounts:"VÅ¡echny ÃšÄty",allEvents:"VÅ¡echny UdÃ¡losti",noPaymentsFound:"Nenalezeny Å¾Ã¡dnÃ© platby",noPaymentsMessage:"Vygenerujte svou prvnÃ­ platbu pro zobrazenÃ­ zde",date:"Datum",selectPayment:"Vyberte platbu",selectPaymentMessage:'KliknÄ›te na "Zobrazit" u platby pro zobrazenÃ­ detailÅ¯',downloadQrCode:"ðŸ’¾ StÃ¡hnout QR KÃ³d",deletePaymentConfirm:"Opravdu chcete smazat tuto platbu?",syncQueue:"Fronta Synchronizace",retryFailed:"ðŸ”„ Opakovat NeÃºspÄ›Å¡nÃ©",processQueue:"â–¶ï¸ Zpracovat Frontu",processing:"ZpracovÃ¡vÃ¡nÃ­...",pending:"ÄŒekajÃ­cÃ­",failed:"NeÃºspÄ›Å¡nÃ©",acknowledged:"PotvrzenÃ©",noSyncItems:"Å½Ã¡dnÃ© poloÅ¾ky synchronizace",noSyncItemsMessage:"VygenerovanÃ© platby se zde objevÃ­, pokud jsou nakonfigurovanÃ© webhooky",queueItems:"PoloÅ¾ky Fronty",resetAllFlags:"Resetovat VÅ¡echny PÅ™Ã­znaky",paymentId:"ID Platby",status:"Stav",attempts:"Pokusy",created:"VytvoÅ™eno",lastAttempt:"PoslednÃ­ Pokus",actions:"Akce",acknowledge:"âœ“ Potvrdit",viewError:"Zobrazit Chybu",language:"Jazyk",languageAuto:"Automaticky",languageCzech:"ÄŒeÅ¡tina",languageEnglish:"English",footerText:"SPAYD GenerÃ¡tor Plateb â€¢ VÅ¡echna data uloÅ¾ena lokÃ¡lnÄ› v prohlÃ­Å¾eÄi",loading:"NaÄÃ­tÃ¡nÃ­...",initializingApp:"Inicializace aplikace...",error:"Chyba",errorGeneratingPayment:"Chyba pÅ™i generovÃ¡nÃ­ platby",invalidIban:"NeplatnÃ½ formÃ¡t IBAN"},Co={appTitle:"SPAYD Payment Generator",appSubtitle:"Multi-account payment QR code system with automatic symbol generation",tabGenerate:"Generate",tabAccounts:"Accounts",tabEvents:"Events",tabHistory:"History",tabSync:"Sync",add:"Add",edit:"Edit",delete:"Delete",cancel:"Cancel",create:"Create",update:"Update",save:"Save",close:"Close",view:"View",default:"Default",optional:"Optional",required:"Required",accounts:"Bank Accounts",addAccount:"+ Add Account",editAccount:"Edit Account",accountName:"Account Name",accountNamePlaceholder:"e.g., Main Business Account",iban:"IBAN",ibanPlaceholder:"CZ6508000000192000145399",ibanHelp:"Enter the IBAN without spaces (e.g., CZ6508000000192000145399)",currency:"Currency",webhookUrl:"Webhook URL",webhookUrlPlaceholder:"https://api.example.com/webhook",webhookUrlHelp:"URL to send payment notifications (leave empty to disable sync)",setAsDefault:"Set as default account",noAccountsYet:"No accounts yet",noAccountsMessage:"Add your first bank account to start generating payments",deleteAccountConfirm:"Are you sure you want to delete account",events:"Payment Events",addEvent:"+ Add Event",editEvent:"Edit Event",eventName:"Event Name",eventNamePlaceholder:"e.g., Workshop 2024",staticSymbol:"Static Symbol (SS)",staticSymbolPlaceholder:"e.g., 543",staticSymbolHelp:"Event identifier that stays constant for all payments",variableSymbolMode:"Variable Symbol Mode",vsModeCounter:"Counter (Sequential: 1, 2, 3...)",vsModeTime:"Time-based (YYYYMMDDHHmmss)",vsModeStatic:"Static (Same value)",startingCounter:"Starting Counter Value",staticVsValue:"Static VS Value",staticVsValuePlaceholder:"e.g., 123456",permanentAmount:"Permanent Amount",permanentAmountPlaceholder:"e.g., 450.00",permanentAmountHelp:"Set a recurring amount for quick payment generation",setAsDefaultEvent:"Set as default event",noEventsYet:"No events yet",noEventsMessage:"Create your first payment event to organize payments",deleteEventConfirm:"Are you sure you want to delete event",generatePayment:"Generate Payment",selection:"Selection",account:"Account",event:"Event",selectedConfiguration:"Selected Configuration",paymentDetails:"Payment Details",usePermanentAmount:"Use permanent amount",amount:"Amount",amountPlaceholder:"e.g., 450.00",message:"Message",messagePlaceholder:"e.g., Registration fee",quickGenerate:"âš¡ Quick Generate",generatedPayment:"Generated Payment",variableSymbol:"Variable Symbol",setupRequired:"Setup Required",setupRequiredMessage:"Please create at least one account and one event before generating payments.",noPaymentGenerated:"No payment generated yet",noPaymentMessage:"Fill in the form and click generate to create a payment QR code",downloadQr:"ðŸ’¾ Download QR",generateAnother:"âœ¨ Generate Another",copyToClipboard:"Copy",copiedToClipboard:"Copied to clipboard!",paymentHistory:"Payment History",filters:"Filters",allAccounts:"All Accounts",allEvents:"All Events",noPaymentsFound:"No payments found",noPaymentsMessage:"Generate your first payment to see it here",date:"Date",selectPayment:"Select a payment",selectPaymentMessage:'Click "View" on a payment to see details',downloadQrCode:"ðŸ’¾ Download QR Code",deletePaymentConfirm:"Are you sure you want to delete this payment?",syncQueue:"Sync Queue",retryFailed:"ðŸ”„ Retry Failed",processQueue:"â–¶ï¸ Process Queue",processing:"Processing...",pending:"Pending",failed:"Failed",acknowledged:"Acknowledged",noSyncItems:"No sync items",noSyncItemsMessage:"Generated payments will appear here if webhooks are configured",queueItems:"Queue Items",resetAllFlags:"Reset All Flags",paymentId:"Payment ID",status:"Status",attempts:"Attempts",created:"Created",lastAttempt:"Last Attempt",actions:"Actions",acknowledge:"âœ“ Ack",viewError:"View Error",language:"Language",languageAuto:"Automatic",languageCzech:"ÄŒeÅ¡tina",languageEnglish:"English",footerText:"SPAYD Payment Generator â€¢ All data stored locally in your browser",loading:"Loading...",initializingApp:"Initializing application...",error:"Error",errorGeneratingPayment:"Failed to generate payment",invalidIban:"Invalid IBAN format"},Io={cs:So,en:Co};function rn(){return(navigator.language||navigator.userLanguage).toLowerCase().startsWith("cs")?"cs":"en"}function et(e){return Io[e]}const Vn=Fr(null);function Bo({children:e}){const[t,n]=R("en"),[o,s]=R("auto"),[a,i]=R(et("en"));ae(()=>{c()},[]);async function c(){console.log("[I18n] Loading language preference from IndexedDB");const f=await aa("language");console.log("[I18n] Saved language preference:",f);let p;f==="auto"||!f?(p=rn(),console.log("[I18n] Using auto-detected language:",p)):(p=f,console.log("[I18n] Using saved language:",p)),s(f||"auto"),n(p),i(et(p)),console.log("[I18n] Applied locale:",p)}async function u(f){console.log("[I18n] Setting new locale preference:",f),await oa("language",f),console.log("[I18n] Saved to IndexedDB");const p=f==="auto"?rn():f;console.log("[I18n] Effective locale:",p),s(f),n(p),i(et(p)),console.log("[I18n] Applied translations for:",p)}return r(Vn.Provider,{value:{locale:t,savedPreference:o,t:a,setLocale:u},children:e})}function It(){const e=Gr(Vn);if(!e)throw new Error("useI18n must be used within I18nProvider");return e}function an(){const{savedPreference:e,t,setLocale:n}=It();async function o(s){const a=s.target.value;console.log("[LanguageSwitcher] User selected:",a),await n(a)}return r("div",{className:"language-switcher",style:{display:"inline-flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[r("label",{htmlFor:"language-select",className:"text-sm text-secondary",children:[t.language,":"]}),r("select",{id:"language-select",value:e,onChange:o,className:"language-select",style:{minWidth:"120px"},children:[r("option",{value:"auto",children:t.languageAuto}),r("option",{value:"cs",children:t.languageCzech}),r("option",{value:"en",children:t.languageEnglish})]})]})}function Po({activeView:e,onNavigate:t}){const{t:n}=It(),[o,s]=R(!1),a=[{id:"generate",label:n.tabGenerate,icon:"ðŸ’³"},{id:"accounts",label:n.tabAccounts,icon:"ðŸ¦"},{id:"events",label:n.tabEvents,icon:"ðŸ“…"},{id:"history",label:n.tabHistory,icon:"ðŸ“œ"},{id:"sync",label:n.tabSync,icon:"ðŸ”„"}],i=c=>{t(c),s(!1)};return r(j,{children:[r("button",{className:`hamburger-icon ${o?"open":""}`,onClick:()=>s(!o),"aria-label":"Toggle menu",children:[r("span",{className:`hamburger-line ${o?"open":""}`}),r("span",{className:`hamburger-line ${o?"open":""}`}),r("span",{className:`hamburger-line ${o?"open":""}`})]}),o&&r("div",{className:"menu-overlay",onClick:()=>s(!1)}),r("nav",{className:`slide-menu ${o?"open":""}`,children:[r("ul",{className:"menu-list",children:a.map(c=>r("li",{children:r("button",{className:`menu-item ${e===c.id?"active":""}`,onClick:()=>i(c.id),children:[r("span",{className:"menu-icon",children:c.icon}),r("span",{className:"menu-label",children:c.label})]})},c.id))}),r("div",{className:"menu-footer",children:r(an,{})})]}),r("nav",{className:"desktop-menu",children:[a.map(c=>r("button",{className:`desktop-menu-item ${e===c.id?"active":""}`,onClick:()=>t(c.id),children:[r("span",{className:"menu-icon",children:c.icon}),r("span",{className:"menu-label",children:c.label})]},c.id)),r("div",{className:"desktop-menu-separator"}),r("div",{className:"desktop-menu-language",children:r(an,{})})]})]})}function xo({onComplete:e}){const[t,n]=R("choice"),[o,s]=R(""),[a,i]=R(""),[c,u]=R("CZK"),[f,p]=R(""),[m,A]=R(""),[v,b]=R(""),[w,N]=R("counter"),[S,y]=R(""),[C,I]=R(""),[x,B]=R(!1),[T,k]=R(null);async function F(){B(!0);try{await sa(),e()}catch(U){k("Failed to load demo data: "+(U instanceof Error?U.message:"Unknown error")),B(!1)}}async function H(U){if(U.preventDefault(),p(""),!Nn(a)){p("Please enter a valid IBAN");return}B(!0);try{const E=Date.now();await yt({name:o,iban:a.replace(/\s/g,"").toUpperCase(),currency:c,isDefault:!0,createdAt:E,updatedAt:E}),n("event")}catch(E){p(E instanceof Error?E.message:"Failed to create account")}finally{B(!1)}}async function V(U){if(U.preventDefault(),I(""),!/^\d{1,4}$/.test(v)){I("Static symbol must be 1-4 digits");return}B(!0);try{const E=Date.now();await vt({name:m,staticSymbol:v,vsMode:w,vsCounter:1,vsStaticValue:w==="static"?"1":void 0,permanentAmount:S?parseFloat(S):void 0,isDefault:!0,createdAt:E,updatedAt:E}),e()}catch(E){I(E instanceof Error?E.message:"Failed to create event")}finally{B(!1)}}return r("div",{className:"config-wizard",children:[r("div",{className:"wizard-container",children:[r("div",{className:"wizard-header",children:r("h1",{children:"Welcome to SPAYD Generator"})}),t==="choice"&&r("div",{className:"wizard-content fade-in",children:[r("p",{className:"wizard-intro",children:"To get started, you need at least one bank account and one event."}),r("div",{className:"choice-container",children:[r("button",{className:"choice-card",onClick:F,disabled:x,type:"button",children:[r("div",{className:"choice-icon",children:"ðŸŽ¯"}),r("h3",{children:"Use Demo Data"}),r("p",{children:"Start quickly with sample accounts and events. Perfect for testing!"})]}),r("button",{className:"choice-card",onClick:()=>n("account"),disabled:x,type:"button",children:[r("div",{className:"choice-icon",children:"âœï¸"}),r("h3",{children:"Create Your Own"}),r("p",{children:"Set up your own bank account and event from scratch."})]})]})]}),t==="account"&&r("div",{className:"wizard-step fade-in",children:[r("div",{className:"step-icon",children:"ðŸ¦"}),r("h2",{className:"step-title",children:"Create Your First Account"}),r("p",{className:"step-description",children:"Add the bank account where you'll receive payments"}),r("form",{onSubmit:H,children:[r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Account Name"}),r("input",{type:"text",value:o,onInput:U=>s(U.target.value),placeholder:"e.g., Main Business Account",required:!0,autoFocus:!0})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"IBAN"}),r("input",{type:"text",value:a,onInput:U=>i(U.target.value),placeholder:"e.g., CZ65 0800 0000 1920 0014 5399",required:!0}),r("div",{className:"form-help",children:"Include spaces for easier reading"})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Currency"}),r("select",{value:c,onChange:U=>u(U.target.value),required:!0,children:[r("option",{value:"CZK",children:"CZK - Czech Koruna"}),r("option",{value:"EUR",children:"EUR - Euro"}),r("option",{value:"USD",children:"USD - US Dollar"}),r("option",{value:"GBP",children:"GBP - British Pound"})]})]}),f&&r("div",{className:"form-error",children:f}),r("button",{type:"submit",className:"btn btn-primary btn-lg wizard-button",disabled:x,children:x?r(j,{children:[r("div",{className:"spinner"}),"Creating..."]}):"Continue to Event â†’"})]})]}),t==="event"&&r("div",{className:"wizard-step fade-in",children:[r("div",{className:"step-icon",children:"ðŸ“…"}),r("h2",{className:"step-title",children:"Create Your First Event"}),r("p",{className:"step-description",children:"Events help organize payments by purpose (e.g., workshop fees, memberships)"}),r("form",{onSubmit:V,children:[r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Event Name"}),r("input",{type:"text",value:m,onInput:U=>A(U.target.value),placeholder:"e.g., Workshop 2024",required:!0,autoFocus:!0})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Static Symbol (SS)"}),r("input",{type:"text",value:v,onInput:U=>b(U.target.value),placeholder:"e.g., 543",maxLength:4,required:!0}),r("div",{className:"form-help",children:"1-4 digits to identify this event"})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Variable Symbol (VS) Mode"}),r("select",{value:w,onChange:U=>N(U.target.value),required:!0,children:[r("option",{value:"counter",children:"Counter - Auto-increment (e.g., 1, 2, 3...)"}),r("option",{value:"time",children:"Timestamp - Based on generation time"}),r("option",{value:"static",children:"Static - Always the same value"})]}),r("div",{className:"form-help",children:"How to generate variable symbols for payments"})]}),r("div",{className:"form-group",children:[r("label",{className:"form-label",children:"Default Amount (Optional)"}),r("input",{type:"number",step:"0.01",value:S,onInput:U=>y(U.target.value),placeholder:"e.g., 450.00"}),r("div",{className:"form-help",children:"Set a standard price for this event"})]}),C&&r("div",{className:"form-error",children:C}),r("div",{className:"wizard-actions",children:[r("button",{type:"button",className:"btn btn-secondary",onClick:()=>n("account"),disabled:x,children:"â† Back"}),r("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:x,children:x?r(j,{children:[r("div",{className:"spinner"}),"Creating..."]}):"Complete Setup âœ¨"})]})]})]})]}),T&&r(Bn,{message:T,onClose:()=>k(null)})]})}function Eo(){const{t:e}=It(),[t,n]=R("generate"),[o,s]=R(!1),[a,i]=R(!1);ae(()=>{J().then(async()=>{const u=await ge(),f=await me();u.length===0||f.length===0?i(!0):i(!1),s(!0);const p=No(3e4);return()=>{typeof p=="number"&&clearInterval(p)}}).catch(u=>{console.error("Failed to initialize database:",u),alert("Failed to initialize database. Please refresh the page.")})},[]);async function c(){const u=await ge(),f=await me();u.length>0&&f.length>0&&(i(!1),n("generate"))}return o?a?r(xo,{onComplete:c}):r("div",{className:"app-container",children:[r("header",{className:"app-header",children:r("div",{className:"header-content",children:[r("h1",{className:"app-title",children:e.appTitle}),r(Po,{activeView:t,onNavigate:u=>n(u)})]})}),r("main",{className:"app-main",children:[t==="generate"&&r(yo,{}),t==="accounts"&&r(_a,{}),t==="events"&&r(Aa,{}),t==="history"&&r(vo,{}),t==="sync"&&r(wo,{})]}),r("footer",{className:"app-footer",children:r("p",{children:e.footerText})})]}):r("div",{className:"container",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r("div",{style:{textAlign:"center"},children:[r("div",{className:"spinner",style:{width:"3rem",height:"3rem",margin:"0 auto 1rem"}}),r("div",{className:"text-lg",children:e.initializingApp})]})})}Zr(r(Bo,{children:r(Eo,{})}),document.getElementById("app"));
